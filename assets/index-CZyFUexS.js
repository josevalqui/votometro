(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(o){if(o.ep)return;o.ep=!0;const f=i(o);fetch(o.href,f)}})();var mf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function mE(){if(Np)return Nl;Np=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,f){var m=null;if(f!==void 0&&(m=""+f),o.key!==void 0&&(m=""+o.key),"key"in o){f={};for(var v in o)v!=="key"&&(f[v]=o[v])}else f=o;return o=f.ref,{$$typeof:s,type:a,key:m,ref:o!==void 0?o:null,props:f}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Mp;function gE(){return Mp||(Mp=1,mf.exports=mE()),mf.exports}var G=gE(),gf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function pE(){if(Vp)return vt;Vp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),U=Symbol.iterator;function H(D){return D===null||typeof D!="object"?null:(D=U&&D[U]||D["@@iterator"],typeof D=="function"?D:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,ot={};function et(D,K,st){this.props=D,this.context=K,this.refs=ot,this.updater=st||$}et.prototype.isReactComponent={},et.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},et.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=et.prototype;function ht(D,K,st){this.props=D,this.context=K,this.refs=ot,this.updater=st||$}var pt=ht.prototype=new Tt;pt.constructor=ht,X(pt,et.prototype),pt.isPureReactComponent=!0;var Pt=Array.isArray,dt={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function V(D,K,st,W,tt,gt){return st=gt.ref,{$$typeof:s,type:D,key:K,ref:st!==void 0?st:null,props:gt}}function w(D,K){return V(D.type,K,void 0,void 0,void 0,D.props)}function S(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function C(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return K[st]})}var A=/\/+/g;function O(D,K){return typeof D=="object"&&D!==null&&D.key!=null?C(""+D.key):K.toString(36)}function b(){}function Ht(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(b,b):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function qt(D,K,st,W,tt){var gt=typeof D;(gt==="undefined"||gt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(gt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case s:case e:yt=!0;break;case I:return yt=D._init,qt(yt(D._payload),K,st,W,tt)}}if(yt)return tt=tt(D),yt=W===""?"."+O(D,0):W,Pt(tt)?(st="",yt!=null&&(st=yt.replace(A,"$&/")+"/"),qt(tt,K,st,"",function(te){return te})):tt!=null&&(S(tt)&&(tt=w(tt,st+(tt.key==null||D&&D.key===tt.key?"":(""+tt.key).replace(A,"$&/")+"/")+yt)),K.push(tt)),1;yt=0;var ue=W===""?".":W+":";if(Pt(D))for(var Vt=0;Vt<D.length;Vt++)W=D[Vt],gt=ue+O(W,Vt),yt+=qt(W,K,st,gt,tt);else if(Vt=H(D),typeof Vt=="function")for(D=Vt.call(D),Vt=0;!(W=D.next()).done;)W=W.value,gt=ue+O(W,Vt++),yt+=qt(W,K,st,gt,tt);else if(gt==="object"){if(typeof D.then=="function")return qt(Ht(D),K,st,W,tt);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return yt}function J(D,K,st){if(D==null)return D;var W=[],tt=0;return qt(D,W,"","",function(gt){return K.call(st,gt,tt++)}),W}function nt(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var it=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Dt(){}return vt.Children={map:J,forEach:function(D,K,st){J(D,function(){K.apply(this,arguments)},st)},count:function(D){var K=0;return J(D,function(){K++}),K},toArray:function(D){return J(D,function(K){return K})||[]},only:function(D){if(!S(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},vt.Component=et,vt.Fragment=i,vt.Profiler=o,vt.PureComponent=ht,vt.StrictMode=a,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cloneElement=function(D,K,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=X({},D.props),tt=D.key,gt=void 0;if(K!=null)for(yt in K.ref!==void 0&&(gt=void 0),K.key!==void 0&&(tt=""+K.key),K)!wt.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(W[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)W.children=st;else if(1<yt){for(var ue=Array(yt),Vt=0;Vt<yt;Vt++)ue[Vt]=arguments[Vt+2];W.children=ue}return V(D.type,tt,void 0,void 0,gt,W)},vt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:f,_context:D},D},vt.createElement=function(D,K,st){var W,tt={},gt=null;if(K!=null)for(W in K.key!==void 0&&(gt=""+K.key),K)wt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=K[W]);var yt=arguments.length-2;if(yt===1)tt.children=st;else if(1<yt){for(var ue=Array(yt),Vt=0;Vt<yt;Vt++)ue[Vt]=arguments[Vt+2];tt.children=ue}if(D&&D.defaultProps)for(W in yt=D.defaultProps,yt)tt[W]===void 0&&(tt[W]=yt[W]);return V(D,gt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:v,render:D}},vt.isValidElement=S,vt.lazy=function(D){return{$$typeof:I,_payload:{_status:-1,_result:D},_init:nt}},vt.memo=function(D,K){return{$$typeof:_,type:D,compare:K===void 0?null:K}},vt.startTransition=function(D){var K=dt.T,st={};dt.T=st;try{var W=D(),tt=dt.S;tt!==null&&tt(st,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Dt,it)}catch(gt){it(gt)}finally{dt.T=K}},vt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},vt.use=function(D){return dt.H.use(D)},vt.useActionState=function(D,K,st){return dt.H.useActionState(D,K,st)},vt.useCallback=function(D,K){return dt.H.useCallback(D,K)},vt.useContext=function(D){return dt.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,K){return dt.H.useDeferredValue(D,K)},vt.useEffect=function(D,K){return dt.H.useEffect(D,K)},vt.useId=function(){return dt.H.useId()},vt.useImperativeHandle=function(D,K,st){return dt.H.useImperativeHandle(D,K,st)},vt.useInsertionEffect=function(D,K){return dt.H.useInsertionEffect(D,K)},vt.useLayoutEffect=function(D,K){return dt.H.useLayoutEffect(D,K)},vt.useMemo=function(D,K){return dt.H.useMemo(D,K)},vt.useOptimistic=function(D,K){return dt.H.useOptimistic(D,K)},vt.useReducer=function(D,K,st){return dt.H.useReducer(D,K,st)},vt.useRef=function(D){return dt.H.useRef(D)},vt.useState=function(D){return dt.H.useState(D)},vt.useSyncExternalStore=function(D,K,st){return dt.H.useSyncExternalStore(D,K,st)},vt.useTransition=function(){return dt.H.useTransition()},vt.version="19.0.0",vt}var xp;function Jf(){return xp||(xp=1,gf.exports=pE()),gf.exports}var tn=Jf(),pf={exports:{}},Ml={},yf={exports:{}},vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function yE(){return Up||(Up=1,function(s){function e(J,nt){var it=J.length;J.push(nt);t:for(;0<it;){var Dt=it-1>>>1,D=J[Dt];if(0<o(D,nt))J[Dt]=nt,J[it]=D,it=Dt;else break t}}function i(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var nt=J[0],it=J.pop();if(it!==nt){J[0]=it;t:for(var Dt=0,D=J.length,K=D>>>1;Dt<K;){var st=2*(Dt+1)-1,W=J[st],tt=st+1,gt=J[tt];if(0>o(W,it))tt<D&&0>o(gt,W)?(J[Dt]=gt,J[tt]=it,Dt=tt):(J[Dt]=W,J[st]=it,Dt=st);else if(tt<D&&0>o(gt,it))J[Dt]=gt,J[tt]=it,Dt=tt;else break t}}return nt}function o(J,nt){var it=J.sortIndex-nt.sortIndex;return it!==0?it:J.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var m=Date,v=m.now();s.unstable_now=function(){return m.now()-v}}var y=[],_=[],I=1,U=null,H=3,$=!1,X=!1,ot=!1,et=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function pt(J){for(var nt=i(_);nt!==null;){if(nt.callback===null)a(_);else if(nt.startTime<=J)a(_),nt.sortIndex=nt.expirationTime,e(y,nt);else break;nt=i(_)}}function Pt(J){if(ot=!1,pt(J),!X)if(i(y)!==null)X=!0,Ht();else{var nt=i(_);nt!==null&&qt(Pt,nt.startTime-J)}}var dt=!1,wt=-1,V=5,w=-1;function S(){return!(s.unstable_now()-w<V)}function C(){if(dt){var J=s.unstable_now();w=J;var nt=!0;try{t:{X=!1,ot&&(ot=!1,Tt(wt),wt=-1),$=!0;var it=H;try{e:{for(pt(J),U=i(y);U!==null&&!(U.expirationTime>J&&S());){var Dt=U.callback;if(typeof Dt=="function"){U.callback=null,H=U.priorityLevel;var D=Dt(U.expirationTime<=J);if(J=s.unstable_now(),typeof D=="function"){U.callback=D,pt(J),nt=!0;break e}U===i(y)&&a(y),pt(J)}else a(y);U=i(y)}if(U!==null)nt=!0;else{var K=i(_);K!==null&&qt(Pt,K.startTime-J),nt=!1}}break t}finally{U=null,H=it,$=!1}nt=void 0}}finally{nt?A():dt=!1}}}var A;if(typeof ht=="function")A=function(){ht(C)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,b=O.port2;O.port1.onmessage=C,A=function(){b.postMessage(null)}}else A=function(){et(C,0)};function Ht(){dt||(dt=!0,A())}function qt(J,nt){wt=et(function(){J(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_continueExecution=function(){X||$||(X=!0,Ht())},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return H},s.unstable_getFirstCallbackNode=function(){return i(y)},s.unstable_next=function(J){switch(H){case 1:case 2:case 3:var nt=3;break;default:nt=H}var it=H;H=nt;try{return J()}finally{H=it}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(J,nt){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var it=H;H=J;try{return nt()}finally{H=it}},s.unstable_scheduleCallback=function(J,nt,it){var Dt=s.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?Dt+it:Dt):it=Dt,J){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=it+D,J={id:I++,callback:nt,priorityLevel:J,startTime:it,expirationTime:D,sortIndex:-1},it>Dt?(J.sortIndex=it,e(_,J),i(y)===null&&J===i(_)&&(ot?(Tt(wt),wt=-1):ot=!0,qt(Pt,it-Dt))):(J.sortIndex=D,e(y,J),X||$||(X=!0,Ht())),J},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(J){var nt=H;return function(){var it=H;H=nt;try{return J.apply(this,arguments)}finally{H=it}}}}(vf)),vf}var kp;function vE(){return kp||(kp=1,yf.exports=yE()),yf.exports}var _f={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function _E(){if(Lp)return je;Lp=1;var s=Jf();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)_+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(y,_,I){var U=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:U==null?null:""+U,children:y,containerInfo:_,implementation:I}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(y,_){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(y,_,null,I)},je.flushSync=function(y){var _=m.T,I=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=_,a.p=I,a.d.f()}},je.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},je.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},je.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var I=_.as,U=v(I,_.crossOrigin),H=typeof _.integrity=="string"?_.integrity:void 0,$=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;I==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:U,integrity:H,fetchPriority:$}):I==="script"&&a.d.X(y,{crossOrigin:U,integrity:H,fetchPriority:$,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var I=v(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},je.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var I=_.as,U=v(I,_.crossOrigin);a.d.L(y,I,{crossOrigin:U,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(y,_){if(typeof y=="string")if(_){var I=v(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},je.requestFormReset=function(y){a.d.r(y)},je.unstable_batchedUpdates=function(y,_){return y(_)},je.useFormState=function(y,_,I){return m.H.useFormState(y,_,I)},je.useFormStatus=function(){return m.H.useHostTransitionStatus()},je.version="19.0.0",je}var Pp;function EE(){if(Pp)return _f.exports;Pp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=_E(),_f.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zp;function TE(){if(zp)return Ml;zp=1;var s=vE(),e=Jf(),i=EE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),H=Symbol.for("react.consumer"),$=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),ot=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Tt=Symbol.for("react.memo"),ht=Symbol.for("react.lazy"),pt=Symbol.for("react.offscreen"),Pt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function wt(t){return t===null||typeof t!="object"?null:(t=dt&&t[dt]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function w(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case y:return"Fragment";case v:return"Portal";case I:return"Profiler";case _:return"StrictMode";case ot:return"Suspense";case et:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $:return(t.displayName||"Context")+".Provider";case H:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Tt:return n=t.displayName||null,n!==null?n:w(t.type)||"Memo";case ht:n=t._payload,t=t._init;try{return w(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,A,O;function b(t){if(A===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);A=n&&n[1]||"",O=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+A+t+O}var Ht=!1;function qt(t,n){if(!t||Ht)return"";Ht=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(B){var P=B}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(B){P=B}t.call(Q.prototype)}}else{try{throw Error()}catch(B){P=B}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(B){if(B&&P&&typeof B.stack=="string")return[B.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),p=h[0],E=h[1];if(p&&E){var R=p.split(`
`),M=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<M.length&&!M[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===M.length)for(l=R.length-1,c=M.length-1;1<=l&&0<=c&&R[l]!==M[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==M[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==M[c]){var j=`
`+R[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{Ht=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?b(r):""}function J(t){switch(t.tag){case 26:case 27:case 5:return b(t.type);case 16:return b("Lazy");case 13:return b("Suspense");case 19:return b("SuspenseList");case 0:case 15:return t=qt(t.type,!1),t;case 11:return t=qt(t.type.render,!1),t;case 1:return t=qt(t.type,!0),t;default:return""}}function nt(t){try{var n="";do n+=J(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function it(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Dt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function D(t){if(it(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=it(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return D(c),t;if(h===l)return D(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var p=!1,E=c.child;E;){if(E===r){p=!0,r=c,l=h;break}if(E===l){p=!0,l=c,r=h;break}E=E.sibling}if(!p){for(E=h.child;E;){if(E===r){p=!0,r=h,l=c;break}if(E===l){p=!0,l=h,r=c;break}E=E.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function st(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=st(t),n!==null)return n;t=t.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},yt=[],ue=-1;function Vt(t){return{current:t}}function te(t){0>ue||(t.current=yt[ue],yt[ue]=null,ue--)}function Bt(t,n){ue++,yt[ue]=t.current,t.current=n}var Fe=Vt(null),si=Vt(null),fn=Vt(null),Li=Vt(null);function Pi(t,n){switch(Bt(fn,n),Bt(si,t),Bt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ap(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ap(t),n=lp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),Bt(Fe,n)}function ai(){te(Fe),te(si),te(fn)}function wa(t){t.memoizedState!==null&&Bt(Li,t);var n=Fe.current,r=lp(n,t.type);n!==r&&(Bt(si,t),Bt(Fe,r))}function As(t){si.current===t&&(te(Fe),te(si)),Li.current===t&&(te(Li),wl._currentValue=gt)}var Ss=Object.prototype.hasOwnProperty,Nr=s.unstable_scheduleCallback,bs=s.unstable_cancelCallback,gc=s.unstable_shouldYield,Ca=s.unstable_requestPaint,Ze=s.unstable_now,eo=s.unstable_getCurrentPriorityLevel,me=s.unstable_ImmediatePriority,Te=s.unstable_UserBlockingPriority,li=s.unstable_NormalPriority,no=s.unstable_LowPriority,Da=s.unstable_IdlePriority,pc=s.log,Mr=s.unstable_setDisableYieldValue,zi=null,ze=null;function Oa(t){if(ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof pc=="function"&&Mr(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(zi,t)}catch{}}var Qe=Math.clz32?Math.clz32:ro,Ia=Math.log,io=Math.LN2;function ro(t){return t>>>=0,t===0?32:31-(Ia(t)/io|0)|0}var Bn=128,Bi=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function dn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,h=t.pingedLanes,p=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=On(r):(h&=E,h!==0?l=On(h):t||(p=E&~p,p!==0&&(l=On(p))))):(E=r&~c,E!==0?l=On(E):h!==0?l=On(h):t||(p=r&~p,p!==0&&(l=On(p)))),l===0?0:n!==0&&n!==l&&(n&c)===0&&(c=l&-l,p=n&-n,c>=p||c===32&&(p&4194176)!==0)?n:l}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Na(){var t=Bn;return Bn<<=1,(Bn&4194176)===0&&(Bn=128),t}function Hi(){var t=Bi;return Bi<<=1,(Bi&62914560)===0&&(Bi=4194304),t}function ws(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function le(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function so(t,n,r,l,c,h){var p=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,M=t.hiddenUpdates;for(r=p&~r;0<r;){var j=31-Qe(r),Q=1<<j;E[j]=0,R[j]=-1;var P=M[j];if(P!==null)for(M[j]=null,j=0;j<P.length;j++){var B=P[j];B!==null&&(B.lane&=-536870913)}r&=~Q}l!==0&&qi(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(p&~n))}function qi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Gi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Qe(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function ao(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function lo(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Rp(t.type))}function Fi(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var jn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+jn,ge="__reactProps$"+jn,oi="__reactContainer$"+jn,Vr="__reactEvents$"+jn,Cs="__reactListeners$"+jn,Hn="__reactHandles$"+jn,Ma="__reactResources$"+jn,Qi="__reactMarker$"+jn;function xr(t){delete t[Ae],delete t[ge],delete t[Vr],delete t[Cs],delete t[Hn]}function In(t){var n=t[Ae];if(n)return n;for(var r=t.parentNode;r;){if(n=r[oi]||r[Ae]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=cp(t);t!==null;){if(r=t[Ae])return r;t=cp(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[Ae]||t[oi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ki(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Yi(t){var n=t[Ma];return n||(n=t[Ma]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Qi]=!0}var Va=new Set,Ds={};function sn(t,n){Je(t,n),Je(t+"Capture",n)}function Je(t,n){for(Ds[t]=n,t=0;t<n.length;t++)Va.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xa={},Ua={};function oo(t){return Ss.call(Ua,t)?!0:Ss.call(xa,t)?!1:yc.test(t)?Ua[t]=!0:(xa[t]=!0,!1)}function Xi(t,n,r){if(oo(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function $i(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function mn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vc(t){var n=uo(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){l=""+p,h.call(this,p)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ur(t){t._valueTracker||(t._valueTracker=vc(t))}function ka(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=uo(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Os(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ci=/[\n"\\]/g;function ee(t){return t.replace(ci,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zi(t,n,r,l,c,h,p,E){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),n!=null?p==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),n!=null?Is(t,p,Ke(n)):r!=null?Is(t,p,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function kr(t,n,r,l,c,h,p,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p)}function Is(t,n,r){n==="number"&&Os(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function xt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Lr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Ji(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(W(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function gn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var _c=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function La(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||_c.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function co(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&La(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&La(t,h,n[h])}function Pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ec=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qn(t){return Tc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var pn=null;function Ns(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hi=null,fi=null;function di(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ge]||null;t:switch(t=n.stateNode,n.type){case"input":if(Zi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ge]||null;if(!c)throw Error(a(90));Zi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&ka(l)}break t;case"textarea":Lr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&xt(t,!!r.multiple,n,!1)}}}var za=!1;function ho(t,n,r){if(za)return t(n,r);za=!0;try{var l=t(n);return l}finally{if(za=!1,(hi!==null||fi!==null)&&(iu(),hi&&(n=hi,t=fi,fi=hi=null,di(n),t)))for(n=0;n<t.length;n++)di(t[n])}}function Pr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ge]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var yn=!1;if(an)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{yn=!1}var Gn=null,Wi=null,mi=null;function Ba(){if(mi)return mi;var t,n=Wi,r=n.length,l,c="value"in Gn?Gn.value:Gn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var p=r-t;for(l=1;l<=p&&n[r-l]===c[h-l];l++);return mi=c.slice(t,1<l?1-l:void 0)}function Fn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function ja(){return!1}function Se(t){function n(r,l,c,h,p){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qn:ja,this.isPropagationStopped=ja,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Se(zt),Br=C({},zt,{view:0,detail:0}),fo=Se(Br),Vs,xs,Kn,jr=C({},Br,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Vs=t.screenX-Kn.screenX,xs=t.screenY-Kn.screenY):xs=Vs=0,Kn=t),Vs)},movementY:function(t){return"movementY"in t?t.movementY:xs}}),vn=Se(jr),mo=C({},jr,{dataTransfer:0}),Ac=Se(mo),Hr=C({},Br,{relatedTarget:0}),Us=Se(Hr),Ha=C({},zt,{animationName:0,elapsedTime:0,pseudoElement:0}),ks=Se(Ha),go=C({},zt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ls=Se(go),Sc=C({},zt,{data:0}),qa=Se(Sc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ga(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=yo[t])?!!n[t]:!1}function Gr(){return Ga}var vo=C({},Br,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Fn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?po[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?Fn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ps=Se(vo),_o=C({},jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fa=Se(_o),gi=C({},Br,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),Eo=Se(gi),To=C({},zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ao=Se(To),So=C({},jr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zs=Se(So),Ye=C({},zt,{newState:0,oldState:0}),bo=Se(Ye),Ro=[9,13,27,32],Yn=an&&"CompositionEvent"in window,u=null;an&&"documentMode"in document&&(u=document.documentMode);var d=an&&"TextEvent"in window&&!u,g=an&&(!Yn||u&&8<u&&11>=u),T=" ",k=!1;function z(t,n){switch(t){case"keyup":return Ro.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function pe(t,n){switch(t){case"compositionend":return Z(n);case"keypress":return n.which!==32?null:(k=!0,T);case"textInput":return t=n.data,t===T&&k?null:t;default:return null}}function It(t,n){if(Ot)return t==="compositionend"||!Yn&&z(t,n)?(t=Ba(),mi=Wi=Gn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return g&&n.locale!=="ko"?null:n.data;default:return null}}var be={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ye(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!be[t.type]:n==="textarea"}function pi(t,n,r,l){hi?fi?fi.push(l):fi=[l]:hi=l,n=ou(n,"onChange"),0<n.length&&(r=new Ms("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Ne=null,Xn=null;function Qa(t){ep(t,0)}function wo(t){var n=Ki(t);if(ka(n))return t}function Id(t,n){if(t==="change")return n}var Nd=!1;if(an){var bc;if(an){var Rc="oninput"in document;if(!Rc){var Md=document.createElement("div");Md.setAttribute("oninput","return;"),Rc=typeof Md.oninput=="function"}bc=Rc}else bc=!1;Nd=bc&&(!document.documentMode||9<document.documentMode)}function Vd(){Ne&&(Ne.detachEvent("onpropertychange",xd),Xn=Ne=null)}function xd(t){if(t.propertyName==="value"&&wo(Xn)){var n=[];pi(n,Xn,t,Ns(t)),ho(Qa,n)}}function G_(t,n,r){t==="focusin"?(Vd(),Ne=n,Xn=r,Ne.attachEvent("onpropertychange",xd)):t==="focusout"&&Vd()}function F_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wo(Xn)}function Q_(t,n){if(t==="click")return wo(n)}function K_(t,n){if(t==="input"||t==="change")return wo(n)}function Y_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:Y_;function Ka(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Ss.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function Ud(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kd(t,n){var r=Ud(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ud(r)}}function Ld(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ld(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Pd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Os(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Os(t.document)}return n}function wc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function X_(t,n){var r=Pd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Ld(n.ownerDocument.documentElement,n)){if(l!==null&&wc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!r.extend&&h>l&&(c=l,l=h,h=c),c=kd(n,h);var p=kd(n,l);c&&p&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==p.node||r.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),h>l?(r.addRange(t),r.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var $_=an&&"documentMode"in document&&11>=document.documentMode,Bs=null,Cc=null,Ya=null,Dc=!1;function zd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Dc||Bs==null||Bs!==Os(l)||(l=Bs,"selectionStart"in l&&wc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ya&&Ka(Ya,l)||(Ya=l,l=ou(Cc,"onSelect"),0<l.length&&(n=new Ms("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Bs)))}function Fr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var js={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Oc={},Bd={};an&&(Bd=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function Qr(t){if(Oc[t])return Oc[t];if(!js[t])return t;var n=js[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Bd)return Oc[t]=n[r];return t}var jd=Qr("animationend"),Hd=Qr("animationiteration"),qd=Qr("animationstart"),Z_=Qr("transitionrun"),J_=Qr("transitionstart"),W_=Qr("transitioncancel"),Gd=Qr("transitionend"),Fd=new Map,Qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Nn(t,n){Fd.set(t,n),sn(n,[t])}var _n=[],Hs=0,Ic=0;function Co(){for(var t=Hs,n=Ic=Hs=0;n<t;){var r=_n[n];_n[n++]=null;var l=_n[n];_n[n++]=null;var c=_n[n];_n[n++]=null;var h=_n[n];if(_n[n++]=null,l!==null&&c!==null){var p=l.pending;p===null?c.next=c:(c.next=p.next,p.next=c),l.pending=c}h!==0&&Kd(r,c,h)}}function Do(t,n,r,l){_n[Hs++]=t,_n[Hs++]=n,_n[Hs++]=r,_n[Hs++]=l,Ic|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nc(t,n,r,l){return Do(t,n,r,l),Oo(t)}function tr(t,n){return Do(t,null,null,n),Oo(t)}function Kd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&n!==null&&t.tag===3&&(h=t.stateNode,c=31-Qe(r),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[n]:t.push(n),n.lane=r|536870912)}function Oo(t){if(50<_l)throw _l=0,Lh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qs={},Yd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Yd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:nt(n)},Yd.set(t,n),n)}return{value:t,source:n,stack:nt(n)}}var Gs=[],Fs=0,Io=null,No=0,Tn=[],An=0,Kr=null,yi=1,vi="";function Yr(t,n){Gs[Fs++]=No,Gs[Fs++]=Io,Io=t,No=n}function Xd(t,n,r){Tn[An++]=yi,Tn[An++]=vi,Tn[An++]=Kr,Kr=t;var l=yi;t=vi;var c=32-Qe(l)-1;l&=~(1<<c),r+=1;var h=32-Qe(n)+c;if(30<h){var p=c-c%5;h=(l&(1<<p)-1).toString(32),l>>=p,c-=p,yi=1<<32-Qe(n)+c|r<<c|l,vi=h+t}else yi=1<<h|r<<c|l,vi=t}function Mc(t){t.return!==null&&(Yr(t,1),Xd(t,1,0))}function Vc(t){for(;t===Io;)Io=Gs[--Fs],Gs[Fs]=null,No=Gs[--Fs],Gs[Fs]=null;for(;t===Kr;)Kr=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null,yi=Tn[--An],Tn[An]=null}var Xe=null,Me=null,Ut=!1,Mn=null,$n=!1,xc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw Za(En(n,t)),xc}function $d(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[Ae]=t,n[ge]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Ct(Tl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),kr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ur(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),Ji(n,l.value,l.defaultValue,l.children),Ur(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||sp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=uu),n=!0):n=!1,n||Xr(t)}function Zd(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 3:case 27:$n=!0;return;case 5:case 13:$n=!1;return;default:Xe=Xe.return}}function Xa(t){if(t!==Xe)return!1;if(!Ut)return Zd(t),Ut=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||tf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Me&&Xr(t),Zd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Me=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Me=null}}else Me=Xe?xn(t.stateNode.nextSibling):null;return!0}function $a(){Me=Xe=null,Ut=!1}function Za(t){Mn===null?Mn=[t]:Mn.push(t)}var Ja=Error(a(460)),Jd=Error(a(474)),Uc={then:function(){}};function Wd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Mo(){}function tm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Mo,Mo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ja?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Mo,Mo);else{if(t=Kt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Ja?Error(a(483)):t}throw Wa=n,Ja}}var Wa=null;function em(){if(Wa===null)throw Error(a(459));var t=Wa;return Wa=null,t}var Qs=null,tl=0;function Vo(t){var n=tl;return tl+=1,Qs===null&&(Qs=[]),tm(Qs,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function xo(t,n){throw n.$$typeof===f?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function nm(t){var n=t._init;return n(t._payload)}function im(t){function n(x,N){if(t){var L=x.deletions;L===null?(x.deletions=[N],x.flags|=16):L.push(N)}}function r(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function l(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function c(x,N){return x=fr(x,N),x.index=0,x.sibling=null,x}function h(x,N,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<N?(x.flags|=33554434,N):L):(x.flags|=33554434,N)):(x.flags|=1048576,N)}function p(x){return t&&x.alternate===null&&(x.flags|=33554434),x}function E(x,N,L,q){return N===null||N.tag!==6?(N=Oh(L,x.mode,q),N.return=x,N):(N=c(N,L),N.return=x,N)}function R(x,N,L,q){var rt=L.type;return rt===y?j(x,N,L.props.children,q,L.key):N!==null&&(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ht&&nm(rt)===N.type)?(N=c(N,L.props),el(N,L),N.return=x,N):(N=Jo(L.type,L.key,L.props,null,x.mode,q),el(N,L),N.return=x,N)}function M(x,N,L,q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Ih(L,x.mode,q),N.return=x,N):(N=c(N,L.children||[]),N.return=x,N)}function j(x,N,L,q,rt){return N===null||N.tag!==7?(N=ss(L,x.mode,q,rt),N.return=x,N):(N=c(N,L),N.return=x,N)}function Q(x,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Oh(""+N,x.mode,L),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case m:return L=Jo(N.type,N.key,N.props,null,x.mode,L),el(L,N),L.return=x,L;case v:return N=Ih(N,x.mode,L),N.return=x,N;case ht:var q=N._init;return N=q(N._payload),Q(x,N,L)}if(W(N)||wt(N))return N=ss(N,x.mode,L,null),N.return=x,N;if(typeof N.then=="function")return Q(x,Vo(N),L);if(N.$$typeof===$)return Q(x,Xo(x,N),L);xo(x,N)}return null}function P(x,N,L,q){var rt=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(x,N,""+L,q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case m:return L.key===rt?R(x,N,L,q):null;case v:return L.key===rt?M(x,N,L,q):null;case ht:return rt=L._init,L=rt(L._payload),P(x,N,L,q)}if(W(L)||wt(L))return rt!==null?null:j(x,N,L,q,null);if(typeof L.then=="function")return P(x,N,Vo(L),q);if(L.$$typeof===$)return P(x,N,Xo(x,L),q);xo(x,L)}return null}function B(x,N,L,q,rt){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return x=x.get(L)||null,E(N,x,""+q,rt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case m:return x=x.get(q.key===null?L:q.key)||null,R(N,x,q,rt);case v:return x=x.get(q.key===null?L:q.key)||null,M(N,x,q,rt);case ht:var At=q._init;return q=At(q._payload),B(x,N,L,q,rt)}if(W(q)||wt(q))return x=x.get(L)||null,j(N,x,q,rt,null);if(typeof q.then=="function")return B(x,N,L,Vo(q),rt);if(q.$$typeof===$)return B(x,N,L,Xo(N,q),rt);xo(N,q)}return null}function lt(x,N,L,q){for(var rt=null,At=null,ut=N,ct=N=0,Ce=null;ut!==null&&ct<L.length;ct++){ut.index>ct?(Ce=ut,ut=null):Ce=ut.sibling;var kt=P(x,ut,L[ct],q);if(kt===null){ut===null&&(ut=Ce);break}t&&ut&&kt.alternate===null&&n(x,ut),N=h(kt,N,ct),At===null?rt=kt:At.sibling=kt,At=kt,ut=Ce}if(ct===L.length)return r(x,ut),Ut&&Yr(x,ct),rt;if(ut===null){for(;ct<L.length;ct++)ut=Q(x,L[ct],q),ut!==null&&(N=h(ut,N,ct),At===null?rt=ut:At.sibling=ut,At=ut);return Ut&&Yr(x,ct),rt}for(ut=l(ut);ct<L.length;ct++)Ce=B(ut,x,ct,L[ct],q),Ce!==null&&(t&&Ce.alternate!==null&&ut.delete(Ce.key===null?ct:Ce.key),N=h(Ce,N,ct),At===null?rt=Ce:At.sibling=Ce,At=Ce);return t&&ut.forEach(function(_r){return n(x,_r)}),Ut&&Yr(x,ct),rt}function mt(x,N,L,q){if(L==null)throw Error(a(151));for(var rt=null,At=null,ut=N,ct=N=0,Ce=null,kt=L.next();ut!==null&&!kt.done;ct++,kt=L.next()){ut.index>ct?(Ce=ut,ut=null):Ce=ut.sibling;var _r=P(x,ut,kt.value,q);if(_r===null){ut===null&&(ut=Ce);break}t&&ut&&_r.alternate===null&&n(x,ut),N=h(_r,N,ct),At===null?rt=_r:At.sibling=_r,At=_r,ut=Ce}if(kt.done)return r(x,ut),Ut&&Yr(x,ct),rt;if(ut===null){for(;!kt.done;ct++,kt=L.next())kt=Q(x,kt.value,q),kt!==null&&(N=h(kt,N,ct),At===null?rt=kt:At.sibling=kt,At=kt);return Ut&&Yr(x,ct),rt}for(ut=l(ut);!kt.done;ct++,kt=L.next())kt=B(ut,x,ct,kt.value,q),kt!==null&&(t&&kt.alternate!==null&&ut.delete(kt.key===null?ct:kt.key),N=h(kt,N,ct),At===null?rt=kt:At.sibling=kt,At=kt);return t&&ut.forEach(function(dE){return n(x,dE)}),Ut&&Yr(x,ct),rt}function re(x,N,L,q){if(typeof L=="object"&&L!==null&&L.type===y&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case m:t:{for(var rt=L.key;N!==null;){if(N.key===rt){if(rt=L.type,rt===y){if(N.tag===7){r(x,N.sibling),q=c(N,L.props.children),q.return=x,x=q;break t}}else if(N.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===ht&&nm(rt)===N.type){r(x,N.sibling),q=c(N,L.props),el(q,L),q.return=x,x=q;break t}r(x,N);break}else n(x,N);N=N.sibling}L.type===y?(q=ss(L.props.children,x.mode,q,L.key),q.return=x,x=q):(q=Jo(L.type,L.key,L.props,null,x.mode,q),el(q,L),q.return=x,x=q)}return p(x);case v:t:{for(rt=L.key;N!==null;){if(N.key===rt)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){r(x,N.sibling),q=c(N,L.children||[]),q.return=x,x=q;break t}else{r(x,N);break}else n(x,N);N=N.sibling}q=Ih(L,x.mode,q),q.return=x,x=q}return p(x);case ht:return rt=L._init,L=rt(L._payload),re(x,N,L,q)}if(W(L))return lt(x,N,L,q);if(wt(L)){if(rt=wt(L),typeof rt!="function")throw Error(a(150));return L=rt.call(L),mt(x,N,L,q)}if(typeof L.then=="function")return re(x,N,Vo(L),q);if(L.$$typeof===$)return re(x,N,Xo(x,L),q);xo(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(r(x,N.sibling),q=c(N,L),q.return=x,x=q):(r(x,N),q=Oh(L,x.mode,q),q.return=x,x=q),p(x)):r(x,N)}return function(x,N,L,q){try{tl=0;var rt=re(x,N,L,q);return Qs=null,rt}catch(ut){if(ut===Ja)throw ut;var At=wn(29,ut,null,x.mode);return At.lanes=q,At.return=x,At}finally{}}}var $r=im(!0),rm=im(!1),Ks=Vt(null),Uo=Vt(0);function sm(t,n){t=Oi,Bt(Uo,t),Bt(Ks,n),Oi=t|n.baseLanes}function kc(){Bt(Uo,Oi),Bt(Ks,Ks.current)}function Lc(){Oi=Uo.current,te(Ks),te(Uo)}var Sn=Vt(null),Zn=null;function er(t){var n=t.alternate;Bt(ve,ve.current&1),Bt(Sn,t),Zn===null&&(n===null||Ks.current!==null||n.memoizedState!==null)&&(Zn=t)}function am(t){if(t.tag===22){if(Bt(ve,ve.current),Bt(Sn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else nr()}function nr(){Bt(ve,ve.current),Bt(Sn,Sn.current)}function _i(t){te(Sn),Zn===t&&(Zn=null),te(ve)}var ve=Vt(0);function ko(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var t0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},e0=s.unstable_scheduleCallback,n0=s.unstable_NormalPriority,_e={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pc(){return{controller:new t0,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&e0(n0,function(){t.controller.abort()})}var il=null,zc=0,Ys=0,Xs=null;function i0(t,n){if(il===null){var r=il=[];zc=0,Ys=Fh(),Xs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return zc++,n.then(lm,lm),n}function lm(){if(--zc===0&&il!==null){Xs!==null&&(Xs.status="fulfilled");var t=il;il=null,Ys=0,Xs=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function r0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var om=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&i0(t,n),om!==null&&om(t,n)};var Zr=Vt(null);function Bc(){var t=Zr.current;return t!==null?t:Kt.pooledCache}function Lo(t,n){n===null?Bt(Zr,Zr.current):Bt(Zr,n.pool)}function um(){var t=Bc();return t===null?null:{parent:_e._currentValue,pool:t}}var ir=0,Et=null,Gt=null,ce=null,Po=!1,$s=!1,Jr=!1,zo=0,rl=0,Zs=null,s0=0;function oe(){throw Error(a(321))}function jc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!ln(t[r],n[r]))return!1;return!0}function Hc(t,n,r,l,c,h){return ir=h,Et=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?Wr:rr,Jr=!1,h=r(l,c),Jr=!1,$s&&(h=hm(n,r,l,c)),cm(t),h}function cm(t){S.H=Jn;var n=Gt!==null&&Gt.next!==null;if(ir=0,ce=Gt=Et=null,Po=!1,rl=0,Zs=null,n)throw Error(a(300));t===null||Re||(t=t.dependencies,t!==null&&Yo(t)&&(Re=!0))}function hm(t,n,r,l){Et=t;var c=0;do{if($s&&(Zs=null),rl=0,$s=!1,25<=c)throw Error(a(301));if(c+=1,ce=Gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}S.H=ts,h=n(r,l)}while($s);return h}function a0(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?sl(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(Et.flags|=1024),n}function qc(){var t=zo!==0;return zo=0,t}function Gc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Fc(t){if(Po){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Po=!1}ir=0,ce=Gt=Et=null,$s=!1,rl=zo=0,Zs=null}function We(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?Et.memoizedState=ce=t:ce=ce.next=t,ce}function he(){if(Gt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=ce===null?Et.memoizedState:ce.next;if(n!==null)ce=n,Gt=t;else{if(t===null)throw Et.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ce===null?Et.memoizedState=ce=t:ce=ce.next=t}return ce}var Bo;Bo=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var n=rl;return rl+=1,Zs===null&&(Zs=[]),t=tm(Zs,t,n),n=Et,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?Wr:rr),t}function jo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===$)return Be(t)}throw Error(a(438,String(t)))}function Qc(t){var n=null,r=Et.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Et.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bo(),Et.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=Pt;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Ho(t){var n=he();return Kc(n,Gt,t)}function Kc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=p=null,R=null,M=n,j=!1;do{var Q=M.lane&-536870913;if(Q!==M.lane?(Nt&Q)===Q:(ir&Q)===Q){var P=M.revertLane;if(P===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),Q===Ys&&(j=!0);else if((ir&P)===P){M=M.next,P===Ys&&(j=!0);continue}else Q={lane:0,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=Q,p=h):R=R.next=Q,Et.lanes|=P,dr|=P;Q=M.action,Jr&&r(h,Q),h=M.hasEagerState?M.eagerState:r(h,Q)}else P={lane:Q,revertLane:M.revertLane,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},R===null?(E=R=P,p=h):R=R.next=P,Et.lanes|=Q,dr|=Q;M=M.next}while(M!==null&&M!==n);if(R===null?p=h:R.next=E,!ln(h,t.memoizedState)&&(Re=!0,j&&(r=Xs,r!==null)))throw r;t.memoizedState=h,t.baseState=p,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Yc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var p=c=c.next;do h=t(h,p.action),p=p.next;while(p!==c);ln(h,n.memoizedState)||(Re=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function fm(t,n,r){var l=Et,c=he(),h=Ut;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!ln((Gt||c).memoizedState,r);if(p&&(c.memoizedState=r,Re=!0),c=c.queue,Zc(gm.bind(null,l,c,t),[t]),c.getSnapshot!==n||p||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Js(9,mm.bind(null,l,c,r,n),{destroy:void 0},null),Kt===null)throw Error(a(349));h||(ir&60)!==0||dm(l,n,r)}return r}function dm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Et.updateQueue,n===null?(n=Bo(),Et.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function mm(t,n,r,l){n.value=r,n.getSnapshot=l,pm(n)&&ym(t)}function gm(t,n,r){return r(function(){pm(n)&&ym(t)})}function pm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!ln(t,r)}catch{return!0}}function ym(t){var n=tr(t,2);n!==null&&$e(n,t,2)}function Xc(t){var n=We();if(typeof t=="function"){var r=t;if(t=r(),Jr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function vm(t,n,r,l){return t.baseState=r,Kc(t,Gt,typeof l=="function"?l:Ei)}function l0(t,n,r,l,c){if(Fo(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){h.listeners.push(p)}};S.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,_m(n,h)):(h.next=r.next,n.pending=r.next=h)}}function _m(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=S.T,p={};S.T=p;try{var E=r(c,l),R=S.S;R!==null&&R(p,E),Em(t,n,E)}catch(M){$c(t,n,M)}finally{S.T=h}}else try{h=r(c,l),Em(t,n,h)}catch(M){$c(t,n,M)}}function Em(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Tm(t,n,l)},function(l){return $c(t,n,l)}):Tm(t,n,r)}function Tm(t,n,r){n.status="fulfilled",n.value=r,Am(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,_m(t,r)))}function $c(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Am(n),n=n.next;while(n!==l)}t.action=null}function Am(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Sm(t,n){return n}function bm(t,n){if(Ut){var r=Kt.formState;if(r!==null){t:{var l=Et;if(Ut){if(Me){e:{for(var c=Me,h=$n;c.nodeType!==8;){if(!h){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Me=xn(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=We(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},r.queue=l,r=Hm.bind(null,Et,l),l.dispatch=r,l=Xc(!1),h=nh.bind(null,Et,!1,l.queue),l=We(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=l0.bind(null,Et,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Rm(t){var n=he();return wm(n,Gt,t)}function wm(t,n,r){n=Kc(t,n,Sm)[0],t=Ho(Ei)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?sl(n):n;var l=he(),c=l.queue,h=c.dispatch;return r!==l.memoizedState&&(Et.flags|=2048,Js(9,o0.bind(null,c,r),{destroy:void 0},null)),[n,h,t]}function o0(t,n){t.action=n}function Cm(t){var n=he(),r=Gt;if(r!==null)return wm(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Js(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Et.updateQueue,n===null&&(n=Bo(),Et.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Dm(){return he().memoizedState}function qo(t,n,r,l){var c=We();Et.flags|=t,c.memoizedState=Js(1|n,r,{destroy:void 0},l===void 0?null:l)}function Go(t,n,r,l){var c=he();l=l===void 0?null:l;var h=c.memoizedState.inst;Gt!==null&&l!==null&&jc(l,Gt.memoizedState.deps)?c.memoizedState=Js(n,r,h,l):(Et.flags|=t,c.memoizedState=Js(1|n,r,h,l))}function Om(t,n){qo(8390656,8,t,n)}function Zc(t,n){Go(2048,8,t,n)}function Im(t,n){return Go(4,2,t,n)}function Nm(t,n){return Go(4,4,t,n)}function Mm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Vm(t,n,r){r=r!=null?r.concat([t]):null,Go(4,4,Mm.bind(null,n,t),r)}function Jc(){}function xm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&jc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Um(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&jc(n,l[1]))return l[0];if(l=t(),Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Wc(t,n,r){return r===void 0||(ir&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Lg(),Et.lanes|=t,dr|=t,r)}function km(t,n,r,l){return ln(r,n)?r:Ks.current!==null?(t=Wc(t,r,l),ln(t,n)||(Re=!0),t):(ir&42)===0?(Re=!0,t.memoizedState=r):(t=Lg(),Et.lanes|=t,dr|=t,n)}function Lm(t,n,r,l,c){var h=tt.p;tt.p=h!==0&&8>h?h:8;var p=S.T,E={};S.T=E,nh(t,!1,n,r);try{var R=c(),M=S.S;if(M!==null&&M(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=r0(R,l);al(t,n,j,hn(t))}else al(t,n,l,hn(t))}catch(Q){al(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=h,S.T=p}}function u0(){}function th(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Pm(t).queue;Lm(t,c,n,gt,r===null?u0:function(){return zm(t),r(l)})}function Pm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:gt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function zm(t){var n=Pm(t).next.queue;al(t,n,{},hn())}function eh(){return Be(wl)}function Bm(){return he().memoizedState}function jm(){return he().memoizedState}function c0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();t=lr(r);var l=or(n,t,r);l!==null&&($e(l,n,r),ul(l,n,r)),n={cache:Pc()},t.payload=n;return}n=n.return}}function h0(t,n,r){var l=hn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Fo(t)?qm(n,r):(r=Nc(t,n,r,l),r!==null&&($e(r,t,l),Gm(r,n,l)))}function Hm(t,n,r){var l=hn();al(t,n,r,l)}function al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Fo(t))qm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var p=n.lastRenderedState,E=h(p,r);if(c.hasEagerState=!0,c.eagerState=E,ln(E,p))return Do(t,n,c,0),Kt===null&&Co(),!1}catch{}finally{}if(r=Nc(t,n,c,l),r!==null)return $e(r,t,l),Gm(r,n,l),!0}return!1}function nh(t,n,r,l){if(l={lane:2,revertLane:Fh(),action:l,hasEagerState:!1,eagerState:null,next:null},Fo(t)){if(n)throw Error(a(479))}else n=Nc(t,r,l,2),n!==null&&$e(n,t,2)}function Fo(t){var n=t.alternate;return t===Et||n!==null&&n===Et}function qm(t,n){$s=Po=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Gm(t,n,r){if((r&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}var Jn={readContext:Be,use:jo,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Jn.useCacheRefresh=oe,Jn.useMemoCache=oe,Jn.useHostTransitionStatus=oe,Jn.useFormState=oe,Jn.useActionState=oe,Jn.useOptimistic=oe;var Wr={readContext:Be,use:jo,useCallback:function(t,n){return We().memoizedState=[t,n===void 0?null:n],t},useContext:Be,useEffect:Om,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qo(4194308,4,Mm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qo(4194308,4,t,n)},useInsertionEffect:function(t,n){qo(4,2,t,n)},useMemo:function(t,n){var r=We();n=n===void 0?null:n;var l=t();if(Jr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=We();if(r!==void 0){var c=r(n);if(Jr){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=h0.bind(null,Et,t),[l.memoizedState,t]},useRef:function(t){var n=We();return t={current:t},n.memoizedState=t},useState:function(t){t=Xc(t);var n=t.queue,r=Hm.bind(null,Et,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Jc,useDeferredValue:function(t,n){var r=We();return Wc(r,t,n)},useTransition:function(){var t=Xc(!1);return t=Lm.bind(null,Et,t.queue,!0,!1),We().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Et,c=We();if(Ut){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Kt===null)throw Error(a(349));(Nt&60)!==0||dm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,Om(gm.bind(null,l,h,t),[t]),l.flags|=2048,Js(9,mm.bind(null,l,h,r,n),{destroy:void 0},null),r},useId:function(){var t=We(),n=Kt.identifierPrefix;if(Ut){var r=vi,l=yi;r=(l&~(1<<32-Qe(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=zo++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=s0++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return We().memoizedState=c0.bind(null,Et)}};Wr.useMemoCache=Qc,Wr.useHostTransitionStatus=eh,Wr.useFormState=bm,Wr.useActionState=bm,Wr.useOptimistic=function(t){var n=We();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=nh.bind(null,Et,!0,r),r.dispatch=n,[t,n]};var rr={readContext:Be,use:jo,useCallback:xm,useContext:Be,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Um,useReducer:Ho,useRef:Dm,useState:function(){return Ho(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=he();return km(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Ho(Ei)[0],n=he().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:fm,useId:Bm};rr.useCacheRefresh=jm,rr.useMemoCache=Qc,rr.useHostTransitionStatus=eh,rr.useFormState=Rm,rr.useActionState=Rm,rr.useOptimistic=function(t,n){var r=he();return vm(r,Gt,t,n)};var ts={readContext:Be,use:jo,useCallback:xm,useContext:Be,useEffect:Zc,useImperativeHandle:Vm,useInsertionEffect:Im,useLayoutEffect:Nm,useMemo:Um,useReducer:Yc,useRef:Dm,useState:function(){return Yc(Ei)},useDebugValue:Jc,useDeferredValue:function(t,n){var r=he();return Gt===null?Wc(r,t,n):km(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Yc(Ei)[0],n=he().memoizedState;return[typeof t=="boolean"?t:sl(t),n]},useSyncExternalStore:fm,useId:Bm};ts.useCacheRefresh=jm,ts.useMemoCache=Qc,ts.useHostTransitionStatus=eh,ts.useFormState=Cm,ts.useActionState=Cm,ts.useOptimistic=function(t,n){var r=he();return Gt!==null?vm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function ih(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:C({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var rh={isMounted:function(t){return(t=t._reactInternals)?it(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=hn(),c=lr(l);c.payload=n,r!=null&&(c.callback=r),n=or(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=hn(),c=lr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=or(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=hn(),l=lr(r);l.tag=2,n!=null&&(l.callback=n),n=or(t,l,r),n!==null&&($e(n,t,r),ul(n,t,r))}};function Fm(t,n,r,l,c,h,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,p):n.prototype&&n.prototype.isPureReactComponent?!Ka(r,l)||!Ka(c,h):!0}function Qm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&rh.enqueueReplaceState(n,n.state,null)}function es(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=C({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Qo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Km(t){Qo(t)}function Ym(t){console.error(t)}function Xm(t){Qo(t)}function Ko(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function $m(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function sh(t,n,r){return r=lr(r),r.tag=3,r.payload={element:null},r.callback=function(){Ko(t,n)},r}function Zm(t){return t=lr(t),t.tag=3,t}function Jm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){$m(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){$m(n,r,l),typeof c!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function f0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ol(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return Zn===null?Bh():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Hh(t,l,c)),!1;case 22:return r.flags|=65536,l===Uc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Hh(t,l,c)),!1}throw Error(a(435,r.tag))}return Hh(t,l,c),Bh(),!1}if(Ut)return n=Sn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==xc&&(t=Error(a(422),{cause:l}),Za(En(t,r)))):(l!==xc&&(n=Error(a(423),{cause:l}),Za(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=sh(t.stateNode,l,c),Eh(t,c),ie!==4&&(ie=2)),!1;var h=Error(a(520),{cause:l});if(h=En(h,r),yl===null?yl=[h]:yl.push(h),ie!==4&&(ie=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=sh(r.stateNode,l,t),Eh(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(mr===null||!mr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Zm(c),Jm(c,t,r,l),Eh(r,c),!1}r=r.return}while(r!==null);return!1}var Wm=Error(a(461)),Re=!1;function Ve(t,n,r,l){n.child=t===null?rm(n,null,r,l):$r(n,t.child,r,l)}function tg(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var p={};for(var E in l)E!=="ref"&&(p[E]=l[E])}else p=l;return is(n),l=Hc(t,n,r,p,h,c),E=qc(),t!==null&&!Re?(Gc(t,n,c),Ti(t,n,c)):(Ut&&E&&Mc(n),n.flags|=1,Ve(t,n,l,c),n.child)}function eg(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Dh(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,ng(t,n,h,l,c)):(t=Jo(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!mh(t,c)){var p=h.memoizedProps;if(r=r.compare,r=r!==null?r:Ka,r(p,l)&&t.ref===n.ref)return Ti(t,n,c)}return n.flags|=1,t=fr(h,l),t.ref=n.ref,t.return=n,n.child=t}function ng(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Ka(h,l)&&t.ref===n.ref)if(Re=!1,n.pendingProps=l=h,mh(t,c))(t.flags&131072)!==0&&(Re=!0);else return n.lanes=t.lanes,Ti(t,n,c)}return ah(t,n,r,l,c)}function ig(t,n,r){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,p=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||h){if((n.flags&128)!==0){if(l=p!==null?p.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return rg(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lo(n,p!==null?p.cachePool:null),p!==null?sm(n,p):kc(),am(n);else return n.lanes=n.childLanes=536870912,rg(t,n,p!==null?p.baseLanes|r:r,r)}else p!==null?(Lo(n,p.cachePool),sm(n,p),nr(),n.memoizedState=null):(t!==null&&Lo(n,null),kc(),nr());return Ve(t,n,c,r),n.child}function rg(t,n,r,l){var c=Bc();return c=c===null?null:{parent:_e._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Lo(n,null),kc(),am(n),t!==null&&ol(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function ah(t,n,r,l,c){return is(n),r=Hc(t,n,r,l,void 0,c),l=qc(),t!==null&&!Re?(Gc(t,n,c),Ti(t,n,c)):(Ut&&l&&Mc(n),n.flags|=1,Ve(t,n,r,c),n.child)}function sg(t,n,r,l,c,h){return is(n),n.updateQueue=null,r=hm(n,l,r,c),cm(t),l=qc(),t!==null&&!Re?(Gc(t,n,h),Ti(t,n,h)):(Ut&&l&&Mc(n),n.flags|=1,Ve(t,n,r,h),n.child)}function ag(t,n,r,l,c){if(is(n),n.stateNode===null){var h=qs,p=r.contextType;typeof p=="object"&&p!==null&&(h=Be(p)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=rh,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},vh(n),p=r.contextType,h.context=typeof p=="object"&&p!==null?Be(p):qs,h.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(ih(n,r,p,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(p=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),p!==h.state&&rh.enqueueReplaceState(h,h.state,null),hl(n,l,h,c),cl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=es(r,E);h.props=R;var M=h.context,j=r.contextType;p=qs,typeof j=="object"&&j!==null&&(p=Be(j));var Q=r.getDerivedStateFromProps;j=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||M!==p)&&Qm(n,h,l,p),ar=!1;var P=n.memoizedState;h.state=P,hl(n,l,h,c),cl(),M=n.memoizedState,E||P!==M||ar?(typeof Q=="function"&&(ih(n,r,Q,l),M=n.memoizedState),(R=ar||Fm(n,r,R,l,P,M,p))?(j||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=M),h.props=l,h.state=M,h.context=p,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,_h(t,n),p=n.memoizedProps,j=es(r,p),h.props=j,Q=n.pendingProps,P=h.context,M=r.contextType,R=qs,typeof M=="object"&&M!==null&&(R=Be(M)),E=r.getDerivedStateFromProps,(M=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(p!==Q||P!==R)&&Qm(n,h,l,R),ar=!1,P=n.memoizedState,h.state=P,hl(n,l,h,c),cl();var B=n.memoizedState;p!==Q||P!==B||ar||t!==null&&t.dependencies!==null&&Yo(t.dependencies)?(typeof E=="function"&&(ih(n,r,E,l),B=n.memoizedState),(j=ar||Fm(n,r,j,l,P,B,R)||t!==null&&t.dependencies!==null&&Yo(t.dependencies))?(M||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,B,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,B,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=R,l=j):(typeof h.componentDidUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&P===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ll(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=$r(n,t.child,null,c),n.child=$r(n,null,r,c)):Ve(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Ti(t,n,c),t}function lg(t,n,r,l){return $a(),n.flags|=256,Ve(t,n,r,l),n.child}var lh={dehydrated:null,treeContext:null,retryLane:0};function oh(t){return{baseLanes:t,cachePool:um()}}function uh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function og(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,p;if((p=h)||(p=t!==null&&t.memoizedState===null?!1:(ve.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ut){if(c?er(n):nr(),Ut){var E=Me,R;if(R=E){t:{for(R=E,E=$n;R.nodeType!==8;){if(!E){E=null;break t}if(R=xn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Kr!==null?{id:yi,overflow:vi}:null,retryLane:536870912},R=wn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Xe=n,Me=null,R=!0):R=!1}R||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(nr(),c=n.mode,E=hh({mode:"hidden",children:E},c),l=ss(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=oh(r),c.childLanes=uh(t,p,r),n.memoizedState=lh,l):(er(n),ch(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(er(n),n.flags&=-257,n=fh(t,n,r)):n.memoizedState!==null?(nr(),n.child=t.child,n.flags|=128,n=null):(nr(),c=l.fallback,E=n.mode,l=hh({mode:"visible",children:l.children},E),c=ss(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,$r(n,t.child,null,r),l=n.child,l.memoizedState=oh(r),l.childLanes=uh(t,p,r),n.memoizedState=lh,n=c);else if(er(n),E.data==="$!"){if(p=E.nextSibling&&E.nextSibling.dataset,p)var M=p.dgst;p=M,l=Error(a(419)),l.stack="",l.digest=p,Za({value:l,source:null,stack:null}),n=fh(t,n,r)}else if(Re||ol(t,n,r,!1),p=(r&t.childLanes)!==0,Re||p){if(p=Kt,p!==null){if(l=r&-r,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,tr(t,l),$e(p,t,l),Wm}E.data==="$?"||Bh(),n=fh(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=C0.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Me=xn(E.nextSibling),Xe=n,Ut=!0,Mn=null,$n=!1,t!==null&&(Tn[An++]=yi,Tn[An++]=vi,Tn[An++]=Kr,yi=t.id,vi=t.overflow,Kr=n),n=ch(n,l.children),n.flags|=4096);return n}return c?(nr(),c=l.fallback,E=n.mode,R=t.child,M=R.sibling,l=fr(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,M!==null?c=fr(M,c):(c=ss(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=oh(r):(R=E.cachePool,R!==null?(M=_e._currentValue,R=R.parent!==M?{parent:M,pool:M}:R):R=um(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=uh(t,p,r),n.memoizedState=lh,l):(er(n),r=t.child,t=r.sibling,r=fr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(p=n.deletions,p===null?(n.deletions=[t],n.flags|=16):p.push(t)),n.child=r,n.memoizedState=null,r)}function ch(t,n){return n=hh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function hh(t,n){return xg(t,n,0,null)}function fh(t,n,r){return $r(n,t.child,null,r),t=ch(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ug(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ph(t.return,n,r)}function dh(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function cg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(Ve(t,n,l.children,r),l=ve.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ug(t,r,n);else if(t.tag===19)ug(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Bt(ve,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&ko(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),dh(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ko(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}dh(n,!0,r,null,h);break;case"together":dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ti(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),dr|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(ol(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=fr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=fr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function mh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yo(t)))}function d0(t,n,r){switch(n.tag){case 3:Pi(n,n.stateNode.containerInfo),sr(n,_e,t.memoizedState.cache),$a();break;case 27:case 5:wa(n);break;case 4:Pi(n,n.stateNode.containerInfo);break;case 10:sr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(er(n),n.flags|=128,null):(r&n.child.childLanes)!==0?og(t,n,r):(er(n),t=Ti(t,n,r),t!==null?t.sibling:null);er(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ol(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return cg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Bt(ve,ve.current),l)break;return null;case 22:case 23:return n.lanes=0,ig(t,n,r);case 24:sr(n,_e,t.memoizedState.cache)}return Ti(t,n,r)}function hg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Re=!0;else{if(!mh(t,r)&&(n.flags&128)===0)return Re=!1,d0(t,n,r);Re=(t.flags&131072)!==0}else Re=!1,Ut&&(n.flags&1048576)!==0&&Xd(n,No,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Dh(l)?(t=es(l,t),n.tag=1,n=ag(null,n,l,t,r)):(n.tag=0,n=ah(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=tg(null,n,l,t,r);break t}else if(c===Tt){n.tag=14,n=eg(null,n,l,t,r);break t}}throw n=w(l)||l,Error(a(306,n,""))}}return n;case 0:return ah(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=es(l,n.pendingProps),ag(t,n,l,c,r);case 3:t:{if(Pi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,_h(t,n),hl(n,h,null,r);var p=n.memoizedState;if(h=p.cache,sr(n,_e,h),h!==c.cache&&yh(n,[_e],r,!0),cl(),h=p.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=lg(t,n,h,r);break t}else if(h!==l){l=En(Error(a(424)),n),Za(l),n=lg(t,n,h,r);break t}else for(Me=xn(n.stateNode.containerInfo.firstChild),Xe=n,Ut=!0,Mn=null,$n=!0,r=rm(n,null,h,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if($a(),h===l){n=Ti(t,n,r);break t}Ve(t,n,h,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=mp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ut||(r=n.type,t=n.pendingProps,l=cu(fn.current).createElement(r),l[Ae]=n,l[ge]=t,xe(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=mp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return wa(n),t===null&&Ut&&(l=n.stateNode=hp(n.type,n.pendingProps,fn.current),Xe=n,$n=!0,Me=xn(l.firstChild)),l=n.pendingProps.children,t!==null||Ut?Ve(t,n,l,r):n.child=$r(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&Ut&&((c=l=Me)&&(l=q0(l,n.type,n.pendingProps,$n),l!==null?(n.stateNode=l,Xe=n,Me=xn(l.firstChild),$n=!1,c=!0):c=!1),c||Xr(n)),wa(n),c=n.type,h=n.pendingProps,p=t!==null?t.memoizedProps:null,l=h.children,tf(c,h)?l=null:p!==null&&tf(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=Hc(t,n,a0,null,null,r),wl._currentValue=c),ll(t,n),Ve(t,n,l,r),n.child;case 6:return t===null&&Ut&&((t=r=Me)&&(r=G0(r,n.pendingProps,$n),r!==null?(n.stateNode=r,Xe=n,Me=null,t=!0):t=!1),t||Xr(n)),null;case 13:return og(t,n,r);case 4:return Pi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=$r(n,null,l,r):Ve(t,n,l,r),n.child;case 11:return tg(t,n,n.type,n.pendingProps,r);case 7:return Ve(t,n,n.pendingProps,r),n.child;case 8:return Ve(t,n,n.pendingProps.children,r),n.child;case 12:return Ve(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,sr(n,n.type,l.value),Ve(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,is(n),c=Be(c),l=l(c),n.flags|=1,Ve(t,n,l,r),n.child;case 14:return eg(t,n,n.type,n.pendingProps,r);case 15:return ng(t,n,n.type,n.pendingProps,r);case 19:return cg(t,n,r);case 22:return ig(t,n,r);case 24:return is(n),l=Be(_e),t===null?(c=Bc(),c===null&&(c=Kt,h=Pc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},vh(n),sr(n,_e,c)):((t.lanes&r)!==0&&(_h(t,n),hl(n,null,null,r),cl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),sr(n,_e,l)):(l=h.cache,sr(n,_e,l),l!==c.cache&&yh(n,[_e],r,!0))),Ve(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var gh=Vt(null),ns=null,Ai=null;function sr(t,n,r){Bt(gh,n._currentValue),n._currentValue=r}function Si(t){t._currentValue=gh.current,te(gh)}function ph(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function yh(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var p=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),ph(h.return,r,t),l||(p=null);break t}h=E.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=r,h=p.alternate,h!==null&&(h.lanes|=r),ph(p,r,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function ol(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=c.type;ln(c.pendingProps.value,p.value)||(t!==null?t.push(E):t=[E])}}else if(c===Li.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&yh(n,t,r,l),n.flags|=262144}function Yo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function is(t){ns=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Be(t){return fg(ns,t)}function Xo(t,n){return ns===null&&is(t),fg(t,n)}function fg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ai=Ai.next=n;return r}var ar=!1;function vh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _h(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function or(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Wt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Oo(t),Kd(t,null,r),n}return Do(t,l,n,r),Oo(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Gi(t,r)}}function Eh(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=p:h=h.next=p,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Th=!1;function cl(){if(Th){var t=Xs;if(t!==null)throw t}}function hl(t,n,r,l){Th=!1;var c=t.updateQueue;ar=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,M=R.next;R.next=null,p===null?h=M:p.next=M,p=R;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==p&&(E===null?j.firstBaseUpdate=M:E.next=M,j.lastBaseUpdate=R))}if(h!==null){var Q=c.baseState;p=0,j=M=R=null,E=h;do{var P=E.lane&-536870913,B=P!==E.lane;if(B?(Nt&P)===P:(l&P)===P){P!==0&&P===Ys&&(Th=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,mt=E;P=n;var re=r;switch(mt.tag){case 1:if(lt=mt.payload,typeof lt=="function"){Q=lt.call(re,Q,P);break t}Q=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=mt.payload,P=typeof lt=="function"?lt.call(re,Q,P):lt,P==null)break t;Q=C({},Q,P);break t;case 2:ar=!0}}P=E.callback,P!==null&&(t.flags|=64,B&&(t.flags|=8192),B=c.callbacks,B===null?c.callbacks=[P]:B.push(P))}else B={lane:P,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(M=j=B,R=Q):j=j.next=B,p|=P;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;B=E,E=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);j===null&&(R=Q),c.baseState=R,c.firstBaseUpdate=M,c.lastBaseUpdate=j,h===null&&(c.shared.lanes=0),dr|=p,t.lanes=p,t.memoizedState=Q}}function dg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function mg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)dg(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,p=r.inst;l=h(),p.destroy=l}r=r.next}while(r!==c)}}catch(E){Qt(n,n.return,E)}}function ur(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var p=l.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,c=n;var R=r;try{E()}catch(M){Qt(c,R,M)}}}l=l.next}while(l!==h)}}catch(M){Qt(n,n.return,M)}}function gg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{mg(n,r)}catch(l){Qt(t,t.return,l)}}}function pg(t,n,r){r.props=es(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Qt(t,n,l)}}function rs(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(h){Qt(t,n,h)}}function on(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Qt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Qt(t,n,c)}else r.current=null}function yg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Qt(t,t.return,c)}}function vg(t,n,r){try{var l=t.stateNode;P0(l,t.type,r,n),l[ge]=n}catch(c){Qt(t,t.return,c)}}function _g(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Ah(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||_g(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=uu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Sh(t,n,r),t=t.sibling;t!==null;)Sh(t,n,r),t=t.sibling}function $o(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for($o(t,n,r),t=t.sibling;t!==null;)$o(t,n,r),t=t.sibling}var bi=!1,ne=!1,bh=!1,Eg=typeof WeakSet=="function"?WeakSet:Set,we=null,Tg=!1;function m0(t,n){if(t=t.containerInfo,Jh=pu,t=Pd(t),wc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var p=0,E=-1,R=-1,M=0,j=0,Q=t,P=null;e:for(;;){for(var B;Q!==r||c!==0&&Q.nodeType!==3||(E=p+c),Q!==h||l!==0&&Q.nodeType!==3||(R=p+l),Q.nodeType===3&&(p+=Q.nodeValue.length),(B=Q.firstChild)!==null;)P=Q,Q=B;for(;;){if(Q===t)break e;if(P===r&&++M===c&&(E=p),P===h&&++j===l&&(R=p),(B=Q.nextSibling)!==null)break;Q=P,P=Q.parentNode}Q=B}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wh={focusedElem:t,selectionRange:r},pu=!1,we=n;we!==null;)if(n=we,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,we=t;else for(;we!==null;){switch(n=we,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var lt=es(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(lt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Qt(r,r.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,we=t;break}we=n.return}return lt=Tg,Tg=!1,lt}function Ag(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:wi(t,r),l&4&&fl(5,r);break;case 1:if(wi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Qt(r,r.return,E)}else{var c=es(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Qt(r,r.return,E)}}l&64&&gg(r),l&512&&rs(r,r.return);break;case 3:if(wi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{mg(l,t)}catch(E){Qt(r,r.return,E)}}break;case 26:wi(t,r),l&512&&rs(r,r.return);break;case 27:case 5:wi(t,r),n===null&&l&4&&yg(r),l&512&&rs(r,r.return);break;case 12:wi(t,r);break;case 13:wi(t,r),l&4&&Rg(t,r);break;case 22:if(c=r.memoizedState!==null||bi,!c){n=n!==null&&n.memoizedState!==null||ne;var h=bi,p=ne;bi=c,(ne=n)&&!p?cr(t,r,(r.subtreeFlags&8772)!==0):wi(t,r),bi=h,ne=p}l&512&&(r.memoizedProps.mode==="manual"?rs(r,r.return):on(r,r.return));break;default:wi(t,r)}}function Sg(t){var n=t.alternate;n!==null&&(t.alternate=null,Sg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var fe=null,un=!1;function Ri(t,n,r){for(r=r.child;r!==null;)bg(t,n,r),r=r.sibling}function bg(t,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ne||on(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||on(r,n);var l=fe,c=un;for(fe=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);xr(r),fe=l,un=c;break;case 5:ne||on(r,n);case 6:c=fe;var h=un;if(fe=null,Ri(t,n,r),fe=c,un=h,fe!==null)if(un)try{t=fe,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(p){Qt(r,n,p)}else try{fe.removeChild(r.stateNode)}catch(p){Qt(r,n,p)}break;case 18:fe!==null&&(un?(n=fe,r=r.stateNode,n.nodeType===8?nf(n.parentNode,r):n.nodeType===1&&nf(n,r),Il(n)):nf(fe,r.stateNode));break;case 4:l=fe,c=un,fe=r.stateNode.containerInfo,un=!0,Ri(t,n,r),fe=l,un=c;break;case 0:case 11:case 14:case 15:ne||ur(2,r,n),ne||ur(4,r,n),Ri(t,n,r);break;case 1:ne||(on(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&pg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ne||on(r,n),ne=(l=ne)||r.memoizedState!==null,Ri(t,n,r),ne=l;break;default:Ri(t,n,r)}}function Rg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Qt(n,n.return,r)}}function g0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Eg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Eg),n;default:throw Error(a(435,t.tag))}}function Rh(t,n){var r=g0(t);n.forEach(function(l){var c=D0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function bn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:case 5:fe=E.stateNode,un=!1;break t;case 3:fe=E.stateNode.containerInfo,un=!0;break t;case 4:fe=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(fe===null)throw Error(a(160));bg(h,p,c),fe=null,un=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)wg(n,t),n=n.sibling}var Vn=null;function wg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(n,t),Rn(t),l&4&&(ur(3,t,t.return),fl(3,t),ur(5,t,t.return));break;case 1:bn(n,t),Rn(t),l&512&&(ne||r===null||on(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Vn;if(bn(n,t),Rn(t),l&512&&(ne||r===null||on(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Qi]||h[Ae]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),xe(h,l,r),h[Ae]=t,Zt(h),l=h;break t;case"link":var p=yp("link","href",c).get(l+(r.href||""));if(p){for(var E=0;E<p.length;E++)if(h=p[E],h.getAttribute("href")===(r.href==null?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(E,1);break e}}h=c.createElement(l),xe(h,l,r),c.head.appendChild(h);break;case"meta":if(p=yp("meta","content",c).get(l+(r.content||""))){for(E=0;E<p.length;E++)if(h=p[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(E,1);break e}}h=c.createElement(l),xe(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[Ae]=t,Zt(h),l=h}t.stateNode=l}else vp(c,t.type,t.stateNode);else t.stateNode=pp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?vp(c,t.type,t.stateNode):pp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&vg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var R=c.firstChild;R;){var M=R.nextSibling,j=R.nodeName;R[Qi]||j==="HEAD"||j==="BODY"||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=M}for(var Q=t.type,P=c.attributes;P.length;)c.removeAttributeNode(P[0]);xe(c,Q,h),c[Ae]=t,c[ge]=h}catch(lt){Qt(t,t.return,lt)}}case 5:if(bn(n,t),Rn(t),l&512&&(ne||r===null||on(r,r.return)),t.flags&32){c=t.stateNode;try{gn(c,"")}catch(lt){Qt(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,vg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(bh=!0);break;case 6:if(bn(n,t),Rn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(lt){Qt(t,t.return,lt)}}break;case 3:if(du=null,c=Vn,Vn=hu(n.containerInfo),bn(n,t),Vn=c,Rn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(lt){Qt(t,t.return,lt)}bh&&(bh=!1,Cg(t));break;case 4:l=Vn,Vn=hu(t.stateNode.containerInfo),bn(n,t),Rn(t),Vn=l;break;case 12:bn(n,t),Rn(t);break;case 13:bn(n,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(xh=Ze()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 22:if(l&512&&(ne||r===null||on(r,r.return)),R=t.memoizedState!==null,M=r!==null&&r.memoizedState!==null,j=bi,Q=ne,bi=j||R,ne=Q||M,bn(n,t),ne=Q,bi=j,Rn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=bi||ne,r===null||M||n||Ws(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){M=r=n;try{if(c=M.stateNode,R)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{p=M.stateNode,E=M.memoizedProps.style;var B=E!=null&&E.hasOwnProperty("display")?E.display:null;p.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){Qt(M,M.return,lt)}}}else if(n.tag===6){if(r===null){M=n;try{M.stateNode.nodeValue=R?"":M.memoizedProps}catch(lt){Qt(M,M.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Rh(t,r))));break;case 19:bn(n,t),Rn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Rh(t,l)));break;case 21:break;default:bn(n,t),Rn(t)}}function Rn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(_g(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,h=Ah(t);$o(t,h,c);break;case 5:var p=l.stateNode;l.flags&32&&(gn(p,""),l.flags&=-33);var E=Ah(t);$o(t,E,p);break;case 3:case 4:var R=l.stateNode.containerInfo,M=Ah(t);Sh(t,M,R);break;default:throw Error(a(161))}}}catch(j){Qt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Cg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Cg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function wi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ag(t,n.alternate,n),n=n.sibling}function Ws(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ur(4,n,n.return),Ws(n);break;case 1:on(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&pg(n,n.return,r),Ws(n);break;case 26:case 27:case 5:on(n,n.return),Ws(n);break;case 22:on(n,n.return),n.memoizedState===null&&Ws(n);break;default:Ws(n)}t=t.sibling}}function cr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,p=h.flags;switch(h.tag){case 0:case 11:case 15:cr(c,h,r),fl(4,h);break;case 1:if(cr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(M){Qt(l,l.return,M)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)dg(R[c],E)}catch(M){Qt(l,l.return,M)}}r&&p&64&&gg(h),rs(h,h.return);break;case 26:case 27:case 5:cr(c,h,r),r&&l===null&&p&4&&yg(h),rs(h,h.return);break;case 12:cr(c,h,r);break;case 13:cr(c,h,r),r&&p&4&&Rg(c,h);break;case 22:h.memoizedState===null&&cr(c,h,r),rs(h,h.return);break;default:cr(c,h,r)}n=n.sibling}}function wh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Ch(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function hr(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dg(t,n,r,l),n=n.sibling}function Dg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hr(t,n,r,l),c&2048&&fl(9,n);break;case 3:hr(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){hr(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,p=h.id,E=h.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Qt(n,n.return,R)}}else hr(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?hr(t,n,r,l):dl(t,n):h._visibility&4?hr(t,n,r,l):(h._visibility|=4,ta(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&wh(n.alternate,n);break;case 24:hr(t,n,r,l),c&2048&&Ch(n.alternate,n);break;default:hr(t,n,r,l)}}function ta(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,p=n,E=r,R=l,M=p.flags;switch(p.tag){case 0:case 11:case 15:ta(h,p,E,R,c),fl(8,p);break;case 23:break;case 22:var j=p.stateNode;p.memoizedState!==null?j._visibility&4?ta(h,p,E,R,c):dl(h,p):(j._visibility|=4,ta(h,p,E,R,c)),c&&M&2048&&wh(p.alternate,p);break;case 24:ta(h,p,E,R,c),c&&M&2048&&Ch(p.alternate,p);break;default:ta(h,p,E,R,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&wh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Ch(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function ea(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Og(t),t=t.sibling}function Og(t){switch(t.tag){case 26:ea(t),t.flags&ml&&t.memoizedState!==null&&iE(Vn,t.memoizedState,t.memoizedProps);break;case 5:ea(t);break;case 3:case 4:var n=Vn;Vn=hu(t.stateNode.containerInfo),ea(t),Vn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,ea(t),ml=n):ea(t));break;default:ea(t)}}function Ig(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];we=l,Mg(l,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ng(t),t=t.sibling}function Ng(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&ur(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Zo(t)):gl(t);break;default:gl(t)}}function Zo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];we=l,Mg(l,t)}Ig(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ur(8,n,n.return),Zo(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Zo(n));break;default:Zo(n)}t=t.sibling}}function Mg(t,n){for(;we!==null;){var r=we;switch(r.tag){case 0:case 11:case 15:ur(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,we=l;else t:for(r=t;we!==null;){l=we;var c=l.sibling,h=l.return;if(Sg(l),l===r){we=null;break t}if(c!==null){c.return=h,we=c;break t}we=h}}}function p0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,n,r,l){return new p0(t,n,r,l)}function Dh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fr(t,n){var r=t.alternate;return r===null?(r=wn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Vg(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Jo(t,n,r,l,c,h){var p=0;if(l=t,typeof t=="function")Dh(t)&&(p=1);else if(typeof t=="string")p=eE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case y:return ss(r.children,c,h,n);case _:p=8,c|=24;break;case I:return t=wn(12,r,n,c|2),t.elementType=I,t.lanes=h,t;case ot:return t=wn(13,r,n,c),t.elementType=ot,t.lanes=h,t;case et:return t=wn(19,r,n,c),t.elementType=et,t.lanes=h,t;case pt:return xg(r,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case U:case $:p=10;break t;case H:p=9;break t;case X:p=11;break t;case Tt:p=14;break t;case ht:p=16,l=null;break t}p=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=wn(p,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function ss(t,n,r,l){return t=wn(7,t,l,n),t.lanes=r,t}function xg(t,n,r,l){t=wn(22,t,l,n),t.elementType=pt,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(a(456));if((c._pendingVisibility&2)===0){var p=tr(h,2);p!==null&&(c._pendingVisibility|=2,$e(p,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(a(456));if((c._pendingVisibility&2)!==0){var p=tr(h,2);p!==null&&(c._pendingVisibility&=-3,$e(p,h,2))}}};return t.stateNode=c,t}function Oh(t,n,r){return t=wn(6,t,null,n),t.lanes=r,t}function Ih(t,n,r){return n=wn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Ci(t){t.flags|=4}function Ug(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!_p(n)){if(n=Sn.current,n!==null&&((Nt&4194176)===Nt?Zn!==null:(Nt&62914560)!==Nt&&(Nt&536870912)===0||n!==Zn))throw Wa=Uc,Jd;t.flags|=8192}}function Wo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Hi():536870912,t.lanes|=n,ia|=n)}function pl(t,n){if(!Ut)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Jt(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function y0(t,n,r){var l=n.pendingProps;switch(Vc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(n),null;case 1:return Jt(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(_e),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xa(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Mn!==null&&(Ph(Mn),Mn=null))),Jt(n),null;case 26:return r=n.memoizedState,t===null?(Ci(n),r!==null?(Jt(n),Ug(n,r)):(Jt(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Ci(n),Jt(n),Ug(n,r)):(Jt(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),Jt(n),n.flags&=-16777217),null;case 27:As(n),r=fn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}t=Fe.current,Xa(n)?$d(n):(t=hp(c,l,r),n.stateNode=t,Ci(n))}return Jt(n),null;case 5:if(As(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return Jt(n),null}if(t=Fe.current,Xa(n))$d(n);else{switch(c=cu(fn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[Ae]=n,t[ge]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(xe(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return Jt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=fn.current,Xa(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ae]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||sp(t.nodeValue,r)),t||Xr(n)}else t=cu(t).createTextNode(l),t[Ae]=n,n.stateNode=t}return Jt(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xa(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Ae]=n}else $a(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Jt(n),c=!1}else Mn!==null&&(Ph(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Wo(n,n.updateQueue),Jt(n),null;case 4:return ai(),t===null&&Xh(n.stateNode.containerInfo),Jt(n),null;case 10:return Si(n.type),Jt(n),null;case 19:if(te(ve),c=n.memoizedState,c===null)return Jt(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)pl(c,!1);else{if(ie!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=ko(t),h!==null){for(n.flags|=128,pl(c,!1),t=h.updateQueue,n.updateQueue=t,Wo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Vg(r,t),r=r.sibling;return Bt(ve,ve.current&1|2),n.child}t=t.sibling}c.tail!==null&&Ze()>tu&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=ko(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Wo(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Ut)return Jt(n),null}else 2*Ze()-c.renderingStartTime>tu&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ze(),n.sibling=null,t=ve.current,Bt(ve,l?t&1|2:t&1),n):(Jt(n),null);case 22:case 23:return _i(n),Lc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(Jt(n),n.subtreeFlags&6&&(n.flags|=8192)):Jt(n),r=n.updateQueue,r!==null&&Wo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Zr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Si(_e),Jt(n),null;case 25:return null}throw Error(a(156,n.tag))}function v0(t,n){switch(Vc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(_e),ai(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return As(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));$a()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(ve),null;case 4:return ai(),null;case 10:return Si(n.type),null;case 22:case 23:return _i(n),Lc(),t!==null&&te(Zr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(_e),null;case 25:return null;default:return null}}function kg(t,n){switch(Vc(n),n.tag){case 3:Si(_e),ai();break;case 26:case 27:case 5:As(n);break;case 4:ai();break;case 13:_i(n);break;case 19:te(ve);break;case 10:Si(n.type);break;case 22:case 23:_i(n),Lc(),t!==null&&te(Zr);break;case 24:Si(_e)}}var _0={getCacheForType:function(t){var n=Be(_e),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},E0=typeof WeakMap=="function"?WeakMap:Map,Wt=0,Kt=null,St=null,Nt=0,Yt=0,cn=null,Di=!1,na=!1,Nh=!1,Oi=0,ie=0,dr=0,as=0,Mh=0,Cn=0,ia=0,yl=null,Wn=null,Vh=!1,xh=0,tu=1/0,eu=null,mr=null,nu=!1,ls=null,vl=0,Uh=0,kh=null,_l=0,Lh=null;function hn(){if((Wt&2)!==0&&Nt!==0)return Nt&-Nt;if(S.T!==null){var t=Ys;return t!==0?t:Fh()}return lo()}function Lg(){Cn===0&&(Cn=(Nt&536870912)===0||Ut?Na():536870912);var t=Sn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,r){(t===Kt&&Yt===2||t.cancelPendingCommit!==null)&&(ra(t,0),Ii(t,Nt,Cn,!1)),le(t,r),((Wt&2)===0||t!==Kt)&&(t===Kt&&((Wt&2)===0&&(as|=r),ie===4&&Ii(t,Nt,Cn,!1)),ti(t))}function Pg(t,n,r){if((Wt&6)!==0)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||ji(t,n),c=l?S0(t,n):jh(t,n,!0),h=l;do{if(c===0){na&&!l&&Ii(t,n,0,!1);break}else if(c===6)Ii(t,n,0,!Di);else{if(r=t.current.alternate,h&&!T0(r)){c=jh(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=t;c=yl;var R=E.current.memoizedState.isDehydrated;if(R&&(ra(E,p).flags|=256),p=jh(E,p,!1),p!==2){if(Nh&&!R){E.errorRecoveryDisabledLanes|=h,as|=h,c=4;break t}h=Wn,Wn=c,h!==null&&Ph(h)}c=p}if(h=!1,c!==2)continue}}if(c===1){ra(t,0),Ii(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Ii(l,n,Cn,!Di);break t}break;case 2:Wn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(h=xh+300-Ze(),10<h)){if(Ii(l,n,Cn,!Di),dn(l,0)!==0)break t;l.timeoutHandle=op(zg.bind(null,l,r,Wn,eu,Vh,n,Cn,as,ia,Di,2,-0,0),h);break t}zg(l,r,Wn,eu,Vh,n,Cn,as,ia,Di,0,-0,0)}}break}while(!0);ti(t)}function Ph(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function zg(t,n,r,l,c,h,p,E,R,M,j,Q,P){var B=n.subtreeFlags;if((B&8192||(B&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:nE},Og(n),n=rE(),n!==null)){t.cancelPendingCommit=n(Qg.bind(null,t,r,l,c,p,E,R,1,Q,P)),Ii(t,h,p,!M);return}Qg(t,r,l,c,p,E,R,j,Q,P)}function T0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!ln(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ii(t,n,r,l){n&=~Mh,n&=~as,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Qe(c),p=1<<h;l[h]=-1,c&=~p}r!==0&&qi(t,r,n)}function iu(){return(Wt&6)===0?(El(0),!1):!0}function zh(){if(St!==null){if(Yt===0)var t=St.return;else t=St,Ai=ns=null,Fc(t),Qs=null,tl=0,t=St;for(;t!==null;)kg(t.alternate,t),t=t.return;St=null}}function ra(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,B0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),zh(),Kt=t,St=r=fr(t.current,null),Nt=n,Yt=0,cn=null,Di=!1,na=ji(t,n),Nh=!1,ia=Cn=Mh=as=dr=ie=0,Wn=yl=null,Vh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Qe(l),h=1<<c;n|=t[c],l&=~h}return Oi=n,Co(),r}function Bg(t,n){Et=null,S.H=Jn,n===Ja?(n=em(),Yt=3):n===Jd?(n=em(),Yt=4):Yt=n===Wm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,St===null&&(ie=1,Ko(t,En(n,t.current)))}function jg(){var t=S.H;return S.H=Jn,t===null?Jn:t}function Hg(){var t=S.A;return S.A=_0,t}function Bh(){ie=4,Di||(Nt&4194176)!==Nt&&Sn.current!==null||(na=!0),(dr&134217727)===0&&(as&134217727)===0||Kt===null||Ii(Kt,Nt,Cn,!1)}function jh(t,n,r){var l=Wt;Wt|=2;var c=jg(),h=Hg();(Kt!==t||Nt!==n)&&(eu=null,ra(t,n)),n=!1;var p=ie;t:do try{if(Yt!==0&&St!==null){var E=St,R=cn;switch(Yt){case 8:zh(),p=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var M=Yt;if(Yt=0,cn=null,sa(t,E,R,M),r&&na){p=0;break t}break;default:M=Yt,Yt=0,cn=null,sa(t,E,R,M)}}A0(),p=ie;break}catch(j){Bg(t,j)}while(!0);return n&&t.shellSuspendCounter++,Ai=ns=null,Wt=l,S.H=c,S.A=h,St===null&&(Kt=null,Nt=0,Co()),p}function A0(){for(;St!==null;)qg(St)}function S0(t,n){var r=Wt;Wt|=2;var l=jg(),c=Hg();Kt!==t||Nt!==n?(eu=null,tu=Ze()+500,ra(t,n)):na=ji(t,n);t:do try{if(Yt!==0&&St!==null){n=St;var h=cn;e:switch(Yt){case 1:Yt=0,cn=null,sa(t,n,h,1);break;case 2:if(Wd(h)){Yt=0,cn=null,Gg(n);break}n=function(){Yt===2&&Kt===t&&(Yt=7),ti(t)},h.then(n,n);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:Wd(h)?(Yt=0,cn=null,Gg(n)):(Yt=0,cn=null,sa(t,n,h,7));break;case 5:var p=null;switch(St.tag){case 26:p=St.memoizedState;case 5:case 27:var E=St;if(!p||_p(p)){Yt=0,cn=null;var R=E.sibling;if(R!==null)St=R;else{var M=E.return;M!==null?(St=M,ru(M)):St=null}break e}}Yt=0,cn=null,sa(t,n,h,5);break;case 6:Yt=0,cn=null,sa(t,n,h,6);break;case 8:zh(),ie=6;break t;default:throw Error(a(462))}}b0();break}catch(j){Bg(t,j)}while(!0);return Ai=ns=null,S.H=l,S.A=c,Wt=r,St!==null?0:(Kt=null,Nt=0,Co(),ie)}function b0(){for(;St!==null&&!gc();)qg(St)}function qg(t){var n=hg(t.alternate,t,Oi);t.memoizedProps=t.pendingProps,n===null?ru(t):St=n}function Gg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=sg(r,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=sg(r,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:Fc(n);default:kg(r,n),n=St=Vg(n,Oi),n=hg(r,n,Oi)}t.memoizedProps=t.pendingProps,n===null?ru(t):St=n}function sa(t,n,r,l){Ai=ns=null,Fc(n),Qs=null,tl=0;var c=n.return;try{if(f0(t,c,n,r,Nt)){ie=1,Ko(t,En(r,t.current)),St=null;return}}catch(h){if(c!==null)throw St=c,h;ie=1,Ko(t,En(r,t.current)),St=null;return}n.flags&32768?(Ut||l===1?t=!0:na||(Nt&536870912)!==0?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=Sn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fg(n,t)):ru(n)}function ru(t){var n=t;do{if((n.flags&32768)!==0){Fg(n,Di);return}t=n.return;var r=y0(n.alternate,n,Oi);if(r!==null){St=r;return}if(n=n.sibling,n!==null){St=n;return}St=n=t}while(n!==null);ie===0&&(ie=5)}function Fg(t,n){do{var r=v0(t.alternate,t);if(r!==null){r.flags&=32767,St=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){St=t;return}St=t=r}while(t!==null);ie=6,St=null}function Qg(t,n,r,l,c,h,p,E,R,M){var j=S.T,Q=tt.p;try{tt.p=2,S.T=null,R0(t,n,r,l,Q,c,h,p,E,R,M)}finally{S.T=j,tt.p=Q}}function R0(t,n,r,l,c,h,p,E){do aa();while(ls!==null);if((Wt&6)!==0)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var M=R.lanes|R.childLanes;if(M|=Ic,so(t,l,M,h,p,E),t===Kt&&(St=Kt=null,Nt=0),(R.subtreeFlags&10256)===0&&(R.flags&10256)===0||nu||(nu=!0,Uh=M,kh=r,O0(li,function(){return aa(),null})),r=(R.flags&15990)!==0,(R.subtreeFlags&15990)!==0||r?(r=S.T,S.T=null,h=tt.p,tt.p=2,p=Wt,Wt|=4,m0(t,R),wg(R,t),X_(Wh,t.containerInfo),pu=!!Jh,Wh=Jh=null,t.current=R,Ag(t,R.alternate,R),Ca(),Wt=p,tt.p=h,S.T=r):t.current=R,nu?(nu=!1,ls=t,vl=l):Kg(t,M),M=t.pendingLanes,M===0&&(mr=null),Oa(R.stateNode),ti(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)M=n[R],c(M.value,{componentStack:M.stack});return(vl&3)!==0&&aa(),M=t.pendingLanes,(l&4194218)!==0&&(M&42)!==0?t===Lh?_l++:(_l=0,Lh=t):_l=0,El(0),null}function Kg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function aa(){if(ls!==null){var t=ls,n=Uh;Uh=0;var r=ao(vl),l=S.T,c=tt.p;try{if(tt.p=32>r?32:r,S.T=null,ls===null)var h=!1;else{r=kh,kh=null;var p=ls,E=vl;if(ls=null,vl=0,(Wt&6)!==0)throw Error(a(331));var R=Wt;if(Wt|=4,Ng(p.current),Dg(p,p.current,E,r),Wt=R,El(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(zi,p)}catch{}h=!0}return h}finally{tt.p=c,S.T=l,Kg(t,n)}}return!1}function Yg(t,n,r){n=En(r,n),n=sh(t.stateNode,n,2),t=or(t,n,2),t!==null&&(le(t,2),ti(t))}function Qt(t,n,r){if(t.tag===3)Yg(t,t,r);else for(;n!==null;){if(n.tag===3){Yg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(mr===null||!mr.has(l))){t=En(r,t),r=Zm(2),l=or(n,r,2),l!==null&&(Jm(r,l,n,t),le(l,2),ti(l));break}}n=n.return}}function Hh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new E0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Nh=!0,c.add(r),t=w0.bind(null,t,n,r),n.then(t,t))}function w0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Kt===t&&(Nt&r)===r&&(ie===4||ie===3&&(Nt&62914560)===Nt&&300>Ze()-xh?(Wt&2)===0&&ra(t,0):Mh|=r,ia===Nt&&(ia=0)),ti(t)}function Xg(t,n){n===0&&(n=Hi()),t=tr(t,n),t!==null&&(le(t,n),ti(t))}function C0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Xg(t,r)}function D0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Xg(t,r)}function O0(t,n){return Nr(t,n)}var su=null,la=null,qh=!1,au=!1,Gh=!1,os=0;function ti(t){t!==la&&t.next===null&&(la===null?su=la=t:la=la.next=t),au=!0,qh||(qh=!0,N0(I0))}function El(t,n){if(!Gh&&au){Gh=!0;do for(var r=!1,l=su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var p=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Qe(42|t)+1)-1,h&=c&~(p&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(r=!0,Jg(l,h))}else h=Nt,h=dn(l,l===Kt?h:0),(h&3)===0||ji(l,h)||(r=!0,Jg(l,h));l=l.next}while(r);Gh=!1}}function I0(){au=qh=!1;var t=0;os!==0&&(z0()&&(t=os),os=0);for(var n=Ze(),r=null,l=su;l!==null;){var c=l.next,h=$g(l,n);h===0?(l.next=null,r===null?su=c:r.next=c,c===null&&(la=r)):(r=l,(t!==0||(h&3)!==0)&&(au=!0)),l=c}El(t)}function $g(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var p=31-Qe(h),E=1<<p,R=c[p];R===-1?((E&r)===0||(E&l)!==0)&&(c[p]=Rs(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Kt,r=Nt,r=dn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Yt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||ji(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&bs(l),ao(r)){case 2:case 8:r=Te;break;case 32:r=li;break;case 268435456:r=Da;break;default:r=li}return l=Zg.bind(null,t),r=Nr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function Zg(t,n){var r=t.callbackNode;if(aa()&&t.callbackNode!==r)return null;var l=Nt;return l=dn(t,t===Kt?l:0),l===0?null:(Pg(t,l,n),$g(t,Ze()),t.callbackNode!=null&&t.callbackNode===r?Zg.bind(null,t):null)}function Jg(t,n){if(aa())return null;Pg(t,n,!0)}function N0(t){j0(function(){(Wt&6)!==0?Nr(me,t):t()})}function Fh(){return os===0&&(os=Na()),os}function Wg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:qn(""+t)}function tp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function M0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Wg((c[ge]||null).action),p=l.submitter;p&&(n=(n=p[ge]||null)?Wg(n.formAction):p.getAttribute("formAction"),n!==null&&(h=n,p=null));var E=new Ms("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(os!==0){var R=p?tp(c,p):new FormData(c);th(r,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=p?tp(c,p):new FormData(c),th(r,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var Qh=0;Qh<Qd.length;Qh++){var Kh=Qd[Qh],V0=Kh.toLowerCase(),x0=Kh[0].toUpperCase()+Kh.slice(1);Nn(V0,"on"+x0)}Nn(jd,"onAnimationEnd"),Nn(Hd,"onAnimationIteration"),Nn(qd,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(Z_,"onTransitionRun"),Nn(J_,"onTransitionStart"),Nn(W_,"onTransitionCancel"),Nn(Gd,"onTransitionEnd"),Je("onMouseEnter",["mouseout","mouseover"]),Je("onMouseLeave",["mouseout","mouseover"]),Je("onPointerEnter",["pointerout","pointerover"]),Je("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function ep(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var p=l.length-1;0<=p;p--){var E=l[p],R=E.instance,M=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=M;try{h(c)}catch(j){Qo(j)}c.currentTarget=null,h=R}else for(p=0;p<l.length;p++){if(E=l[p],R=E.instance,M=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=M;try{h(c)}catch(j){Qo(j)}c.currentTarget=null,h=R}}}}function Ct(t,n){var r=n[Vr];r===void 0&&(r=n[Vr]=new Set);var l=t+"__bubble";r.has(l)||(np(n,t,2,!1),r.add(l))}function Yh(t,n,r){var l=0;n&&(l|=4),np(r,t,l,n)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Xh(t){if(!t[lu]){t[lu]=!0,Va.forEach(function(r){r!=="selectionchange"&&(U0.has(r)||Yh(r,!1,t),Yh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lu]||(n[lu]=!0,Yh("selectionchange",!1,n))}}function np(t,n,r,l){switch(Rp(n)){case 2:var c=lE;break;case 8:c=oE;break;default:c=uf}r=c.bind(null,n,r,t),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function $h(t,n,r,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&(R=p.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;p=p.return}for(;E!==null;){if(p=In(E),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=h=p;continue t}E=E.parentNode}}l=l.return}ho(function(){var M=h,j=Ns(r),Q=[];t:{var P=Fd.get(t);if(P!==void 0){var B=Ms,lt=t;switch(t){case"keypress":if(Fn(r)===0)break t;case"keydown":case"keyup":B=Ps;break;case"focusin":lt="focus",B=Us;break;case"focusout":lt="blur",B=Us;break;case"beforeblur":case"afterblur":B=Us;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Eo;break;case jd:case Hd:case qd:B=ks;break;case Gd:B=Ao;break;case"scroll":case"scrollend":B=fo;break;case"wheel":B=zs;break;case"copy":case"cut":case"paste":B=Ls;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Fa;break;case"toggle":case"beforetoggle":B=bo}var mt=(n&4)!==0,re=!mt&&(t==="scroll"||t==="scrollend"),x=mt?P!==null?P+"Capture":null:P;mt=[];for(var N=M,L;N!==null;){var q=N;if(L=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||L===null||x===null||(q=Pr(N,x),q!=null&&mt.push(Al(N,q,L))),re)break;N=N.return}0<mt.length&&(P=new B(P,lt,null,r,j),Q.push({event:P,listeners:mt}))}}if((n&7)===0){t:{if(P=t==="mouseover"||t==="pointerover",B=t==="mouseout"||t==="pointerout",P&&r!==pn&&(lt=r.relatedTarget||r.fromElement)&&(In(lt)||lt[oi]))break t;if((B||P)&&(P=j.window===j?j:(P=j.ownerDocument)?P.defaultView||P.parentWindow:window,B?(lt=r.relatedTarget||r.toElement,B=M,lt=lt?In(lt):null,lt!==null&&(re=it(lt),mt=lt.tag,lt!==re||mt!==5&&mt!==27&&mt!==6)&&(lt=null)):(B=null,lt=M),B!==lt)){if(mt=vn,q="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(mt=Fa,q="onPointerLeave",x="onPointerEnter",N="pointer"),re=B==null?P:Ki(B),L=lt==null?P:Ki(lt),P=new mt(q,N+"leave",B,r,j),P.target=re,P.relatedTarget=L,q=null,In(j)===M&&(mt=new mt(x,N+"enter",lt,r,j),mt.target=L,mt.relatedTarget=re,q=mt),re=q,B&&lt)e:{for(mt=B,x=lt,N=0,L=mt;L;L=oa(L))N++;for(L=0,q=x;q;q=oa(q))L++;for(;0<N-L;)mt=oa(mt),N--;for(;0<L-N;)x=oa(x),L--;for(;N--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=oa(mt),x=oa(x)}mt=null}else mt=null;B!==null&&ip(Q,P,B,mt,!1),lt!==null&&re!==null&&ip(Q,re,lt,mt,!0)}}t:{if(P=M?Ki(M):window,B=P.nodeName&&P.nodeName.toLowerCase(),B==="select"||B==="input"&&P.type==="file")var rt=Id;else if(ye(P))if(Nd)rt=K_;else{rt=F_;var At=G_}else B=P.nodeName,!B||B.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?M&&Pa(M.elementType)&&(rt=Id):rt=Q_;if(rt&&(rt=rt(t,M))){pi(Q,rt,r,j);break t}At&&At(t,P,M),t==="focusout"&&M&&P.type==="number"&&M.memoizedProps.value!=null&&Is(P,"number",P.value)}switch(At=M?Ki(M):window,t){case"focusin":(ye(At)||At.contentEditable==="true")&&(Bs=At,Cc=M,Ya=null);break;case"focusout":Ya=Cc=Bs=null;break;case"mousedown":Dc=!0;break;case"contextmenu":case"mouseup":case"dragend":Dc=!1,zd(Q,r,j);break;case"selectionchange":if($_)break;case"keydown":case"keyup":zd(Q,r,j)}var ut;if(Yn)t:{switch(t){case"compositionstart":var ct="onCompositionStart";break t;case"compositionend":ct="onCompositionEnd";break t;case"compositionupdate":ct="onCompositionUpdate";break t}ct=void 0}else Ot?z(t,r)&&(ct="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ct="onCompositionStart");ct&&(g&&r.locale!=="ko"&&(Ot||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&Ot&&(ut=Ba()):(Gn=j,Wi="value"in Gn?Gn.value:Gn.textContent,Ot=!0)),At=ou(M,ct),0<At.length&&(ct=new qa(ct,t,null,r,j),Q.push({event:ct,listeners:At}),ut?ct.data=ut:(ut=Z(r),ut!==null&&(ct.data=ut)))),(ut=d?pe(t,r):It(t,r))&&(ct=ou(M,"onBeforeInput"),0<ct.length&&(At=new qa("onBeforeInput","beforeinput",null,r,j),Q.push({event:At,listeners:ct}),At.data=ut)),M0(Q,t,M,r,j)}ep(Q,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ou(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Pr(t,r),c!=null&&l.unshift(Al(t,c,h)),c=Pr(t,n),c!=null&&l.push(Al(t,c,h))),t=t.return}return l}function oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ip(t,n,r,l,c){for(var h=n._reactName,p=[];r!==null&&r!==l;){var E=r,R=E.alternate,M=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||M===null||(R=M,c?(M=Pr(r,h),M!=null&&p.unshift(Al(r,M,R))):c||(M=Pr(r,h),M!=null&&p.push(Al(r,M,R)))),r=r.return}p.length!==0&&t.push({event:n,listeners:p})}var k0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function rp(t){return(typeof t=="string"?t:""+t).replace(k0,`
`).replace(L0,"")}function sp(t,n){return n=rp(n),rp(t)===n}function uu(){}function Ft(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||gn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&gn(t,""+l);break;case"className":$i(t,"class",l);break;case"tabIndex":$i(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":$i(t,r,l);break;case"style":co(t,l,h);break;case"data":if(n!=="object"){$i(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Ft(t,n,"name",c.name,c,null),Ft(t,n,"formEncType",c.formEncType,c,null),Ft(t,n,"formMethod",c.formMethod,c,null),Ft(t,n,"formTarget",c.formTarget,c,null)):(Ft(t,n,"encType",c.encType,c,null),Ft(t,n,"method",c.method,c,null),Ft(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=qn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=uu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=qn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":mn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":mn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":mn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":mn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":mn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":mn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":mn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":mn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":mn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Ec.get(r)||r,Xi(t,r,l))}}function Zh(t,n,r,l,c,h){switch(r){case"style":co(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?gn(t,l):(typeof l=="number"||typeof l=="bigint")&&gn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=uu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ds.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[ge]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Xi(t,r,l)}}}function xe(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var p=r[h];if(p!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,h,p,r,null)}}c&&Ft(t,n,"srcSet",r.srcSet,r,null),l&&Ft(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=h=p=c=null,R=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":p=j;break;case"checked":R=j;break;case"defaultChecked":M=j;break;case"value":h=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Ft(t,n,l,j,r,null)}}kr(t,h,E,R,M,p,c,!1),Ur(t);return;case"select":Ct("invalid",t),l=p=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":p=E;break;case"multiple":l=E;default:Ft(t,n,c,E,r,null)}n=h,r=p,t.multiple=!!l,n!=null?xt(t,!!l,n,!1):r!=null&&xt(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),h=c=l=null;for(p in r)if(r.hasOwnProperty(p)&&(E=r[p],E!=null))switch(p){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ft(t,n,p,E,r,null)}Ji(t,l,c,h),Ur(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ft(t,n,R,l,r,null)}return;case"dialog":Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ct(Tl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ft(t,n,M,l,r,null)}return;default:if(Pa(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&Zh(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Ft(t,n,E,l,r,null))}function P0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,p=null,E=null,R=null,M=null,j=null;for(B in r){var Q=r[B];if(r.hasOwnProperty(B)&&Q!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(B)||Ft(t,n,B,null,l,Q)}}for(var P in l){var B=l[P];if(Q=r[P],l.hasOwnProperty(P)&&(B!=null||Q!=null))switch(P){case"type":h=B;break;case"name":c=B;break;case"checked":M=B;break;case"defaultChecked":j=B;break;case"value":p=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Q&&Ft(t,n,P,B,l,Q)}}Zi(t,p,E,R,M,j,h,c);return;case"select":B=p=E=P=null;for(h in r)if(R=r[h],r.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":B=R;default:l.hasOwnProperty(h)||Ft(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=r[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":P=h;break;case"defaultValue":E=h;break;case"multiple":p=h;default:h!==R&&Ft(t,n,c,h,l,R)}n=E,r=p,l=B,P!=null?xt(t,!!r,P,!1):!!l!=!!r&&(n!=null?xt(t,!!r,n,!0):xt(t,!!r,r?[]:"",!1));return;case"textarea":B=P=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ft(t,n,E,null,l,c)}for(p in l)if(c=l[p],h=r[p],l.hasOwnProperty(p)&&(c!=null||h!=null))switch(p){case"value":P=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Ft(t,n,p,c,l,h)}Lr(t,P,B);return;case"option":for(var lt in r)if(P=r[lt],r.hasOwnProperty(lt)&&P!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Ft(t,n,lt,null,l,P)}for(R in l)if(P=l[R],B=r[R],l.hasOwnProperty(R)&&P!==B&&(P!=null||B!=null))switch(R){case"selected":t.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Ft(t,n,R,P,l,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)P=r[mt],r.hasOwnProperty(mt)&&P!=null&&!l.hasOwnProperty(mt)&&Ft(t,n,mt,null,l,P);for(M in l)if(P=l[M],B=r[M],l.hasOwnProperty(M)&&P!==B&&(P!=null||B!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ft(t,n,M,P,l,B)}return;default:if(Pa(n)){for(var re in r)P=r[re],r.hasOwnProperty(re)&&P!==void 0&&!l.hasOwnProperty(re)&&Zh(t,n,re,void 0,l,P);for(j in l)P=l[j],B=r[j],!l.hasOwnProperty(j)||P===B||P===void 0&&B===void 0||Zh(t,n,j,P,l,B);return}}for(var x in r)P=r[x],r.hasOwnProperty(x)&&P!=null&&!l.hasOwnProperty(x)&&Ft(t,n,x,null,l,P);for(Q in l)P=l[Q],B=r[Q],!l.hasOwnProperty(Q)||P===B||P==null&&B==null||Ft(t,n,Q,P,l,B)}var Jh=null,Wh=null;function cu(t){return t.nodeType===9?t:t.ownerDocument}function ap(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function tf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ef=null;function z0(){var t=window.event;return t&&t.type==="popstate"?t===ef?!1:(ef=t,!0):(ef=null,!1)}var op=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,up=typeof Promise=="function"?Promise:void 0,j0=typeof queueMicrotask=="function"?queueMicrotask:typeof up<"u"?function(t){return up.resolve(null).then(t).catch(H0)}:op;function H0(t){setTimeout(function(){throw t})}function nf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Il(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),xr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function q0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function G0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function cp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function hp(t,n,r){switch(n=cu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Dn=new Map,fp=new Set;function hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ni=tt.d;tt.d={f:F0,r:Q0,D:K0,C:Y0,L:X0,m:$0,X:J0,S:Z0,M:W0};function F0(){var t=Ni.f(),n=iu();return t||n}function Q0(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?zm(n):Ni.r(t)}var ua=typeof document>"u"?null:document;function dp(t,n,r){var l=ua;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),fp.has(c)||(fp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function K0(t){Ni.D(t),dp("dns-prefetch",t,null)}function Y0(t,n){Ni.C(t,n),dp("preconnect",t,n)}function X0(t,n,r){Ni.L(t,n,r);var l=ua;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var h=c;switch(n){case"style":h=ca(t);break;case"script":h=ha(t)}Dn.has(h)||(t=C({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Dn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(h))||n==="script"&&l.querySelector(bl(h))||(n=l.createElement("link"),xe(n,"link",t),Zt(n),l.head.appendChild(n)))}}function $0(t,n){Ni.m(t,n);var r=ua;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ha(t)}if(!Dn.has(h)&&(t=C({rel:"modulepreload",href:t},n),Dn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(h)))return}l=r.createElement("link"),xe(l,"link",t),Zt(l),r.head.appendChild(l)}}}function Z0(t,n,r){Ni.S(t,n,r);var l=ua;if(l&&t){var c=Yi(l).hoistableStyles,h=ca(t);n=n||"default";var p=c.get(h);if(!p){var E={loading:0,preload:null};if(p=l.querySelector(Sl(h)))E.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Dn.get(h))&&sf(t,r);var R=p=l.createElement("link");Zt(R),xe(R,"link",t),R._p=new Promise(function(M,j){R.onload=M,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fu(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:E},c.set(h,p)}}}function J0(t,n){Ni.X(t,n);var r=ua;if(r&&t){var l=Yi(r).hoistableScripts,c=ha(t),h=l.get(c);h||(h=r.querySelector(bl(c)),h||(t=C({src:t,async:!0},n),(n=Dn.get(c))&&af(t,n),h=r.createElement("script"),Zt(h),xe(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function W0(t,n){Ni.M(t,n);var r=ua;if(r&&t){var l=Yi(r).hoistableScripts,c=ha(t),h=l.get(c);h||(h=r.querySelector(bl(c)),h||(t=C({src:t,async:!0,type:"module"},n),(n=Dn.get(c))&&af(t,n),h=r.createElement("script"),Zt(h),xe(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function mp(t,n,r,l){var c=(c=fn.current)?hu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ca(r.href),r=Yi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ca(r.href);var h=Yi(c).hoistableStyles,p=h.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,p),(h=c.querySelector(Sl(t)))&&!h._p&&(p.instance=h,p.state.loading=5),Dn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Dn.set(t,r),h||tE(c,t,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ha(r),r=Yi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ca(t){return'href="'+ee(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function gp(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function tE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),xe(n,"link",r),Zt(n),t.head.appendChild(n))}function ha(t){return'[src="'+ee(t)+'"]'}function bl(t){return"script[async]"+t}function pp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),xe(l,"style",c),fu(l,r.precedence,t),n.instance=l;case"stylesheet":c=ca(r.href);var h=t.querySelector(Sl(c));if(h)return n.state.loading|=4,n.instance=h,Zt(h),h;l=gp(r),(c=Dn.get(c))&&sf(l,c),h=(t.ownerDocument||t).createElement("link"),Zt(h);var p=h;return p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),xe(h,"link",l),n.state.loading|=4,fu(h,r.precedence,t),n.instance=h;case"script":return h=ha(r.src),(c=t.querySelector(bl(h)))?(n.instance=c,Zt(c),c):(l=r,(c=Dn.get(h))&&(l=C({},r),af(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),xe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fu(l,r.precedence,t));return n.instance}function fu(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,p=0;p<l.length;p++){var E=l[p];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function af(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var du=null;function yp(t,n,r){if(du===null){var l=new Map,c=du=new Map;c.set(r,l)}else c=du,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Qi]||h[Ae]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var p=h.getAttribute(n)||"";p=t+p;var E=l.get(p);E?E.push(h):l.set(p,[h])}}return l}function vp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function eE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function _p(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Rl=null;function nE(){}function iE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ca(r.href),h=t.querySelector(Sl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=mu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,Zt(h);return}h=t.ownerDocument||t,r=gp(r),(c=Dn.get(c))&&sf(r,c),h=h.createElement("link"),Zt(h);var p=h;p._p=new Promise(function(E,R){p.onload=E,p.onerror=R}),xe(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=mu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function rE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&lf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&lf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function mu(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var gu=null;function lf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,gu=new Map,n.forEach(sE,t),gu=null,mu.call(t))}function sE(t,n){if(!(n.state.loading&4)){var r=gu.get(t);if(r)var l=r.get(null);else{r=new Map,gu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var p=c[h];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}c=n.instance,p=c.getAttribute("data-precedence"),h=r.get(p)||l,h===l&&r.set(null,c),r.set(p,c),this.count++,l=mu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:$,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function aE(t,n,r,l,c,h,p,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ws(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ws(0),this.hiddenUpdates=ws(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Ep(t,n,r,l,c,h,p,E,R,M,j,Q){return t=new aE(t,n,r,p,E,R,M,Q),n=1,h===!0&&(n|=24),h=wn(3,null,null,n),t.current=h,h.stateNode=t,n=Pc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},vh(h),t}function Tp(t){return t?(t=qs,t):qs}function Ap(t,n,r,l,c,h){c=Tp(c),l.context===null?l.context=c:l.pendingContext=c,l=lr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=or(t,l,n),r!==null&&($e(r,t,n),ul(r,t,n))}function Sp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function of(t,n){Sp(t,n),(t=t.alternate)&&Sp(t,n)}function bp(t){if(t.tag===13){var n=tr(t,67108864);n!==null&&$e(n,t,67108864),of(t,67108864)}}var pu=!0;function lE(t,n,r,l){var c=S.T;S.T=null;var h=tt.p;try{tt.p=2,uf(t,n,r,l)}finally{tt.p=h,S.T=c}}function oE(t,n,r,l){var c=S.T;S.T=null;var h=tt.p;try{tt.p=8,uf(t,n,r,l)}finally{tt.p=h,S.T=c}}function uf(t,n,r,l){if(pu){var c=cf(l);if(c===null)$h(t,n,l,yu,r),wp(t,l);else if(cE(c,t,n,r,l))l.stopPropagation();else if(wp(t,l),n&4&&-1<uE.indexOf(t)){for(;c!==null;){var h=ui(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var p=On(h.pendingLanes);if(p!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var R=1<<31-Qe(p);E.entanglements[1]|=R,p&=~R}ti(h),(Wt&6)===0&&(tu=Ze()+500,El(0))}}break;case 13:E=tr(h,2),E!==null&&$e(E,h,2),iu(),of(h,2)}if(h=cf(l),h===null&&$h(t,n,l,yu,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else $h(t,n,l,null,r)}}function cf(t){return t=Ns(t),hf(t)}var yu=null;function hf(t){if(yu=null,t=In(t),t!==null){var n=it(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Dt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return yu=t,null}function Rp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(eo()){case me:return 2;case Te:return 8;case li:case no:return 32;case Da:return 268435456;default:return 32}default:return 32}}var ff=!1,gr=null,pr=null,yr=null,Cl=new Map,Dl=new Map,vr=[],uE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wp(t,n){switch(t){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Ol(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&bp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function cE(t,n,r,l,c){switch(n){case"focusin":return gr=Ol(gr,t,n,r,l,c),!0;case"dragenter":return pr=Ol(pr,t,n,r,l,c),!0;case"mouseover":return yr=Ol(yr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Cl.set(h,Ol(Cl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Dl.set(h,Ol(Dl.get(h)||null,t,n,r,l,c)),!0}return!1}function Cp(t){var n=In(t.target);if(n!==null){var r=it(n);if(r!==null){if(n=r.tag,n===13){if(n=Dt(r),n!==null){t.blockedOn=n,Fi(t.priority,function(){if(r.tag===13){var l=hn(),c=tr(r,l);c!==null&&$e(c,r,l),of(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=cf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);pn=l,r.target.dispatchEvent(l),pn=null}else return n=ui(r),n!==null&&bp(n),t.blockedOn=r,!1;n.shift()}return!0}function Dp(t,n,r){vu(t)&&r.delete(n)}function hE(){ff=!1,gr!==null&&vu(gr)&&(gr=null),pr!==null&&vu(pr)&&(pr=null),yr!==null&&vu(yr)&&(yr=null),Cl.forEach(Dp),Dl.forEach(Dp)}function _u(t,n){t.blockedOn===n&&(t.blockedOn=null,ff||(ff=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,hE)))}var Eu=null;function Op(t){Eu!==t&&(Eu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Eu===t&&(Eu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var h=ui(r);h!==null&&(t.splice(n,3),n-=3,th(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(R){return _u(R,t)}gr!==null&&_u(gr,t),pr!==null&&_u(pr,t),yr!==null&&_u(yr,t),Cl.forEach(n),Dl.forEach(n);for(var r=0;r<vr.length;r++){var l=vr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<vr.length&&(r=vr[0],r.blockedOn===null);)Cp(r),r.blockedOn===null&&vr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],p=c[ge]||null;if(typeof h=="function")p||Op(r);else if(p){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,p=h[ge]||null)E=p.formAction;else if(hf(c)!==null)continue}else E=p.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Op(r)}}}function df(t){this._internalRoot=t}Tu.prototype.render=df.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=hn();Ap(r,l,t,n,null,null)},Tu.prototype.unmount=df.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&aa(),Ap(t.current,2,null,t,null,null),iu(),n[oi]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var n=lo();t={blockedOn:null,target:t,priority:n};for(var r=0;r<vr.length&&n!==0&&n<vr[r].priority;r++);vr.splice(r,0,t),r===0&&Cp(t)}};var Ip=e.version;if(Ip!=="19.0.0")throw Error(a(527,Ip,"19.0.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?st(t):null,t=t===null?null:t.stateNode,t};var fE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Au=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Au.isDisabled&&Au.supportsFiber)try{zi=Au.inject(fE),ze=Au}catch{}}return Ml.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=Km,h=Ym,p=Xm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Ep(t,1,!1,null,null,r,l,c,h,p,E,null),t[oi]=n.current,Xh(t.nodeType===8?t.parentNode:t),new df(n)},Ml.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",h=Km,p=Ym,E=Xm,R=null,M=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(M=r.formState)),n=Ep(t,1,!0,n,r??null,l,c,h,p,E,R,M),n.context=Tp(null),r=n.current,l=hn(),c=lr(l),c.callback=null,or(r,c,l),n.current.lanes=l,le(n,l),ti(n),t[oi]=n.current,Xh(t),new Tu(n)},Ml.version="19.0.0",Ml}var Bp;function AE(){if(Bp)return pf.exports;Bp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),pf.exports=TE(),pf.exports}var SE=AE();const bE=()=>{};var jp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},RE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const f=s[i++];e[a++]=String.fromCharCode((o&31)<<6|f&63)}else if(o>239&&o<365){const f=s[i++],m=s[i++],v=s[i++],y=((o&7)<<18|(f&63)<<12|(m&63)<<6|v&63)-65536;e[a++]=String.fromCharCode(55296+(y>>10)),e[a++]=String.fromCharCode(56320+(y&1023))}else{const f=s[i++],m=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(f&63)<<6|m&63)}}return e.join("")},Wf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const f=s[o],m=o+1<s.length,v=m?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,I=f>>2,U=(f&3)<<4|v>>4;let H=(v&15)<<2|_>>6,$=_&63;y||($=64,m||(H=64)),a.push(i[I],i[U],i[H],i[$])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Jy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):RE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const f=i[s.charAt(o++)],v=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const U=o<s.length?i[s.charAt(o)]:64;if(++o,f==null||v==null||_==null||U==null)throw new wE;const H=f<<2|v>>4;if(a.push(H),_!==64){const $=v<<4&240|_>>2;if(a.push($),U!==64){const X=_<<6&192|U;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class wE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CE=function(s){const e=Jy(s);return Wf.encodeByteArray(e,!0)},Lu=function(s){return CE(s).replace(/\./g,"")},Wy=function(s){try{return Wf.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=()=>tv().__FIREBASE_DEFAULTS__,OE=()=>{if(typeof process>"u"||typeof jp>"u")return;const s=jp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},IE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&Wy(s[1]);return e&&JSON.parse(e)},ec=()=>{try{return bE()||DE()||OE()||IE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},NE=s=>{var e,i;return(i=(e=ec())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},ME=s=>{const e=NE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},ev=()=>{var s;return(s=ec())===null||s===void 0?void 0:s.config},VE=s=>{var e;return(e=ec())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Lu(JSON.stringify(i)),Lu(JSON.stringify(m)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function kE(){var s;const e=(s=ec())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PE(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function zE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BE(){return!kE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function td(){try{return typeof indexedDB=="object"}catch{return!1}}function jE(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var f;e(((f=o.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="FirebaseError";class Ir extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=HE,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sa.prototype.create)}}class Sa{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,f=this.errors[e],m=f?qE(f,a):"Error",v=`${this.serviceName}: ${m} (${o}).`;return new Ir(o,v,a)}}function qE(s,e){return s.replace(GE,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const GE=/\{\$([^}]+)}/g;function Pu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const f=s[o],m=e[o];if(Hp(f)&&Hp(m)){if(!Pu(f,m))return!1}else if(f!==m)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function Hp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function FE(s,e){const i=new QE(s,e);return i.subscribe.bind(i)}class QE{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let o;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");KE(e,["next","error","complete"])?o=e:o={next:e,error:i,complete:a},o.next===void 0&&(o.next=Ef),o.error===void 0&&(o.error=Ef),o.complete===void 0&&(o.complete=Ef);const f=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),f}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KE(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function Ef(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=1e3,XE=2,$E=4*60*60*1e3,ZE=.5;function JE(s,e=YE,i=XE){const a=e*Math.pow(i,s),o=Math.round(ZE*a*(Math.random()-.5)*2);return Math.min($E,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(s){return s&&s._delegate?s._delegate:s}class Ui{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new jl;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(o)return null;throw f}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(eT(e))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:o});a.resolve(f)}catch{}}}}clearInstance(e=us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=us){return this.instances.has(e)}getOptions(e=us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(f);a===v&&m.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),f=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;f.add(e),this.onInitCallbacks.set(o,f);const m=this.instances.get(o);return m&&e(m,o),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=us){return this.component?this.component.multipleInstances?e:us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tT(s){return s===us?void 0:s}function eT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new WE(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Rt||(Rt={}));const iT={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},rT=Rt.INFO,sT={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},aT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=sT[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class nc{constructor(e){this.name=e,this._logLevel=rT,this._logHandler=aT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?iT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const lT=(s,e)=>e.some(i=>s instanceof i);let qp,Gp;function oT(){return qp||(qp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uT(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iv=new WeakMap,Mf=new WeakMap,rv=new WeakMap,Tf=new WeakMap,ed=new WeakMap;function cT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",f),s.removeEventListener("error",m)},f=()=>{i(Ar(s.result)),o()},m=()=>{a(s.error),o()};s.addEventListener("success",f),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&iv.set(i,s)}).catch(()=>{}),ed.set(e,s),e}function hT(s){if(Mf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",m),s.removeEventListener("abort",m)},f=()=>{i(),o()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",f),s.addEventListener("error",m),s.addEventListener("abort",m)});Mf.set(s,e)}let Vf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Mf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||rv.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ar(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function fT(s){Vf=s(Vf)}function dT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Af(this),e,...i);return rv.set(a,e.sort?e.sort():[e]),Ar(a)}:uT().includes(s)?function(...e){return s.apply(Af(this),e),Ar(iv.get(this))}:function(...e){return Ar(s.apply(Af(this),e))}}function mT(s){return typeof s=="function"?dT(s):(s instanceof IDBTransaction&&hT(s),lT(s,oT())?new Proxy(s,Vf):s)}function Ar(s){if(s instanceof IDBRequest)return cT(s);if(Tf.has(s))return Tf.get(s);const e=mT(s);return e!==s&&(Tf.set(s,e),ed.set(e,s)),e}const Af=s=>ed.get(s);function gT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:f}={}){const m=indexedDB.open(s,e),v=Ar(m);return a&&m.addEventListener("upgradeneeded",y=>{a(Ar(m.result),y.oldVersion,y.newVersion,Ar(m.transaction),y)}),i&&m.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),v.then(y=>{f&&y.addEventListener("close",()=>f()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),v}const pT=["get","getKey","getAll","getAllKeys","count"],yT=["put","add","delete","clear"],Sf=new Map;function Fp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Sf.get(e))return Sf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=yT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||pT.includes(i)))return;const f=async function(m,...v){const y=this.transaction(m,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(v.shift())),(await Promise.all([_[i](...v),o&&y.done]))[0]};return Sf.set(e,f),f}fT(s=>({...s,get:(e,i,a)=>Fp(e,i)||s.get(e,i,a),has:(e,i)=>!!Fp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_T(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function _T(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xf="@firebase/app",Qp="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new nc("@firebase/app"),ET="@firebase/app-compat",TT="@firebase/analytics-compat",AT="@firebase/analytics",ST="@firebase/app-check-compat",bT="@firebase/app-check",RT="@firebase/auth",wT="@firebase/auth-compat",CT="@firebase/database",DT="@firebase/data-connect",OT="@firebase/database-compat",IT="@firebase/functions",NT="@firebase/functions-compat",MT="@firebase/installations",VT="@firebase/installations-compat",xT="@firebase/messaging",UT="@firebase/messaging-compat",kT="@firebase/performance",LT="@firebase/performance-compat",PT="@firebase/remote-config",zT="@firebase/remote-config-compat",BT="@firebase/storage",jT="@firebase/storage-compat",HT="@firebase/firestore",qT="@firebase/vertexai",GT="@firebase/firestore-compat",FT="firebase",QT="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uf="[DEFAULT]",KT={[xf]:"fire-core",[ET]:"fire-core-compat",[AT]:"fire-analytics",[TT]:"fire-analytics-compat",[bT]:"fire-app-check",[ST]:"fire-app-check-compat",[RT]:"fire-auth",[wT]:"fire-auth-compat",[CT]:"fire-rtdb",[DT]:"fire-data-connect",[OT]:"fire-rtdb-compat",[IT]:"fire-fn",[NT]:"fire-fn-compat",[MT]:"fire-iid",[VT]:"fire-iid-compat",[xT]:"fire-fcm",[UT]:"fire-fcm-compat",[kT]:"fire-perf",[LT]:"fire-perf-compat",[PT]:"fire-rc",[zT]:"fire-rc-compat",[BT]:"fire-gcs",[jT]:"fire-gcs-compat",[HT]:"fire-fst",[GT]:"fire-fst-compat",[qT]:"fire-vertex","fire-js":"fire-js",[FT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,YT=new Map,kf=new Map;function Kp(s,e){try{s.container.addComponent(e)}catch(i){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Rr(s){const e=s.name;if(kf.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;kf.set(e,s);for(const i of zu.values())Kp(i,s);for(const i of YT.values())Kp(i,s);return!0}function nd(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function cs(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sr=new Sa("app","Firebase",XT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=QT;function sv(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Uf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Sr.create("bad-app-name",{appName:String(o)});if(i||(i=ev()),!i)throw Sr.create("no-options");const f=zu.get(o);if(f){if(Pu(i,f.options)&&Pu(a,f.config))return f;throw Sr.create("duplicate-app",{appName:o})}const m=new nT(o);for(const y of kf.values())m.addComponent(y);const v=new $T(i,a,m);return zu.set(o,v),v}function av(s=Uf){const e=zu.get(s);if(!e&&s===Uf&&ev())return sv();if(!e)throw Sr.create("no-app",{appName:s});return e}function Mi(s,e,i){var a;let o=(a=KT[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const f=o.match(/\s|\//),m=e.match(/\s|\//);if(f||m){const v=[`Unable to register library "${o}" with version "${e}":`];f&&v.push(`library name "${o}" contains illegal characters (whitespace or "/")`),f&&m&&v.push("and"),m&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(v.join(" "));return}Rr(new Ui(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT="firebase-heartbeat-database",JT=1,Hl="firebase-heartbeat-store";let bf=null;function lv(){return bf||(bf=gT(ZT,JT,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Hl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sr.create("idb-open",{originalErrorMessage:s.message})})),bf}async function WT(s){try{const i=(await lv()).transaction(Hl),a=await i.objectStore(Hl).get(ov(s));return await i.done,a}catch(e){if(e instanceof Ir)ki.warn(e.message);else{const i=Sr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(i.message)}}}async function Yp(s,e){try{const a=(await lv()).transaction(Hl,"readwrite");await a.objectStore(Hl).put(e,ov(s)),await a.done}catch(i){if(i instanceof Ir)ki.warn(i.message);else{const a=Sr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});ki.warn(a.message)}}}function ov(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=1024,eA=30;class nA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new rA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Xp();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(m=>m.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:o}),this._heartbeatsCache.heartbeats.length>eA){const m=sA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){ki.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Xp(),{heartbeatsToSend:a,unsentEntries:o}=iA(this._heartbeatsCache.heartbeats),f=Lu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return ki.warn(i),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function iA(s,e=tA){const i=[];let a=s.slice();for(const o of s){const f=i.find(m=>m.agent===o.agent);if(f){if(f.dates.push(o.date),$p(i)>e){f.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),$p(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class rA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return td()?jE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WT(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Yp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function $p(s){return Lu(JSON.stringify({version:2,heartbeats:s})).length}function sA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(s){Rr(new Ui("platform-logger",e=>new vT(e),"PRIVATE")),Rr(new Ui("heartbeat",e=>new nA(e),"PRIVATE")),Mi(xf,Qp,s),Mi(xf,Qp,"esm2017"),Mi("fire-js","")}aA("");var lA="firebase",oA="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mi(lA,oA,"app");var Zp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var id;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,w){function S(){}S.prototype=w.prototype,V.D=w.prototype,V.prototype=new S,V.prototype.constructor=V,V.C=function(C,A,O){for(var b=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)b[Ht-2]=arguments[Ht];return w.prototype[A].apply(C,b)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,w,S){S||(S=0);var C=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)C[A]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(A=0;16>A;++A)C[A]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=V.g[0],S=V.g[1],A=V.g[2];var O=V.g[3],b=w+(O^S&(A^O))+C[0]+3614090360&4294967295;w=S+(b<<7&4294967295|b>>>25),b=O+(A^w&(S^A))+C[1]+3905402710&4294967295,O=w+(b<<12&4294967295|b>>>20),b=A+(S^O&(w^S))+C[2]+606105819&4294967295,A=O+(b<<17&4294967295|b>>>15),b=S+(w^A&(O^w))+C[3]+3250441966&4294967295,S=A+(b<<22&4294967295|b>>>10),b=w+(O^S&(A^O))+C[4]+4118548399&4294967295,w=S+(b<<7&4294967295|b>>>25),b=O+(A^w&(S^A))+C[5]+1200080426&4294967295,O=w+(b<<12&4294967295|b>>>20),b=A+(S^O&(w^S))+C[6]+2821735955&4294967295,A=O+(b<<17&4294967295|b>>>15),b=S+(w^A&(O^w))+C[7]+4249261313&4294967295,S=A+(b<<22&4294967295|b>>>10),b=w+(O^S&(A^O))+C[8]+1770035416&4294967295,w=S+(b<<7&4294967295|b>>>25),b=O+(A^w&(S^A))+C[9]+2336552879&4294967295,O=w+(b<<12&4294967295|b>>>20),b=A+(S^O&(w^S))+C[10]+4294925233&4294967295,A=O+(b<<17&4294967295|b>>>15),b=S+(w^A&(O^w))+C[11]+2304563134&4294967295,S=A+(b<<22&4294967295|b>>>10),b=w+(O^S&(A^O))+C[12]+1804603682&4294967295,w=S+(b<<7&4294967295|b>>>25),b=O+(A^w&(S^A))+C[13]+4254626195&4294967295,O=w+(b<<12&4294967295|b>>>20),b=A+(S^O&(w^S))+C[14]+2792965006&4294967295,A=O+(b<<17&4294967295|b>>>15),b=S+(w^A&(O^w))+C[15]+1236535329&4294967295,S=A+(b<<22&4294967295|b>>>10),b=w+(A^O&(S^A))+C[1]+4129170786&4294967295,w=S+(b<<5&4294967295|b>>>27),b=O+(S^A&(w^S))+C[6]+3225465664&4294967295,O=w+(b<<9&4294967295|b>>>23),b=A+(w^S&(O^w))+C[11]+643717713&4294967295,A=O+(b<<14&4294967295|b>>>18),b=S+(O^w&(A^O))+C[0]+3921069994&4294967295,S=A+(b<<20&4294967295|b>>>12),b=w+(A^O&(S^A))+C[5]+3593408605&4294967295,w=S+(b<<5&4294967295|b>>>27),b=O+(S^A&(w^S))+C[10]+38016083&4294967295,O=w+(b<<9&4294967295|b>>>23),b=A+(w^S&(O^w))+C[15]+3634488961&4294967295,A=O+(b<<14&4294967295|b>>>18),b=S+(O^w&(A^O))+C[4]+3889429448&4294967295,S=A+(b<<20&4294967295|b>>>12),b=w+(A^O&(S^A))+C[9]+568446438&4294967295,w=S+(b<<5&4294967295|b>>>27),b=O+(S^A&(w^S))+C[14]+3275163606&4294967295,O=w+(b<<9&4294967295|b>>>23),b=A+(w^S&(O^w))+C[3]+4107603335&4294967295,A=O+(b<<14&4294967295|b>>>18),b=S+(O^w&(A^O))+C[8]+1163531501&4294967295,S=A+(b<<20&4294967295|b>>>12),b=w+(A^O&(S^A))+C[13]+2850285829&4294967295,w=S+(b<<5&4294967295|b>>>27),b=O+(S^A&(w^S))+C[2]+4243563512&4294967295,O=w+(b<<9&4294967295|b>>>23),b=A+(w^S&(O^w))+C[7]+1735328473&4294967295,A=O+(b<<14&4294967295|b>>>18),b=S+(O^w&(A^O))+C[12]+2368359562&4294967295,S=A+(b<<20&4294967295|b>>>12),b=w+(S^A^O)+C[5]+4294588738&4294967295,w=S+(b<<4&4294967295|b>>>28),b=O+(w^S^A)+C[8]+2272392833&4294967295,O=w+(b<<11&4294967295|b>>>21),b=A+(O^w^S)+C[11]+1839030562&4294967295,A=O+(b<<16&4294967295|b>>>16),b=S+(A^O^w)+C[14]+4259657740&4294967295,S=A+(b<<23&4294967295|b>>>9),b=w+(S^A^O)+C[1]+2763975236&4294967295,w=S+(b<<4&4294967295|b>>>28),b=O+(w^S^A)+C[4]+1272893353&4294967295,O=w+(b<<11&4294967295|b>>>21),b=A+(O^w^S)+C[7]+4139469664&4294967295,A=O+(b<<16&4294967295|b>>>16),b=S+(A^O^w)+C[10]+3200236656&4294967295,S=A+(b<<23&4294967295|b>>>9),b=w+(S^A^O)+C[13]+681279174&4294967295,w=S+(b<<4&4294967295|b>>>28),b=O+(w^S^A)+C[0]+3936430074&4294967295,O=w+(b<<11&4294967295|b>>>21),b=A+(O^w^S)+C[3]+3572445317&4294967295,A=O+(b<<16&4294967295|b>>>16),b=S+(A^O^w)+C[6]+76029189&4294967295,S=A+(b<<23&4294967295|b>>>9),b=w+(S^A^O)+C[9]+3654602809&4294967295,w=S+(b<<4&4294967295|b>>>28),b=O+(w^S^A)+C[12]+3873151461&4294967295,O=w+(b<<11&4294967295|b>>>21),b=A+(O^w^S)+C[15]+530742520&4294967295,A=O+(b<<16&4294967295|b>>>16),b=S+(A^O^w)+C[2]+3299628645&4294967295,S=A+(b<<23&4294967295|b>>>9),b=w+(A^(S|~O))+C[0]+4096336452&4294967295,w=S+(b<<6&4294967295|b>>>26),b=O+(S^(w|~A))+C[7]+1126891415&4294967295,O=w+(b<<10&4294967295|b>>>22),b=A+(w^(O|~S))+C[14]+2878612391&4294967295,A=O+(b<<15&4294967295|b>>>17),b=S+(O^(A|~w))+C[5]+4237533241&4294967295,S=A+(b<<21&4294967295|b>>>11),b=w+(A^(S|~O))+C[12]+1700485571&4294967295,w=S+(b<<6&4294967295|b>>>26),b=O+(S^(w|~A))+C[3]+2399980690&4294967295,O=w+(b<<10&4294967295|b>>>22),b=A+(w^(O|~S))+C[10]+4293915773&4294967295,A=O+(b<<15&4294967295|b>>>17),b=S+(O^(A|~w))+C[1]+2240044497&4294967295,S=A+(b<<21&4294967295|b>>>11),b=w+(A^(S|~O))+C[8]+1873313359&4294967295,w=S+(b<<6&4294967295|b>>>26),b=O+(S^(w|~A))+C[15]+4264355552&4294967295,O=w+(b<<10&4294967295|b>>>22),b=A+(w^(O|~S))+C[6]+2734768916&4294967295,A=O+(b<<15&4294967295|b>>>17),b=S+(O^(A|~w))+C[13]+1309151649&4294967295,S=A+(b<<21&4294967295|b>>>11),b=w+(A^(S|~O))+C[4]+4149444226&4294967295,w=S+(b<<6&4294967295|b>>>26),b=O+(S^(w|~A))+C[11]+3174756917&4294967295,O=w+(b<<10&4294967295|b>>>22),b=A+(w^(O|~S))+C[2]+718787259&4294967295,A=O+(b<<15&4294967295|b>>>17),b=S+(O^(A|~w))+C[9]+3951481745&4294967295,V.g[0]=V.g[0]+w&4294967295,V.g[1]=V.g[1]+(A+(b<<21&4294967295|b>>>11))&4294967295,V.g[2]=V.g[2]+A&4294967295,V.g[3]=V.g[3]+O&4294967295}a.prototype.u=function(V,w){w===void 0&&(w=V.length);for(var S=w-this.blockSize,C=this.B,A=this.h,O=0;O<w;){if(A==0)for(;O<=S;)o(this,V,O),O+=this.blockSize;if(typeof V=="string"){for(;O<w;)if(C[A++]=V.charCodeAt(O++),A==this.blockSize){o(this,C),A=0;break}}else for(;O<w;)if(C[A++]=V[O++],A==this.blockSize){o(this,C),A=0;break}}this.h=A,this.o+=w},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var w=1;w<V.length-8;++w)V[w]=0;var S=8*this.o;for(w=V.length-8;w<V.length;++w)V[w]=S&255,S/=256;for(this.u(V),V=Array(16),w=S=0;4>w;++w)for(var C=0;32>C;C+=8)V[S++]=this.g[w]>>>C&255;return V};function f(V,w){var S=v;return Object.prototype.hasOwnProperty.call(S,V)?S[V]:S[V]=w(V)}function m(V,w){this.h=w;for(var S=[],C=!0,A=V.length-1;0<=A;A--){var O=V[A]|0;C&&O==w||(S[A]=O,C=!1)}this.g=S}var v={};function y(V){return-128<=V&&128>V?f(V,function(w){return new m([w|0],0>w?-1:0)}):new m([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return U;if(0>V)return et(_(-V));for(var w=[],S=1,C=0;V>=S;C++)w[C]=V/S|0,S*=4294967296;return new m(w,0)}function I(V,w){if(V.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(V.charAt(0)=="-")return et(I(V.substring(1),w));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(w,8)),C=U,A=0;A<V.length;A+=8){var O=Math.min(8,V.length-A),b=parseInt(V.substring(A,A+O),w);8>O?(O=_(Math.pow(w,O)),C=C.j(O).add(_(b))):(C=C.j(S),C=C.add(_(b)))}return C}var U=y(0),H=y(1),$=y(16777216);s=m.prototype,s.m=function(){if(ot(this))return-et(this).m();for(var V=0,w=1,S=0;S<this.g.length;S++){var C=this.i(S);V+=(0<=C?C:4294967296+C)*w,w*=4294967296}return V},s.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(X(this))return"0";if(ot(this))return"-"+et(this).toString(V);for(var w=_(Math.pow(V,6)),S=this,C="";;){var A=Pt(S,w).g;S=Tt(S,A.j(w));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(V);if(S=A,X(S))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},s.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function X(V){if(V.h!=0)return!1;for(var w=0;w<V.g.length;w++)if(V.g[w]!=0)return!1;return!0}function ot(V){return V.h==-1}s.l=function(V){return V=Tt(this,V),ot(V)?-1:X(V)?0:1};function et(V){for(var w=V.g.length,S=[],C=0;C<w;C++)S[C]=~V.g[C];return new m(S,~V.h).add(H)}s.abs=function(){return ot(this)?et(this):this},s.add=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],C=0,A=0;A<=w;A++){var O=C+(this.i(A)&65535)+(V.i(A)&65535),b=(O>>>16)+(this.i(A)>>>16)+(V.i(A)>>>16);C=b>>>16,O&=65535,b&=65535,S[A]=b<<16|O}return new m(S,S[S.length-1]&-2147483648?-1:0)};function Tt(V,w){return V.add(et(w))}s.j=function(V){if(X(this)||X(V))return U;if(ot(this))return ot(V)?et(this).j(et(V)):et(et(this).j(V));if(ot(V))return et(this.j(et(V)));if(0>this.l($)&&0>V.l($))return _(this.m()*V.m());for(var w=this.g.length+V.g.length,S=[],C=0;C<2*w;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var A=0;A<V.g.length;A++){var O=this.i(C)>>>16,b=this.i(C)&65535,Ht=V.i(A)>>>16,qt=V.i(A)&65535;S[2*C+2*A]+=b*qt,ht(S,2*C+2*A),S[2*C+2*A+1]+=O*qt,ht(S,2*C+2*A+1),S[2*C+2*A+1]+=b*Ht,ht(S,2*C+2*A+1),S[2*C+2*A+2]+=O*Ht,ht(S,2*C+2*A+2)}for(C=0;C<w;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=w;C<2*w;C++)S[C]=0;return new m(S,0)};function ht(V,w){for(;(V[w]&65535)!=V[w];)V[w+1]+=V[w]>>>16,V[w]&=65535,w++}function pt(V,w){this.g=V,this.h=w}function Pt(V,w){if(X(w))throw Error("division by zero");if(X(V))return new pt(U,U);if(ot(V))return w=Pt(et(V),w),new pt(et(w.g),et(w.h));if(ot(w))return w=Pt(V,et(w)),new pt(et(w.g),w.h);if(30<V.g.length){if(ot(V)||ot(w))throw Error("slowDivide_ only works with positive integers.");for(var S=H,C=w;0>=C.l(V);)S=dt(S),C=dt(C);var A=wt(S,1),O=wt(C,1);for(C=wt(C,2),S=wt(S,2);!X(C);){var b=O.add(C);0>=b.l(V)&&(A=A.add(S),O=b),C=wt(C,1),S=wt(S,1)}return w=Tt(V,A.j(w)),new pt(A,w)}for(A=U;0<=V.l(w);){for(S=Math.max(1,Math.floor(V.m()/w.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=_(S),b=O.j(w);ot(b)||0<b.l(V);)S-=C,O=_(S),b=O.j(w);X(O)&&(O=H),A=A.add(O),V=Tt(V,b)}return new pt(A,V)}s.A=function(V){return Pt(this,V).h},s.and=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)&V.i(C);return new m(S,this.h&V.h)},s.or=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)|V.i(C);return new m(S,this.h|V.h)},s.xor=function(V){for(var w=Math.max(this.g.length,V.g.length),S=[],C=0;C<w;C++)S[C]=this.i(C)^V.i(C);return new m(S,this.h^V.h)};function dt(V){for(var w=V.g.length+1,S=[],C=0;C<w;C++)S[C]=V.i(C)<<1|V.i(C-1)>>>31;return new m(S,V.h)}function wt(V,w){var S=w>>5;w%=32;for(var C=V.g.length-S,A=[],O=0;O<C;O++)A[O]=0<w?V.i(O+S)>>>w|V.i(O+S+1)<<32-w:V.i(O+S);return new m(A,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=I,id=m}).apply(typeof Zp<"u"?Zp:typeof self<"u"?self:typeof window<"u"?window:{});var Su=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uv,xl,cv,Nu,Lf,hv,fv,dv;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,d,g){return u==Array.prototype||u==Object.prototype||(u[d]=g.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Su=="object"&&Su];for(var d=0;d<u.length;++d){var g=u[d];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=i(this);function o(u,d){if(d)t:{var g=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var k=u[T];if(!(k in g))break t;g=g[k]}u=u[u.length-1],T=g[u],d=d(T),d!=T&&d!=null&&e(g,u,{configurable:!0,writable:!0,value:d})}}function f(u,d){u instanceof String&&(u+="");var g=0,T=!1,k={next:function(){if(!T&&g<u.length){var z=g++;return{value:d(z,u[z]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return f(this,function(d,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},v=this||self;function y(u){var d=typeof u;return d=d!="object"?d:u?Array.isArray(u)?"array":d:"null",d=="array"||d=="object"&&typeof u.length=="number"}function _(u){var d=typeof u;return d=="object"&&u!=null||d=="function"}function I(u,d,g){return u.call.apply(u.bind,arguments)}function U(u,d,g){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),u.apply(d,k)}}return function(){return u.apply(d,arguments)}}function H(u,d,g){return H=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?I:U,H.apply(null,arguments)}function $(u,d){var g=Array.prototype.slice.call(arguments,1);return function(){var T=g.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function X(u,d){function g(){}g.prototype=d.prototype,u.aa=d.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(T,k,z){for(var Z=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Z[Ot-2]=arguments[Ot];return d.prototype[k].apply(T,Z)}}function ot(u){const d=u.length;if(0<d){const g=Array(d);for(let T=0;T<d;T++)g[T]=u[T];return g}return[]}function et(u,d){for(let g=1;g<arguments.length;g++){const T=arguments[g];if(y(T)){const k=u.length||0,z=T.length||0;u.length=k+z;for(let Z=0;Z<z;Z++)u[k+Z]=T[Z]}else u.push(T)}}class Tt{constructor(d,g){this.i=d,this.j=g,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ht(u){return/^[\s\xa0]*$/.test(u)}function pt(){var u=v.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var dt=pt().indexOf("Gecko")!=-1&&!(pt().toLowerCase().indexOf("webkit")!=-1&&pt().indexOf("Edge")==-1)&&!(pt().indexOf("Trident")!=-1||pt().indexOf("MSIE")!=-1)&&pt().indexOf("Edge")==-1;function wt(u,d,g){for(const T in u)d.call(g,u[T],T,u)}function V(u,d){for(const g in u)d.call(void 0,u[g],g,u)}function w(u){const d={};for(const g in u)d[g]=u[g];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,d){let g,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(g in T)u[g]=T[g];for(let z=0;z<S.length;z++)g=S[z],Object.prototype.hasOwnProperty.call(T,g)&&(u[g]=T[g])}}function A(u){var d=1;u=u.split(":");const g=[];for(;0<d&&u.length;)g.push(u.shift()),d--;return u.length&&g.push(u.join(":")),g}function O(u){v.setTimeout(()=>{throw u},0)}function b(){var u=Dt;let d=null;return u.g&&(d=u.g,u.g=u.g.next,u.g||(u.h=null),d.next=null),d}class Ht{constructor(){this.h=this.g=null}add(d,g){const T=qt.get();T.set(d,g),this.h?this.h.next=T:this.g=T,this.h=T}}var qt=new Tt(()=>new J,u=>u.reset());class J{constructor(){this.next=this.g=this.h=null}set(d,g){this.h=d,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,it=!1,Dt=new Ht,D=()=>{const u=v.Promise.resolve(void 0);nt=()=>{u.then(K)}};var K=()=>{for(var u;u=b();){try{u.h.call(u.g)}catch(g){O(g)}var d=qt;d.j(u),100>d.h&&(d.h++,u.next=d.g,d.g=u)}it=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,d){this.type=u,this.g=this.target=d,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var u=!1,d=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};v.addEventListener("test",g,d),v.removeEventListener("test",g,d)}catch{}return u}();function gt(u,d){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=d,d=u.relatedTarget){if(dt){t:{try{Pt(d.nodeName);var k=!0;break t}catch{}k=!1}k||(d=null)}}else g=="mouseover"?d=u.fromElement:g=="mouseout"&&(d=u.toElement);this.relatedTarget=d,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&gt.aa.h.call(this)}}X(gt,W);var yt={2:"touch",3:"pen",4:"mouse"};gt.prototype.h=function(){gt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),Vt=0;function te(u,d,g,T,k){this.listener=u,this.proxy=null,this.src=d,this.type=g,this.capture=!!T,this.ha=k,this.key=++Vt,this.da=this.fa=!1}function Bt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Fe(u){this.src=u,this.g={},this.h=0}Fe.prototype.add=function(u,d,g,T,k){var z=u.toString();u=this.g[z],u||(u=this.g[z]=[],this.h++);var Z=fn(u,d,T,k);return-1<Z?(d=u[Z],g||(d.fa=!1)):(d=new te(d,this.src,z,!!T,k),d.fa=g,u.push(d)),d};function si(u,d){var g=d.type;if(g in u.g){var T=u.g[g],k=Array.prototype.indexOf.call(T,d,void 0),z;(z=0<=k)&&Array.prototype.splice.call(T,k,1),z&&(Bt(d),u.g[g].length==0&&(delete u.g[g],u.h--))}}function fn(u,d,g,T){for(var k=0;k<u.length;++k){var z=u[k];if(!z.da&&z.listener==d&&z.capture==!!g&&z.ha==T)return k}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),Pi={};function ai(u,d,g,T,k){if(Array.isArray(d)){for(var z=0;z<d.length;z++)ai(u,d[z],g,T,k);return null}return g=eo(g),u&&u[ue]?u.K(d,g,_(T)?!!T.capture:!1,k):wa(u,d,g,!1,T,k)}function wa(u,d,g,T,k,z){if(!d)throw Error("Invalid event type");var Z=_(k)?!!k.capture:!!k,Ot=Ca(u);if(Ot||(u[Li]=Ot=new Fe(u)),g=Ot.add(d,g,T,Z,z),g.proxy)return g;if(T=As(),g.proxy=T,T.src=u,T.listener=g,u.addEventListener)tt||(k=Z),k===void 0&&(k=!1),u.addEventListener(d.toString(),T,k);else if(u.attachEvent)u.attachEvent(bs(d.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return g}function As(){function u(g){return d.call(u.src,u.listener,g)}const d=gc;return u}function Ss(u,d,g,T,k){if(Array.isArray(d))for(var z=0;z<d.length;z++)Ss(u,d[z],g,T,k);else T=_(T)?!!T.capture:!!T,g=eo(g),u&&u[ue]?(u=u.i,d=String(d).toString(),d in u.g&&(z=u.g[d],g=fn(z,g,T,k),-1<g&&(Bt(z[g]),Array.prototype.splice.call(z,g,1),z.length==0&&(delete u.g[d],u.h--)))):u&&(u=Ca(u))&&(d=u.g[d.toString()],u=-1,d&&(u=fn(d,g,T,k)),(g=-1<u?d[u]:null)&&Nr(g))}function Nr(u){if(typeof u!="number"&&u&&!u.da){var d=u.src;if(d&&d[ue])si(d.i,u);else{var g=u.type,T=u.proxy;d.removeEventListener?d.removeEventListener(g,T,u.capture):d.detachEvent?d.detachEvent(bs(g),T):d.addListener&&d.removeListener&&d.removeListener(T),(g=Ca(d))?(si(g,u),g.h==0&&(g.src=null,d[Li]=null)):Bt(u)}}}function bs(u){return u in Pi?Pi[u]:Pi[u]="on"+u}function gc(u,d){if(u.da)u=!0;else{d=new gt(d,this);var g=u.listener,T=u.ha||u.src;u.fa&&Nr(u),u=g.call(T,d)}return u}function Ca(u){return u=u[Li],u instanceof Fe?u:null}var Ze="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(u){return typeof u=="function"?u:(u[Ze]||(u[Ze]=function(d){return u.handleEvent(d)}),u[Ze])}function me(){st.call(this),this.i=new Fe(this),this.M=this,this.F=null}X(me,st),me.prototype[ue]=!0,me.prototype.removeEventListener=function(u,d,g,T){Ss(this,u,d,g,T)};function Te(u,d){var g,T=u.F;if(T)for(g=[];T;T=T.F)g.push(T);if(u=u.M,T=d.type||d,typeof d=="string")d=new W(d,u);else if(d instanceof W)d.target=d.target||u;else{var k=d;d=new W(T,u),C(d,k)}if(k=!0,g)for(var z=g.length-1;0<=z;z--){var Z=d.g=g[z];k=li(Z,T,!0,d)&&k}if(Z=d.g=u,k=li(Z,T,!0,d)&&k,k=li(Z,T,!1,d)&&k,g)for(z=0;z<g.length;z++)Z=d.g=g[z],k=li(Z,T,!1,d)&&k}me.prototype.N=function(){if(me.aa.N.call(this),this.i){var u=this.i,d;for(d in u.g){for(var g=u.g[d],T=0;T<g.length;T++)Bt(g[T]);delete u.g[d],u.h--}}this.F=null},me.prototype.K=function(u,d,g,T){return this.i.add(String(u),d,!1,g,T)},me.prototype.L=function(u,d,g,T){return this.i.add(String(u),d,!0,g,T)};function li(u,d,g,T){if(d=u.i.g[String(d)],!d)return!0;d=d.concat();for(var k=!0,z=0;z<d.length;++z){var Z=d[z];if(Z&&!Z.da&&Z.capture==g){var Ot=Z.listener,pe=Z.ha||Z.src;Z.fa&&si(u.i,Z),k=Ot.call(pe,T)!==!1&&k}}return k&&!T.defaultPrevented}function no(u,d,g){if(typeof u=="function")g&&(u=H(u,g));else if(u&&typeof u.handleEvent=="function")u=H(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:v.setTimeout(u,d||0)}function Da(u){u.g=no(()=>{u.g=null,u.i&&(u.i=!1,Da(u))},u.l);const d=u.h;u.h=null,u.m.apply(null,d)}class pc extends st{constructor(d,g){super(),this.m=d,this.l=g,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Da(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mr(u){st.call(this),this.h=u,this.g={}}X(Mr,st);var zi=[];function ze(u){wt(u.g,function(d,g){this.g.hasOwnProperty(g)&&Nr(d)},u),u.g={}}Mr.prototype.N=function(){Mr.aa.N.call(this),ze(this)},Mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Oa=v.JSON.stringify,zn=v.JSON.parse,Qe=class{stringify(u){return v.JSON.stringify(u,void 0)}parse(u){return v.JSON.parse(u,void 0)}};function Ia(){}Ia.prototype.h=null;function io(u){return u.h||(u.h=u.i())}function ro(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){W.call(this,"d")}X(Bi,W);function On(){W.call(this,"c")}X(On,W);var dn={},ji=null;function Rs(){return ji=ji||new me}dn.La="serverreachability";function Na(u){W.call(this,dn.La,u)}X(Na,W);function Hi(u){const d=Rs();Te(d,new Na(d))}dn.STAT_EVENT="statevent";function ws(u,d){W.call(this,dn.STAT_EVENT,u),this.stat=d}X(ws,W);function le(u){const d=Rs();Te(d,new ws(d,u))}dn.Ma="timingevent";function so(u,d){W.call(this,dn.Ma,u),this.size=d}X(so,W);function qi(u,d){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){u()},d)}function Gi(){this.g=!0}Gi.prototype.xa=function(){this.g=!1};function ao(u,d,g,T,k,z){u.info(function(){if(u.g)if(z)for(var Z="",Ot=z.split("&"),pe=0;pe<Ot.length;pe++){var It=Ot[pe].split("=");if(1<It.length){var be=It[0];It=It[1];var ye=be.split("_");Z=2<=ye.length&&ye[1]=="type"?Z+(be+"="+It+"&"):Z+(be+"=redacted&")}}else Z=null;else Z=z;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+d+`
`+g+`
`+Z})}function lo(u,d,g,T,k,z,Z){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+d+`
`+g+`
`+z+" "+Z})}function Fi(u,d,g,T){u.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ae(u,g)+(T?" "+T:"")})}function jn(u,d){u.info(function(){return"TIMEOUT: "+d})}Gi.prototype.info=function(){};function Ae(u,d){if(!u.g)return d;if(!d)return null;try{var g=JSON.parse(d);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var T=g[u];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var z=k[0];if(z!="noop"&&z!="stop"&&z!="close")for(var Z=1;Z<k.length;Z++)k[Z]=""}}}}return Oa(g)}catch{return d}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vr;function Cs(){}X(Cs,Ia),Cs.prototype.g=function(){return new XMLHttpRequest},Cs.prototype.i=function(){return{}},Vr=new Cs;function Hn(u,d,g,T){this.j=u,this.i=d,this.l=g,this.R=T||1,this.U=new Mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ma}function Ma(){this.i=null,this.g="",this.h=!1}var Qi={},xr={};function In(u,d,g){u.L=1,u.v=Lr(ee(d)),u.m=g,u.P=!0,ui(u,null)}function ui(u,d){u.F=Date.now(),Zt(u),u.A=ee(u.v);var g=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),fi(g.i,"t",T),u.C=0,g=u.j.J,u.h=new Ma,u.g=Ao(u.j,g?d:null,!u.m),0<u.O&&(u.M=new pc(H(u.Y,u,u.g),u.O)),d=u.U,g=u.g,T=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(zi[0]=k.toString()),k=zi);for(var z=0;z<k.length;z++){var Z=ai(g,k[z],T||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=u.H?w(u.H):{},u.m?(u.u||(u.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,d)):(u.u="GET",u.g.ea(u.A,u.u,null,d)),Hi(),ao(u.i,u.u,u.A,u.l,u.R,u.m)}Hn.prototype.ca=function(u){u=u.target;const d=this.M;d&&vn(u)==3?d.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const ye=vn(this.g);var d=this.g.Ba();const pi=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||ye!=4||d==7||(d==8||0>=pi?Hi(3):Hi(2)),Ds(this);var g=this.g.Z();this.X=g;e:if(Ki(this)){var T=mo(this.g);u="";var k=T.length,z=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Je(this),sn(this);var Z="";break e}this.h.i=new v.TextDecoder}for(d=0;d<k;d++)this.h.h=!0,u+=this.h.i.decode(T[d],{stream:!(z&&d==k-1)});T.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,lo(this.i,this.u,this.A,this.l,this.R,ye,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,pe=this.g;if((Ot=pe.g?pe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ht(Ot)){var It=Ot;break e}}It=null}if(g=It)Fi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,g);else{this.o=!1,this.s=3,le(12),Je(this),sn(this);break t}}if(this.P){g=!0;let Ne;for(;!this.J&&this.C<Z.length;)if(Ne=Yi(this,Z),Ne==xr){ye==4&&(this.s=4,le(14),g=!1),Fi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ne==Qi){this.s=4,le(15),Fi(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else Fi(this.i,this.l,Ne,null),an(this,Ne);if(Ki(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||Z.length!=0||this.h.h||(this.s=1,le(16),g=!1),this.o=this.o&&g,!g)Fi(this.i,this.l,Z,"[Invalid Chunked Response]"),Je(this),sn(this);else if(0<Z.length&&!this.W){this.W=!0;var be=this.j;be.g==this&&be.ba&&!be.M&&(be.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Gr(be),be.M=!0,le(11))}}else Fi(this.i,this.l,Z,null),an(this,Z);ye==4&&Je(this),this.o&&!this.J&&(ye==4?_o(this.j,this):(this.o=!1,Zt(this)))}else Ac(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,le(12)):(this.s=0,le(13)),Je(this),sn(this)}}}catch{}finally{}};function Ki(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Yi(u,d){var g=u.C,T=d.indexOf(`
`,g);return T==-1?xr:(g=Number(d.substring(g,T)),isNaN(g)?Qi:(T+=1,T+g>d.length?xr:(d=d.slice(T,T+g),u.C=T+g,d)))}Hn.prototype.cancel=function(){this.J=!0,Je(this)};function Zt(u){u.S=Date.now()+u.I,Va(u,u.I)}function Va(u,d){if(u.B!=null)throw Error("WatchDog timer not null");u.B=qi(H(u.ba,u),d)}function Ds(u){u.B&&(v.clearTimeout(u.B),u.B=null)}Hn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(jn(this.i,this.A),this.L!=2&&(Hi(),le(17)),Je(this),this.s=2,sn(this)):Va(this,this.S-u)};function sn(u){u.j.G==0||u.J||_o(u.j,u)}function Je(u){Ds(u);var d=u.M;d&&typeof d.ma=="function"&&d.ma(),u.M=null,ze(u.U),u.g&&(d=u.g,u.g=null,d.abort(),d.ma())}function an(u,d){try{var g=u.j;if(g.G!=0&&(g.g==u||Xi(g.h,u))){if(!u.K&&Xi(g.h,u)&&g.G==3){try{var T=g.Da.g.parse(d)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)Ps(g),ks(g);else break t;Ga(g),le(18)}}else g.za=k[1],0<g.za-g.T&&37500>k[2]&&g.F&&g.v==0&&!g.C&&(g.C=qi(H(g.Za,g),6e3));if(1>=oo(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else gi(g,11)}else if((u.K||g.g==u)&&Ps(g),!ht(d))for(k=g.Da.g.parse(d),d=0;d<k.length;d++){let It=k[d];if(g.T=It[0],It=It[1],g.G==2)if(It[0]=="c"){g.K=It[1],g.ia=It[2];const be=It[3];be!=null&&(g.la=be,g.j.info("VER="+g.la));const ye=It[4];ye!=null&&(g.Aa=ye,g.j.info("SVER="+g.Aa));const pi=It[5];pi!=null&&typeof pi=="number"&&0<pi&&(T=1.5*pi,g.L=T,g.j.info("backChannelRequestTimeoutMs_="+T)),T=g;const Ne=u.g;if(Ne){const Xn=Ne.g?Ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xn){var z=T.h;z.g||Xn.indexOf("spdy")==-1&&Xn.indexOf("quic")==-1&&Xn.indexOf("h2")==-1||(z.j=z.l,z.g=new Set,z.h&&($i(z,z.h),z.h=null))}if(T.D){const Qa=Ne.g?Ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Qa&&(T.ya=Qa,xt(T.I,T.D,Qa))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),T=g;var Z=u;if(T.qa=To(T,T.J?T.ia:null,T.W),Z.K){mn(T.h,Z);var Ot=Z,pe=T.L;pe&&(Ot.I=pe),Ot.B&&(Ds(Ot),Zt(Ot)),T.g=Z}else yo(T);0<g.i.length&&Ls(g)}else It[0]!="stop"&&It[0]!="close"||gi(g,7);else g.G==3&&(It[0]=="stop"||It[0]=="close"?It[0]=="stop"?gi(g,7):Ha(g):It[0]!="noop"&&g.l&&g.l.ta(It),g.v=0)}}Hi(4)}catch{}}var yc=class{constructor(u,d){this.g=u,this.map=d}};function xa(u){this.l=u||10,v.PerformanceNavigationTiming?(u=v.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ua(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oo(u){return u.h?1:u.g?u.g.size:0}function Xi(u,d){return u.h?u.h==d:u.g?u.g.has(d):!1}function $i(u,d){u.g?u.g.add(d):u.h=d}function mn(u,d){u.h&&u.h==d?u.h=null:u.g&&u.g.has(d)&&u.g.delete(d)}xa.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ke(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let d=u.i;for(const g of u.g.values())d=d.concat(g.D);return d}return ot(u.i)}function uo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var d=[],g=u.length,T=0;T<g;T++)d.push(u[T]);return d}d=[],g=0;for(T in u)d[g++]=u[T];return d}function vc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var d=[];u=u.length;for(var g=0;g<u;g++)d.push(g);return d}d=[],g=0;for(const T in u)d[g++]=T;return d}}}function Ur(u,d){if(u.forEach&&typeof u.forEach=="function")u.forEach(d,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,d,void 0);else for(var g=vc(u),T=uo(u),k=T.length,z=0;z<k;z++)d.call(void 0,T[z],g&&g[z],u)}var ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Os(u,d){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var T=u[g].indexOf("="),k=null;if(0<=T){var z=u[g].substring(0,T);k=u[g].substring(T+1)}else z=u[g];d(z,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function ci(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ci){this.h=u.h,Zi(this,u.j),this.o=u.o,this.g=u.g,kr(this,u.s),this.l=u.l;var d=u.i,g=new qn;g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),Is(this,g),this.m=u.m}else u&&(d=String(u).match(ka))?(this.h=!1,Zi(this,d[1]||"",!0),this.o=Ji(d[2]||""),this.g=Ji(d[3]||"",!0),kr(this,d[4]),this.l=Ji(d[5]||"",!0),Is(this,d[6]||"",!0),this.m=Ji(d[7]||"")):(this.h=!1,this.i=new qn(null,this.h))}ci.prototype.toString=function(){var u=[],d=this.j;d&&u.push(gn(d,La,!0),":");var g=this.g;return(g||d=="file")&&(u.push("//"),(d=this.o)&&u.push(gn(d,La,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(gn(g,g.charAt(0)=="/"?Pa:co,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",gn(g,Tc)),u.join("")};function ee(u){return new ci(u)}function Zi(u,d,g){u.j=g?Ji(d,!0):d,u.j&&(u.j=u.j.replace(/:$/,""))}function kr(u,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);u.s=d}else u.s=null}function Is(u,d,g){d instanceof qn?(u.i=d,za(u.i,u.h)):(g||(d=gn(d,Ec)),u.i=new qn(d,u.h))}function xt(u,d,g){u.i.set(d,g)}function Lr(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ji(u,d){return u?d?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,d,g){return typeof u=="string"?(u=encodeURI(u).replace(d,_c),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function _c(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var La=/[#\/\?@]/g,co=/[#\?:]/g,Pa=/[#\?]/g,Ec=/[#\?@]/g,Tc=/#/g;function qn(u,d){this.h=this.g=null,this.i=u||null,this.j=!!d}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Os(u.i,function(d,g){u.add(decodeURIComponent(d.replace(/\+/g," ")),g)}))}s=qn.prototype,s.add=function(u,d){pn(this),this.i=null,u=di(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(d),this.h+=1,this};function Ns(u,d){pn(u),d=di(u,d),u.g.has(d)&&(u.i=null,u.h-=u.g.get(d).length,u.g.delete(d))}function hi(u,d){return pn(u),d=di(u,d),u.g.has(d)}s.forEach=function(u,d){pn(this),this.g.forEach(function(g,T){g.forEach(function(k){u.call(d,k,T,this)},this)},this)},s.na=function(){pn(this);const u=Array.from(this.g.values()),d=Array.from(this.g.keys()),g=[];for(let T=0;T<d.length;T++){const k=u[T];for(let z=0;z<k.length;z++)g.push(d[T])}return g},s.V=function(u){pn(this);let d=[];if(typeof u=="string")hi(this,u)&&(d=d.concat(this.g.get(di(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)d=d.concat(u[g])}return d},s.set=function(u,d){return pn(this),this.i=null,u=di(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[d]),this.h+=1,this},s.get=function(u,d){return u?(u=this.V(u),0<u.length?String(u[0]):d):d};function fi(u,d,g){Ns(u,d),0<g.length&&(u.i=null,u.g.set(di(u,d),ot(g)),u.h+=g.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],d=Array.from(this.g.keys());for(var g=0;g<d.length;g++){var T=d[g];const z=encodeURIComponent(String(T)),Z=this.V(T);for(T=0;T<Z.length;T++){var k=z;Z[T]!==""&&(k+="="+encodeURIComponent(String(Z[T]))),u.push(k)}}return this.i=u.join("&")};function di(u,d){return d=String(d),u.j&&(d=d.toLowerCase()),d}function za(u,d){d&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(g,T){var k=T.toLowerCase();T!=k&&(Ns(this,T),fi(this,k,g))},u)),u.j=d}function ho(u,d){const g=new Gi;if(v.Image){const T=new Image;T.onload=$(yn,g,"TestLoadImage: loaded",!0,d,T),T.onerror=$(yn,g,"TestLoadImage: error",!1,d,T),T.onabort=$(yn,g,"TestLoadImage: abort",!1,d,T),T.ontimeout=$(yn,g,"TestLoadImage: timeout",!1,d,T),v.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else d(!1)}function Pr(u,d){const g=new Gi,T=new AbortController,k=setTimeout(()=>{T.abort(),yn(g,"TestPingServer: timeout",!1,d)},1e4);fetch(u,{signal:T.signal}).then(z=>{clearTimeout(k),z.ok?yn(g,"TestPingServer: ok",!0,d):yn(g,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(k),yn(g,"TestPingServer: error",!1,d)})}function yn(u,d,g,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(g)}catch{}}function zr(){this.g=new Qe}function Gn(u,d,g){const T=g||"";try{Ur(u,function(k,z){let Z=k;_(k)&&(Z=Oa(k)),d.push(T+z+"="+encodeURIComponent(Z))})}catch(k){throw d.push(T+"type="+encodeURIComponent("_badmap")),k}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}X(Wi,Ia),Wi.prototype.g=function(){return new mi(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function mi(u,d){me.call(this),this.D=u,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(mi,me),s=mi.prototype,s.open=function(u,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=d,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(d.body=u),(this.D||v).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ba(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ba(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var d=u.value?u.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!u.done}))&&(this.response=this.responseText+=d)}u.done?Fn(this):Qn(this),this.readyState==3&&Ba(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,Fn(this))},s.Qa=function(u){this.g&&(this.response=u,Fn(this))},s.ga=function(){this.g&&Fn(this)};function Fn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Qn(u)}s.setRequestHeader=function(u,d){this.u.append(u,d)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],d=this.h.entries();for(var g=d.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=d.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ja(u){let d="";return wt(u,function(g,T){d+=T,d+=":",d+=g,d+=`\r
`}),d}function Se(u,d,g){t:{for(T in g){var T=!1;break t}T=!0}T||(g=ja(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):xt(u,d,g))}function zt(u){me.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(zt,me);var Ms=/^https?$/i,Br=["POST","PUT"];s=zt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,d,g,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);d=d?d.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vr.g(),this.v=this.o?io(this.o):io(Vr),this.g.onreadystatechange=H(this.Ea,this);try{this.B=!0,this.g.open(d,String(u),!0),this.B=!1}catch(z){fo(this,z);return}if(u=g||"",g=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)g.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const z of T.keys())g.set(z,T.get(z));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(g.keys()).find(z=>z.toLowerCase()=="content-type"),k=v.FormData&&u instanceof v.FormData,!(0<=Array.prototype.indexOf.call(Br,d,void 0))||T||k||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,Z]of g)this.g.setRequestHeader(z,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jr(this),this.u=!0,this.g.send(u),this.u=!1}catch(z){fo(this,z)}};function fo(u,d){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=d,u.m=5,Vs(u),Kn(u)}function Vs(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Te(this,"complete"),Te(this,"abort"),Kn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),zt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?xs(this):this.bb())},s.bb=function(){xs(this)};function xs(u){if(u.h&&typeof m<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)no(u.Ea,0,u);else if(Te(u,"readystatechange"),vn(u)==4){u.h=!1;try{const Z=u.Z();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break t;default:d=!1}var g;if(!(g=d)){var T;if(T=Z===0){var k=String(u.D).match(ka)[1]||null;!k&&v.self&&v.self.location&&(k=v.self.location.protocol.slice(0,-1)),T=!Ms.test(k?k.toLowerCase():"")}g=T}if(g)Te(u,"complete"),Te(u,"success");else{u.m=6;try{var z=2<vn(u)?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.Z()+"]",Vs(u)}}finally{Kn(u)}}}}function Kn(u,d){if(u.g){jr(u);const g=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,d||Te(u,"ready");try{g.onreadystatechange=T}catch{}}}function jr(u){u.I&&(v.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var d=this.g.responseText;return u&&d.indexOf(u)==0&&(d=d.substring(u.length)),zn(d)}};function mo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ac(u){const d={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(ht(u[T]))continue;var g=A(u[T]);const k=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const z=d[k]||[];d[k]=z,z.push(g)}V(d,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(u,d,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||d}function Us(u){this.Aa=0,this.i=[],this.j=new Gi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,u),this.cb=Hr("retryDelaySeedMs",1e4,u),this.Wa=Hr("forwardChannelMaxRetries",2,u),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new xa(u&&u.concurrentRequestLimit),this.Da=new zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Us.prototype,s.la=8,s.G=1,s.connect=function(u,d,g,T){le(0),this.W=u,this.H=d||{},g&&T!==void 0&&(this.H.OSID=g,this.H.OAID=T),this.F=this.X,this.I=To(this,null,this.W),Ls(this)};function Ha(u){if(go(u),u.G==3){var d=u.U++,g=ee(u.I);if(xt(g,"SID",u.K),xt(g,"RID",d),xt(g,"TYPE","terminate"),qr(u,g),d=new Hn(u,u.j,d),d.L=2,d.v=Lr(ee(g)),g=!1,v.navigator&&v.navigator.sendBeacon)try{g=v.navigator.sendBeacon(d.v.toString(),"")}catch{}!g&&v.Image&&(new Image().src=d.v,g=!0),g||(d.g=Ao(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Zt(d)}Eo(u)}function ks(u){u.g&&(Gr(u),u.g.cancel(),u.g=null)}function go(u){ks(u),u.u&&(v.clearTimeout(u.u),u.u=null),Ps(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&v.clearTimeout(u.s),u.s=null)}function Ls(u){if(!Ua(u.h)&&!u.s){u.s=!0;var d=u.Ga;nt||D(),it||(nt(),it=!0),Dt.add(d,u),u.B=0}}function Sc(u,d){return oo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=d.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=qi(H(u.Ga,u,d),Fa(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Hn(this,this.j,u);let z=this.o;if(this.S&&(z?(z=w(z),C(z,this.S)):z=this.S),this.m!==null||this.O||(k.H=z,z=null),this.P)t:{for(var d=0,g=0;g<this.i.length;g++){e:{var T=this.i[g];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(d+=T,4096<d){d=g;break t}if(d===4096||g===this.i.length-1){d=g+1;break t}}d=1e3}else d=1e3;d=po(this,k,d),g=ee(this.I),xt(g,"RID",u),xt(g,"CVER",22),this.D&&xt(g,"X-HTTP-Session-Id",this.D),qr(this,g),z&&(this.O?d="headers="+encodeURIComponent(String(ja(z)))+"&"+d:this.m&&Se(g,this.m,z)),$i(this.h,k),this.Ua&&xt(g,"TYPE","init"),this.P?(xt(g,"$req",d),xt(g,"SID","null"),k.T=!0,In(k,g,null)):In(k,g,d),this.G=2}}else this.G==3&&(u?qa(this,u):this.i.length==0||Ua(this.h)||qa(this))};function qa(u,d){var g;d?g=d.l:g=u.U++;const T=ee(u.I);xt(T,"SID",u.K),xt(T,"RID",g),xt(T,"AID",u.T),qr(u,T),u.m&&u.o&&Se(T,u.m,u.o),g=new Hn(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),d&&(u.i=d.D.concat(u.i)),d=po(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),$i(u.h,g),In(g,T,d)}function qr(u,d){u.H&&wt(u.H,function(g,T){xt(d,T,g)}),u.l&&Ur({},function(g,T){xt(d,T,g)})}function po(u,d,g){g=Math.min(u.i.length,g);var T=u.l?H(u.l.Na,u.l,u):null;t:{var k=u.i;let z=-1;for(;;){const Z=["count="+g];z==-1?0<g?(z=k[0].g,Z.push("ofs="+z)):z=0:Z.push("ofs="+z);let Ot=!0;for(let pe=0;pe<g;pe++){let It=k[pe].g;const be=k[pe].map;if(It-=z,0>It)z=Math.max(0,k[pe].g-100),Ot=!1;else try{Gn(be,Z,"req"+It+"_")}catch{T&&T(be)}}if(Ot){T=Z.join("&");break t}}}return u=u.i.splice(0,g),d.D=u,T}function yo(u){if(!u.g&&!u.u){u.Y=1;var d=u.Fa;nt||D(),it||(nt(),it=!0),Dt.add(d,u),u.v=0}}function Ga(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=qi(H(u.Fa,u),Fa(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,vo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=qi(H(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,le(10),ks(this),vo(this))};function Gr(u){u.A!=null&&(v.clearTimeout(u.A),u.A=null)}function vo(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var d=ee(u.qa);xt(d,"RID","rpc"),xt(d,"SID",u.K),xt(d,"AID",u.T),xt(d,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(d,"TO",u.ja),xt(d,"TYPE","xmlhttp"),qr(u,d),u.m&&u.o&&Se(d,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=Lr(ee(d)),g.m=null,g.P=!0,ui(g,u)}s.Za=function(){this.C!=null&&(this.C=null,ks(this),Ga(this),le(19))};function Ps(u){u.C!=null&&(v.clearTimeout(u.C),u.C=null)}function _o(u,d){var g=null;if(u.g==d){Ps(u),Gr(u),u.g=null;var T=2}else if(Xi(u.h,d))g=d.D,mn(u.h,d),T=1;else return;if(u.G!=0){if(d.o)if(T==1){g=d.m?d.m.length:0,d=Date.now()-d.F;var k=u.B;T=Rs(),Te(T,new so(T,g)),Ls(u)}else yo(u);else if(k=d.s,k==3||k==0&&0<d.X||!(T==1&&Sc(u,d)||T==2&&Ga(u)))switch(g&&0<g.length&&(d=u.h,d.i=d.i.concat(g)),k){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function Fa(u,d){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*d}function gi(u,d){if(u.j.info("Error code "+d),d==2){var g=H(u.fb,u),T=u.Xa;const k=!T;T=new ci(T||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||Zi(T,"https"),Lr(T),k?ho(T.toString(),g):Pr(T.toString(),g)}else le(2);u.G=0,u.l&&u.l.sa(d),Eo(u),go(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),le(2)):(this.j.info("Failed to ping google.com"),le(1))};function Eo(u){if(u.G=0,u.ka=[],u.l){const d=Ke(u.h);(d.length!=0||u.i.length!=0)&&(et(u.ka,d),et(u.ka,u.i),u.h.i.length=0,ot(u.i),u.i.length=0),u.l.ra()}}function To(u,d,g){var T=g instanceof ci?ee(g):new ci(g);if(T.g!="")d&&(T.g=d+"."+T.g),kr(T,T.s);else{var k=v.location;T=k.protocol,d=d?d+"."+k.hostname:k.hostname,k=+k.port;var z=new ci(null);T&&Zi(z,T),d&&(z.g=d),k&&kr(z,k),g&&(z.l=g),T=z}return g=u.D,d=u.ya,g&&d&&xt(T,g,d),xt(T,"VER",u.la),qr(u,T),T}function Ao(u,d,g){if(d&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=u.Ca&&!u.pa?new zt(new Wi({eb:g})):new zt(u.pa),d.Ha(u.J),d}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function So(){}s=So.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function zs(){}zs.prototype.g=function(u,d){return new Ye(u,d)};function Ye(u,d){me.call(this),this.g=new Us(d),this.l=u,this.h=d&&d.messageUrlParams||null,u=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(u?u["X-WebChannel-Content-Type"]=d.messageContentType:u={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(u?u["X-WebChannel-Client-Profile"]=d.va:u={"X-WebChannel-Client-Profile":d.va}),this.g.S=u,(u=d&&d.Sb)&&!ht(u)&&(this.g.m=u),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ht(d)&&(this.g.D=d,u=this.h,u!==null&&d in u&&(u=this.h,d in u&&delete u[d])),this.j=new Yn(this)}X(Ye,me),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){Ha(this.g)},Ye.prototype.o=function(u){var d=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=Oa(u),u=g);d.i.push(new yc(d.Ya++,u)),d.G==3&&Ls(d)},Ye.prototype.N=function(){this.g.l=null,delete this.j,Ha(this.g),delete this.g,Ye.aa.N.call(this)};function bo(u){Bi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var d=u.__sm__;if(d){t:{for(const g in d){u=g;break t}u=void 0}(this.i=u)&&(u=this.i,d=d!==null&&u in d?d[u]:void 0),this.data=d}else this.data=u}X(bo,Bi);function Ro(){On.call(this),this.status=1}X(Ro,On);function Yn(u){this.g=u}X(Yn,So),Yn.prototype.ua=function(){Te(this.g,"a")},Yn.prototype.ta=function(u){Te(this.g,new bo(u))},Yn.prototype.sa=function(u){Te(this.g,new Ro)},Yn.prototype.ra=function(){Te(this.g,"b")},zs.prototype.createWebChannel=zs.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,dv=function(){return new zs},fv=function(){return Rs()},hv=dn,Lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Nu=ge,oi.COMPLETE="complete",cv=oi,ro.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",me.prototype.listen=me.prototype.K,xl=ro,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,uv=zt}).apply(typeof Su<"u"?Su:typeof self<"u"?self:typeof window<"u"?window:{});const Jp="@firebase/firestore",Wp="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qe.UNAUTHENTICATED=new qe(null),qe.GOOGLE_CREDENTIALS=new qe("google-credentials-uid"),qe.FIRST_PARTY=new qe("first-party-uid"),qe.MOCK_USER=new qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ba="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new nc("@firebase/firestore");function fa(){return ps.logLevel}function at(s,...e){if(ps.logLevel<=Rt.DEBUG){const i=e.map(rd);ps.debug(`Firestore (${ba}): ${s}`,...i)}}function ys(s,...e){if(ps.logLevel<=Rt.ERROR){const i=e.map(rd);ps.error(`Firestore (${ba}): ${s}`,...i)}}function rc(s,...e){if(ps.logLevel<=Rt.WARN){const i=e.map(rd);ps.warn(`Firestore (${ba}): ${s}`,...i)}}function rd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(s="Unexpected state"){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+s;throw ys(e),new Error(e)}function ae(s,e){s||bt()}function Xt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends Ir{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(qe.UNAUTHENTICATED))}shutdown(){}}class cA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class hA{constructor(e){this.t=e,this.currentUser=qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){ae(this.o===void 0);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let f=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new ms,e.enqueueRetryable(()=>o(this.currentUser))};const m=()=>{const y=f;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},v=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(y=>v(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?v(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new ms)}},0),m()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(ae(typeof a.accessToken=="string"),new mv(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ae(e===null||typeof e=="string"),new qe(e)}}class fA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class dA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new fA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ty{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,cs(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){ae(this.o===void 0);const a=f=>{f.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const m=f.token!==this.R;return this.R=f.token,at("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>a(f))};const o=f=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>o(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?o(f):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new ty(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(ae(typeof i.token=="string"),this.R=i.token,new ty(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gA(40);for(let f=0;f<o.length;++f)a.length<20&&o[f]<i&&(a+=e.charAt(o[f]%62))}return a}}function jt(s,e){return s<e?-1:s>e?1:0}function va(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=-62135596800,ny=1e6;class Ie{static now(){return Ie.fromMillis(Date.now())}static fromDate(e){return Ie.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*ny);return new Ie(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ft(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<ey)throw new ft(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ft(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ny}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ey;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{static fromTimestamp(e){return new $t(e)}static min(){return new $t(new Ie(0,0))}static max(){return new $t(new Ie(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy="__name__";class ei{constructor(e,i,a){i===void 0?i=0:i>e.length&&bt(),a===void 0?a=e.length-i:a>e.length-i&&bt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ei.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ei?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const f=ei.compareSegments(e.get(o),i.get(o));if(f!==0)return f}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=ei.isNumericId(e),o=ei.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?ei.extractNumericId(e).compare(ei.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return id.fromString(e.substring(4,e.length-2))}}class se extends ei{construct(e,i,a){return new se(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new ft(Y.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new se(i)}static emptyPath(){return new se([])}}const pA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends ei{construct(e,i,a){return new Le(e,i,a)}static isValidIdentifier(e){return pA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===iy}static keyField(){return new Le([iy])}static fromServerFormat(e){const i=[];let a="",o=0;const f=()=>{if(a.length===0)throw new ft(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let m=!1;for(;o<e.length;){const v=e[o];if(v==="\\"){if(o+1===e.length)throw new ft(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ft(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=y,o+=2}else v==="`"?(m=!m,o++):v!=="."||m?(a+=v,o++):(f(),o++)}if(f(),m)throw new ft(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(i)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.path=e}static fromPath(e){return new _t(se.fromString(e))}static fromName(e){return new _t(se.fromString(e).popFirst(5))}static empty(){return new _t(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return se.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _t(new se(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function yA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=$t.fromTimestamp(a===1e9?new Ie(i+1,0):new Ie(i,a));return new wr(o,_t.empty(),e)}function vA(s){return new wr(s.readTime,s.key,ql)}class wr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new wr($t.min(),_t.empty(),ql)}static max(){return new wr($t.max(),_t.empty(),ql)}}function _A(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=_t.comparator(s.documentKey,e.documentKey),i!==0?i:jt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sd(s){if(s.code!==Y.FAILED_PRECONDITION||s.message!==EA)throw s;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&bt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new F((a,o)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,o)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof F?i:F.resolve(i)}catch(i){return F.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):F.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):F.reject(i)}static resolve(e){return new F((i,a)=>{i(e)})}static reject(e){return new F((i,a)=>{a(e)})}static waitFor(e){return new F((i,a)=>{let o=0,f=0,m=!1;e.forEach(v=>{++o,v.next(()=>{++f,m&&f===o&&i()},y=>a(y))}),m=!0,f===o&&i()})}static or(e){let i=F.resolve(!1);for(const a of e)i=i.next(o=>o?F.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,f)=>{a.push(i.call(this,o,f))}),this.waitFor(a)}static mapArray(e,i){return new F((a,o)=>{const f=e.length,m=new Array(f);let v=0;for(let y=0;y<f;y++){const _=y;i(e[_]).next(I=>{m[_]=I,++v,v===f&&a(m)},I=>o(I))}})}static doWhile(e,i){return new F((a,o)=>{const f=()=>{e()===!0?i().next(()=>{f()},o):a()};f()})}}function AA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Xl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ad.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=-1;function od(s){return s==null}function Bu(s){return s===0&&1/s==-1/0}function SA(s){return typeof s=="number"&&Number.isInteger(s)&&!Bu(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="";function bA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=ry(e)),e=RA(s.get(i),e);return ry(e)}function RA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const f=s.charAt(o);switch(f){case"\0":i+="";break;case pv:i+="";break;default:i+=f}}return i}function ry(s){return s+pv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ra(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function yv(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,i){this.comparator=e,this.root=i||Ue.EMPTY}insert(e,i){return new rn(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bu(this.root,e,this.comparator,!0)}}class bu{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&o&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,i,a,o,f){this.key=e,this.value=i,this.color=a??Ue.RED,this.left=o??Ue.EMPTY,this.right=f??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,f){return new Ue(e??this.key,i??this.value,a??this.color,o??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const f=a(e,o.key);return o=f<0?o.copy(null,null,null,o.left.insert(e,i,a),null):f===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Ue.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw bt();const e=this.left.check();if(e!==this.right.check())throw bt();return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw bt()}get value(){throw bt()}get color(){throw bt()}get left(){throw bt()}get right(){throw bt()}copy(e,i,a,o,f){return this}insert(e,i,a){return new Ue(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.comparator=e,this.data=new rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new ay(this.data.getIterator())}getIteratorFrom(e){return new ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Pe)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,f=a.getNext().key;if(this.comparator(o,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Pe(this.comparator);return i.data=e,i}}class ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new Ln([])}unionWith(e){let i=new Pe(Le.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new Ln(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return va(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new wA("Invalid base64 string: "+f):f}}(e);return new ii(i)}static fromUint8Array(e){const i=function(o){let f="";for(let m=0;m<o.length;++m)f+=String.fromCharCode(o[m]);return f}(e);return new ii(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const CA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(s){if(ae(!!s),typeof s=="string"){let e=0;const i=CA.exec(s);if(ae(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ke(s.seconds),nanos:ke(s.nanos)}}function ke(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _a(s){return typeof s=="string"?ii.fromBase64String(s):ii.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="server_timestamp",_v="__type__",Ev="__previous_value__",Tv="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[_v])===null||i===void 0?void 0:i.stringValue)===vv}function cd(s){const e=s.mapValue.fields[Ev];return ud(e)?cd(e):e}function ju(s){const e=vs(s.mapValue.fields[Tv].timestampValue);return new Ie(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,i,a,o,f,m,v,y,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=f,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.longPollingOptions=y,this.useFetchStreams=_}}const Hu="(default)";class qu{constructor(e,i){this.projectId=e,this.database=i||Hu}static empty(){return new qu("","")}get isDefaultDatabase(){return this.database===Hu}isEqual(e){return e instanceof qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__type__",OA="__max__",Ru={mapValue:{}},Sv="__vector__",Pf="value";function _s(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:NA(s)?9007199254740991:IA(s)?10:11:bt()}function ri(s,e){if(s===e)return!0;const i=_s(s);if(i!==_s(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ju(s).isEqual(ju(e));case 3:return function(o,f){if(typeof o.timestampValue=="string"&&typeof f.timestampValue=="string"&&o.timestampValue.length===f.timestampValue.length)return o.timestampValue===f.timestampValue;const m=vs(o.timestampValue),v=vs(f.timestampValue);return m.seconds===v.seconds&&m.nanos===v.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,f){return _a(o.bytesValue).isEqual(_a(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,f){return ke(o.geoPointValue.latitude)===ke(f.geoPointValue.latitude)&&ke(o.geoPointValue.longitude)===ke(f.geoPointValue.longitude)}(s,e);case 2:return function(o,f){if("integerValue"in o&&"integerValue"in f)return ke(o.integerValue)===ke(f.integerValue);if("doubleValue"in o&&"doubleValue"in f){const m=ke(o.doubleValue),v=ke(f.doubleValue);return m===v?Bu(m)===Bu(v):isNaN(m)&&isNaN(v)}return!1}(s,e);case 9:return va(s.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return function(o,f){const m=o.mapValue.fields||{},v=f.mapValue.fields||{};if(sy(m)!==sy(v))return!1;for(const y in m)if(m.hasOwnProperty(y)&&(v[y]===void 0||!ri(m[y],v[y])))return!1;return!0}(s,e);default:return bt()}}function Gl(s,e){return(s.values||[]).find(i=>ri(i,e))!==void 0}function Ea(s,e){if(s===e)return 0;const i=_s(s),a=_s(e);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(s.booleanValue,e.booleanValue);case 2:return function(f,m){const v=ke(f.integerValue||f.doubleValue),y=ke(m.integerValue||m.doubleValue);return v<y?-1:v>y?1:v===y?0:isNaN(v)?isNaN(y)?0:-1:1}(s,e);case 3:return ly(s.timestampValue,e.timestampValue);case 4:return ly(ju(s),ju(e));case 5:return jt(s.stringValue,e.stringValue);case 6:return function(f,m){const v=_a(f),y=_a(m);return v.compareTo(y)}(s.bytesValue,e.bytesValue);case 7:return function(f,m){const v=f.split("/"),y=m.split("/");for(let _=0;_<v.length&&_<y.length;_++){const I=jt(v[_],y[_]);if(I!==0)return I}return jt(v.length,y.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,m){const v=jt(ke(f.latitude),ke(m.latitude));return v!==0?v:jt(ke(f.longitude),ke(m.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return oy(s.arrayValue,e.arrayValue);case 10:return function(f,m){var v,y,_,I;const U=f.fields||{},H=m.fields||{},$=(v=U[Pf])===null||v===void 0?void 0:v.arrayValue,X=(y=H[Pf])===null||y===void 0?void 0:y.arrayValue,ot=jt(((_=$==null?void 0:$.values)===null||_===void 0?void 0:_.length)||0,((I=X==null?void 0:X.values)===null||I===void 0?void 0:I.length)||0);return ot!==0?ot:oy($,X)}(s.mapValue,e.mapValue);case 11:return function(f,m){if(f===Ru.mapValue&&m===Ru.mapValue)return 0;if(f===Ru.mapValue)return 1;if(m===Ru.mapValue)return-1;const v=f.fields||{},y=Object.keys(v),_=m.fields||{},I=Object.keys(_);y.sort(),I.sort();for(let U=0;U<y.length&&U<I.length;++U){const H=jt(y[U],I[U]);if(H!==0)return H;const $=Ea(v[y[U]],_[I[U]]);if($!==0)return $}return jt(y.length,I.length)}(s.mapValue,e.mapValue);default:throw bt()}}function ly(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return jt(s,e);const i=vs(s),a=vs(e),o=jt(i.seconds,a.seconds);return o!==0?o:jt(i.nanos,a.nanos)}function oy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const f=Ea(i[o],a[o]);if(f)return f}return jt(i.length,a.length)}function Ta(s){return zf(s)}function zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=vs(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return _a(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return _t.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const f of i.values||[])o?o=!1:a+=",",a+=zf(f);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",f=!0;for(const m of a)f?f=!1:o+=",",o+=`${m}:${zf(i.fields[m])}`;return o+"}"}(s.mapValue):bt()}function Mu(s){switch(_s(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=cd(s);return e?16+Mu(e):16;case 5:return 2*s.stringValue.length;case 6:return _a(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,f)=>o+Mu(f),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return Ra(a.fields,(f,m)=>{o+=f.length+Mu(m)}),o}(s.mapValue);default:throw bt()}}function Bf(s){return!!s&&"integerValue"in s}function hd(s){return!!s&&"arrayValue"in s}function Vu(s){return!!s&&"mapValue"in s}function IA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Av])===null||i===void 0?void 0:i.stringValue)===Sv}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Ra(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function NA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===OA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Vu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Le.emptyPath(),a={},o=[];e.forEach((m,v)=>{if(!i.isImmediateParentOf(v)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=v.popLast()}m?a[v.lastSegment()]=Ul(m):o.push(v.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,o)}delete(e){const i=this.field(e.popLast());Vu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Vu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){Ra(i,(o,f)=>e[o]=f);for(const o of a)delete e[o]}clone(){return new kn(Ul(this.value))}}function bv(s){const e=[];return Ra(s.fields,(i,a)=>{const o=new Le([i]);if(Vu(a)){const f=bv(a.mapValue).fields;if(f.length===0)e.push(o);else for(const m of f)e.push(o.child(m))}else e.push(o)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e,i,a,o,f,m,v){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=f,this.data=m,this.documentState=v}static newInvalidDocument(e){return new Un(e,0,$t.min(),$t.min(),$t.min(),kn.empty(),0)}static newFoundDocument(e,i,a,o){return new Un(e,1,i,$t.min(),a,o,0)}static newNoDocument(e,i){return new Un(e,2,i,$t.min(),$t.min(),kn.empty(),0)}static newUnknownDocument(e,i){return new Un(e,3,i,$t.min(),$t.min(),kn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual($t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,i){this.position=e,this.inclusive=i}}function uy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const f=e[o],m=s.position[o];if(f.field.isKeyField()?a=_t.comparator(_t.fromName(m.referenceValue),i.key):a=Ea(m,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function cy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ri(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i="asc"){this.field=e,this.dir=i}}function MA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{}class Oe extends Rv{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new xA(e,i,a):i==="array-contains"?new LA(e,a):i==="in"?new PA(e,a):i==="not-in"?new zA(e,a):i==="array-contains-any"?new BA(e,a):new Oe(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new UA(e,a):new kA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ea(i,this.value)):i!==null&&_s(this.value)===_s(i)&&this.matchesComparison(Ea(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return bt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cr extends Rv{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Cr(e,i)}matches(e){return wv(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wv(s){return s.op==="and"}function Cv(s){return VA(s)&&wv(s)}function VA(s){for(const e of s.filters)if(e instanceof Cr)return!1;return!0}function jf(s){if(s instanceof Oe)return s.field.canonicalString()+s.op.toString()+Ta(s.value);if(Cv(s))return s.filters.map(e=>jf(e)).join(",");{const e=s.filters.map(i=>jf(i)).join(",");return`${s.op}(${e})`}}function Dv(s,e){return s instanceof Oe?function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&ri(a.value,o.value)}(s,e):s instanceof Cr?function(a,o){return o instanceof Cr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((f,m,v)=>f&&Dv(m,o.filters[v]),!0):!1}(s,e):void bt()}function Ov(s){return s instanceof Oe?function(i){return`${i.field.canonicalString()} ${i.op} ${Ta(i.value)}`}(s):s instanceof Cr?function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"}(s):"Filter"}class xA extends Oe{constructor(e,i,a){super(e,i,a),this.key=_t.fromName(a.referenceValue)}matches(e){const i=_t.comparator(e.key,this.key);return this.matchesComparison(i)}}class UA extends Oe{constructor(e,i){super(e,"in",i),this.keys=Iv("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class kA extends Oe{constructor(e,i){super(e,"not-in",i),this.keys=Iv("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Iv(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>_t.fromName(a.referenceValue))}class LA extends Oe{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return hd(i)&&Gl(i.arrayValue,this.value)}}class PA extends Oe{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class zA extends Oe{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Gl(this.value.arrayValue,i)}}class BA extends Oe{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!hd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Gl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,i=null,a=[],o=[],f=null,m=null,v=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=f,this.startAt=m,this.endAt=v,this.le=null}}function hy(s,e=null,i=[],a=[],o=null,f=null,m=null){return new jA(s,e,i,a,o,f,m)}function fd(s){const e=Xt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>jf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(f){return f.field.canonicalString()+f.dir}(a)).join(","),od(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>Ta(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>Ta(a)).join(",")),e.le=i}return e.le}function dd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!MA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Dv(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!cy(s.startAt,e.startAt)&&cy(s.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i=null,a=[],o=[],f=null,m="F",v=null,y=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=f,this.limitType=m,this.startAt=v,this.endAt=y,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function HA(s,e,i,a,o,f,m,v){return new sc(s,e,i,a,o,f,m,v)}function qA(s){return new sc(s)}function fy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function GA(s){return s.collectionGroup!==null}function kl(s){const e=Xt(s);if(e.he===null){e.he=[];const i=new Set;for(const f of e.explicitOrderBy)e.he.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(m){let v=new Pe(Le.comparator);return m.filters.forEach(y=>{y.getFlattenedFilters().forEach(_=>{_.isInequality()&&(v=v.add(_.field))})}),v})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.he.push(new Fu(f,a))}),i.has(Le.keyField().canonicalString())||e.he.push(new Fu(Le.keyField(),a))}return e.he}function gs(s){const e=Xt(s);return e.Pe||(e.Pe=FA(e,kl(s))),e.Pe}function FA(s,e){if(s.limitType==="F")return hy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const f=o.dir==="desc"?"asc":"desc";return new Fu(o.field,f)});const i=s.endAt?new Gu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Gu(s.startAt.position,s.startAt.inclusive):null;return hy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Hf(s,e,i){return new sc(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Nv(s,e){return dd(gs(s),gs(e))&&s.limitType===e.limitType}function Mv(s){return`${fd(gs(s))}|lt:${s.limitType}`}function Vl(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>Ov(o)).join(", ")}]`),od(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>Ta(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>Ta(o)).join(",")),`Target(${a})`}(gs(s))}; limitType=${s.limitType})`}function md(s,e){return e.isFoundDocument()&&function(a,o){const f=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):_t.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(s,e)&&function(a,o){for(const f of kl(a))if(!f.field.isKeyField()&&o.data.field(f.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const f of a.filters)if(!f.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(m,v,y){const _=uy(m,v,y);return m.inclusive?_<=0:_<0}(a.startAt,kl(a),o)||a.endAt&&!function(m,v,y){const _=uy(m,v,y);return m.inclusive?_>=0:_>0}(a.endAt,kl(a),o))}(s,e)}function QA(s){return(e,i)=>{let a=!1;for(const o of kl(s)){const f=KA(o,e,i);if(f!==0)return f;a=a||o.field.isKeyField()}return 0}}function KA(s,e,i){const a=s.field.isKeyField()?_t.comparator(e.key,i.key):function(f,m,v){const y=m.data.field(f),_=v.data.field(f);return y!==null&&_!==null?Ea(y,_):bt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return bt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,f]of a)if(this.equalsFn(o,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<o.length;f++)if(this.equalsFn(o[f][0],e))return void(o[f]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(i,a)=>{for(const[o,f]of a)e(o,f)})}isEmpty(){return yv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA=new rn(_t.comparator);function Qu(){return YA}const Vv=new rn(_t.comparator);function wu(...s){let e=Vv;for(const i of s)e=e.insert(i.key,i);return e}function xv(s){let e=Vv;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function hs(){return Ll()}function Uv(){return Ll()}function Ll(){return new Es(s=>s.toString(),(s,e)=>s.isEqual(e))}const XA=new rn(_t.comparator),$A=new Pe(_t.comparator);function Ge(...s){let e=$A;for(const i of s)e=e.add(i);return e}const ZA=new Pe(jt);function JA(){return ZA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bu(e)?"-0":e}}function kv(s){return{integerValue:""+s}}function WA(s,e){return SA(e)?kv(e):gd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(){this._=void 0}}function tS(s,e,i){return s instanceof Ku?function(o,f){const m={fields:{[_v]:{stringValue:vv},[Tv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return f&&ud(f)&&(f=cd(f)),f&&(m.fields[Ev]=f),{mapValue:m}}(i,e):s instanceof Fl?Pv(s,e):s instanceof Ql?zv(s,e):function(o,f){const m=Lv(o,f),v=dy(m)+dy(o.Ie);return Bf(m)&&Bf(o.Ie)?kv(v):gd(o.serializer,v)}(s,e)}function eS(s,e,i){return s instanceof Fl?Pv(s,e):s instanceof Ql?zv(s,e):i}function Lv(s,e){return s instanceof Yu?function(a){return Bf(a)||function(f){return!!f&&"doubleValue"in f}(a)}(e)?e:{integerValue:0}:null}class Ku extends ac{}class Fl extends ac{constructor(e){super(),this.elements=e}}function Pv(s,e){const i=Bv(e);for(const a of s.elements)i.some(o=>ri(o,a))||i.push(a);return{arrayValue:{values:i}}}class Ql extends ac{constructor(e){super(),this.elements=e}}function zv(s,e){let i=Bv(e);for(const a of s.elements)i=i.filter(o=>!ri(o,a));return{arrayValue:{values:i}}}class Yu extends ac{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function dy(s){return ke(s.integerValue||s.doubleValue)}function Bv(s){return hd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function nS(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Fl&&o instanceof Fl||a instanceof Ql&&o instanceof Ql?va(a.elements,o.elements,ri):a instanceof Yu&&o instanceof Yu?ri(a.Ie,o.Ie):a instanceof Ku&&o instanceof Ku}(s.transform,e.transform)}class iS{constructor(e,i){this.version=e,this.transformResults=i}}class Vi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Vi}static exists(e){return new Vi(void 0,e)}static updateTime(e){return new Vi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function jv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new qv(s.key,Vi.none()):new $l(s.key,s.data,Vi.none());{const i=s.data,a=kn.empty();let o=new Pe(Le.comparator);for(let f of e.fields)if(!o.has(f)){let m=i.field(f);m===null&&f.length>1&&(f=f.popLast(),m=i.field(f)),m===null?a.delete(f):a.set(f,m),o=o.add(f)}return new Ts(s.key,a,new Ln(o.toArray()),Vi.none())}}function rS(s,e,i){s instanceof $l?function(o,f,m){const v=o.value.clone(),y=gy(o.fieldTransforms,f,m.transformResults);v.setAll(y),f.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(s,e,i):s instanceof Ts?function(o,f,m){if(!xu(o.precondition,f))return void f.convertToUnknownDocument(m.version);const v=gy(o.fieldTransforms,f,m.transformResults),y=f.data;y.setAll(Hv(o)),y.setAll(v),f.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(s,e,i):function(o,f,m){f.convertToNoDocument(m.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof $l?function(f,m,v,y){if(!xu(f.precondition,m))return v;const _=f.value.clone(),I=py(f.fieldTransforms,y,m);return _.setAll(I),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof Ts?function(f,m,v,y){if(!xu(f.precondition,m))return v;const _=py(f.fieldTransforms,y,m),I=m.data;return I.setAll(Hv(f)),I.setAll(_),m.convertToFoundDocument(m.version,I).setHasLocalMutations(),v===null?null:v.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(U=>U.field))}(s,e,i,a):function(f,m,v){return xu(f.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):v}(s,e,i)}function sS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),f=Lv(a.transform,o||null);f!=null&&(i===null&&(i=kn.empty()),i.set(a.field,f))}return i||null}function my(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&va(a,o,(f,m)=>nS(f,m))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class $l extends lc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends lc{constructor(e,i,a,o,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Hv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function gy(s,e,i){const a=new Map;ae(s.length===i.length);for(let o=0;o<i.length;o++){const f=s[o],m=f.transform,v=e.data.field(f.field);a.set(f.field,eS(m,v,i[o]))}return a}function py(s,e,i){const a=new Map;for(const o of s){const f=o.transform,m=i.data.field(o.field);a.set(o.field,tS(f,m,e))}return a}class qv extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aS extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const f=this.mutations[o];f.key.isEqual(e.key)&&rS(f,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=Uv();return this.mutations.forEach(o=>{const f=e.get(o.key),m=f.overlayedDocument;let v=this.applyToLocalView(m,f.mutatedFields);v=i.has(o.key)?null:v;const y=jv(m,v);y!==null&&a.set(o.key,y),m.isValidDocument()||m.convertToNoDocument($t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ge())}isEqual(e){return this.batchId===e.batchId&&va(this.mutations,e.mutations,(i,a)=>my(i,a))&&va(this.baseMutations,e.baseMutations,(i,a)=>my(i,a))}}class pd{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){ae(e.mutations.length===a.length);let o=function(){return XA}();const f=e.mutations;for(let m=0;m<f.length;m++)o=o.insert(f[m].key,a[m].version);return new pd(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Mt;function uS(s){switch(s){case Y.OK:return bt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return bt()}}function cS(s){if(s===void 0)return ys("GRPC error has no .code"),Y.UNKNOWN;switch(s){case de.OK:return Y.OK;case de.CANCELLED:return Y.CANCELLED;case de.UNKNOWN:return Y.UNKNOWN;case de.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case de.INTERNAL:return Y.INTERNAL;case de.UNAVAILABLE:return Y.UNAVAILABLE;case de.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case de.NOT_FOUND:return Y.NOT_FOUND;case de.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case de.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case de.ABORTED:return Y.ABORTED;case de.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case de.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case de.DATA_LOSS:return Y.DATA_LOSS;default:return bt()}}(Mt=de||(de={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new id([4294967295,4294967295],0);class hS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function qf(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fS(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function dS(s,e){return qf(s,e.toTimestamp())}function ga(s){return ae(!!s),$t.fromTimestamp(function(i){const a=vs(i);return new Ie(a.seconds,a.nanos)}(s))}function Gv(s,e){return Gf(s,e).canonicalString()}function Gf(s,e){const i=function(o){return new se(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function mS(s){const e=se.fromString(s);return ae(AS(e)),e}function Ff(s,e){return Gv(s.databaseId,e.path)}function gS(s){const e=mS(s);return e.length===4?se.emptyPath():yS(e)}function pS(s){return new se(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function yS(s){return ae(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function yy(s,e,i){return{name:Ff(s,e),fields:i.value.mapValue.fields}}function vS(s,e){let i;if(e instanceof $l)i={update:yy(s,e.key,e.value)};else if(e instanceof qv)i={delete:Ff(s,e.key)};else if(e instanceof Ts)i={update:yy(s,e.key,e.data),updateMask:TS(e.fieldMask)};else{if(!(e instanceof aS))return bt();i={verify:Ff(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(f,m){const v=m.transform;if(v instanceof Ku)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof Fl)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof Ql)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Yu)return{fieldPath:m.field.canonicalString(),increment:v.Ie};throw bt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,f){return f.updateTime!==void 0?{updateTime:dS(o,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:bt()}(s,e.precondition)),i}function _S(s,e){return s&&s.length>0?(ae(e!==void 0),s.map(i=>function(o,f){let m=o.updateTime?ga(o.updateTime):ga(f);return m.isEqual($t.min())&&(m=ga(f)),new iS(m,o.transformResults||[])}(i,e))):[]}function ES(s){let e=gS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){ae(a===1);const I=i.from[0];I.allDescendants?o=I.collectionId:e=e.child(I.collectionId)}let f=[];i.where&&(f=function(U){const H=Fv(U);return H instanceof Cr&&Cv(H)?H.getFilters():[H]}(i.where));let m=[];i.orderBy&&(m=function(U){return U.map(H=>function(X){return new Fu(da(X.field),function(et){switch(et){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(H))}(i.orderBy));let v=null;i.limit&&(v=function(U){let H;return H=typeof U=="object"?U.value:U,od(H)?null:H}(i.limit));let y=null;i.startAt&&(y=function(U){const H=!!U.before,$=U.values||[];return new Gu($,H)}(i.startAt));let _=null;return i.endAt&&(_=function(U){const H=!U.before,$=U.values||[];return new Gu($,H)}(i.endAt)),HA(e,o,m,f,v,"F",y,_)}function Fv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=da(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=da(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=da(i.unaryFilter.field);return Oe.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=da(i.unaryFilter.field);return Oe.create(m,"!=",{nullValue:"NULL_VALUE"});default:return bt()}}(s):s.fieldFilter!==void 0?function(i){return Oe.create(da(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return bt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Cr.create(i.compositeFilter.filters.map(a=>Fv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt()}}(i.compositeFilter.op))}(s):bt()}function da(s){return Le.fromServerFormat(s.fieldPath)}function TS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function AS(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.Tt=e}}function bS(s){const e=ES({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Hf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(){this.Tn=new wS}addToCollectionParentIndex(e,i){return this.Tn.add(i),F.resolve()}getCollectionParents(e,i){return F.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return F.resolve()}deleteFieldIndex(e,i){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,i){return F.resolve()}getDocumentsMatchingTarget(e,i){return F.resolve(null)}getIndexType(e,i){return F.resolve(0)}getFieldIndexes(e,i){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,i){return F.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return F.resolve(wr.min())}updateCollectionGroup(e,i,a){return F.resolve()}updateIndexEntries(e,i){return F.resolve()}}class wS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new Pe(se.comparator),f=!o.has(a);return this.index[i]=o.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Pe(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qv=41943040;class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(Qv,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Aa(0)}static Un(){return new Aa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="LruGarbageCollector",CS=1048576;function Ey([s,e],[i,a]){const o=jt(s,i);return o===0?jt(e,a):o}class DS{constructor(e){this.Hn=e,this.buffer=new Pe(Ey),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Ey(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class OS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(_y,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Xl(i)?at(_y,"Ignoring IndexedDB error during garbage collection: ",i):await sd(i)}await this.er(3e5)})}}class IS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return F.resolve(ad.ae);const a=new DS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(vy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,f,m,v,y,_;const I=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(U=>(U>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${U}`),o=this.params.maximumSequenceNumbersToCollect):o=U,m=Date.now(),this.nthSequenceNumber(e,o))).next(U=>(a=U,v=Date.now(),this.removeTargets(e,a,i))).next(U=>(f=U,y=Date.now(),this.removeOrphanedDocuments(e,a))).next(U=>(_=Date.now(),fa()<=Rt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-I}ms
	Determined least recently used ${o} in `+(v-m)+`ms
	Removed ${f} targets in `+(y-v)+`ms
	Removed ${U} documents in `+(_-y)+`ms
Total Duration: ${_-I}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:f,documentsRemoved:U})))}}function NS(s,e){return new IS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(){this.changes=new Es(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Un.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?F.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Pl(a.mutation,o,Ln.empty(),Ie.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ge()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ge()){const o=hs();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(f=>{let m=wu();return f.forEach((v,y)=>{m=m.insert(v,y.overlayedDocument)}),m}))}getOverlayedDocuments(e,i){const a=hs();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ge()))}populateOverlays(e,i,a){const o=[];return a.forEach(f=>{i.has(f)||o.push(f)}),this.documentOverlayCache.getOverlays(e,o).next(f=>{f.forEach((m,v)=>{i.set(m,v)})})}computeViews(e,i,a,o){let f=Qu();const m=Ll(),v=function(){return Ll()}();return i.forEach((y,_)=>{const I=a.get(_.key);o.has(_.key)&&(I===void 0||I.mutation instanceof Ts)?f=f.insert(_.key,_):I!==void 0?(m.set(_.key,I.mutation.getFieldMask()),Pl(I.mutation,_,I.mutation.getFieldMask(),Ie.now())):m.set(_.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,f).next(y=>(y.forEach((_,I)=>m.set(_,I)),i.forEach((_,I)=>{var U;return v.set(_,new VS(I,(U=m.get(_))!==null&&U!==void 0?U:null))}),v))}recalculateAndSaveOverlays(e,i){const a=Ll();let o=new rn((m,v)=>m-v),f=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(m=>{for(const v of m)v.keys().forEach(y=>{const _=i.get(y);if(_===null)return;let I=a.get(y)||Ln.empty();I=v.applyToLocalView(_,I),a.set(y,I);const U=(o.get(v.batchId)||Ge()).add(y);o=o.insert(v.batchId,U)})}).next(()=>{const m=[],v=o.getReverseIterator();for(;v.hasNext();){const y=v.getNext(),_=y.key,I=y.value,U=Uv();I.forEach(H=>{if(!f.has(H)){const $=jv(i.get(H),a.get(H));$!==null&&U.set(H,$),f=f.add(H)}}),m.push(this.documentOverlayCache.saveOverlays(e,_,U))}return F.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(m){return _t.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):GA(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(f=>{const m=o-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-f.size):F.resolve(hs());let v=ql,y=f;return m.next(_=>F.forEach(_,(I,U)=>(v<U.largestBatchId&&(v=U.largestBatchId),f.get(I)?F.resolve():this.remoteDocumentCache.getEntry(e,I).next(H=>{y=y.insert(I,H)}))).next(()=>this.populateOverlays(e,_,f)).next(()=>this.computeViews(e,y,_,Ge())).next(I=>({batchId:v,changes:xv(I)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new _t(i)).next(a=>{let o=wu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const f=i.collectionGroup;let m=wu();return this.indexManager.getCollectionParents(e,f).next(v=>F.forEach(v,y=>{const _=function(U,H){return new sc(H,null,U.explicitOrderBy.slice(),U.filters.slice(),U.limit,U.limitType,U.startAt,U.endAt)}(i,y.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,a,o).next(I=>{I.forEach((U,H)=>{m=m.insert(U,H)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(e,i,a,o){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(m=>(f=m,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,o))).next(m=>{f.forEach((y,_)=>{const I=_.getKey();m.get(I)===null&&(m=m.insert(I,Un.newInvalidDocument(I)))});let v=wu();return m.forEach((y,_)=>{const I=f.get(y);I!==void 0&&Pl(I.mutation,_,Ln.empty(),Ie.now()),md(i,_)&&(v=v.insert(y,_))}),v})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return F.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ga(o.createTime)}}(i)),F.resolve()}getNamedQuery(e,i){return F.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:bS(o.bundledQuery),readTime:ga(o.readTime)}}(i)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this.overlays=new rn(_t.comparator),this.Rr=new Map}getOverlay(e,i){return F.resolve(this.overlays.get(i))}getOverlays(e,i){const a=hs();return F.forEach(i,o=>this.getOverlay(e,o).next(f=>{f!==null&&a.set(o,f)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,f)=>{this.Et(e,i,f)}),F.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(f=>this.overlays=this.overlays.remove(f)),this.Rr.delete(a)),F.resolve()}getOverlaysForCollection(e,i,a){const o=hs(),f=i.length+1,m=new _t(i.child("")),v=this.overlays.getIteratorFrom(m);for(;v.hasNext();){const y=v.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&y.largestBatchId>a&&o.set(y.getKey(),y)}return F.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let f=new rn((_,I)=>_-I);const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let I=f.get(_.largestBatchId);I===null&&(I=hs(),f=f.insert(_.largestBatchId,I)),I.set(_.getKey(),_)}}const v=hs(),y=f.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((_,I)=>v.set(_,I)),!(v.size()>=o)););return F.resolve(v)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const m=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new oS(i,a));let f=this.Rr.get(i);f===void 0&&(f=Ge(),this.Rr.set(i,f)),this.Rr.set(i,f.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new Pe(De.mr),this.gr=new Pe(De.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new De(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new De(e,i))}br(e,i){e.forEach(a=>this.removeReference(a,i))}Sr(e){const i=new _t(new se([])),a=new De(i,e),o=new De(i,e+1),f=[];return this.gr.forEachInRange([a,o],m=>{this.wr(m),f.push(m.key)}),f}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new _t(new se([])),a=new De(i,e),o=new De(i,e+1);let f=Ge();return this.gr.forEachInRange([a,o],m=>{f=f.add(m.key)}),f}containsKey(e){const i=new De(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class De{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return _t.comparator(e.key,i.key)||jt(e.Cr,i.Cr)}static pr(e,i){return jt(e.Cr,i.Cr)||_t.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Pe(De.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const f=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new lS(f,i,a,o);this.mutationQueue.push(m);for(const v of o)this.Mr=this.Mr.add(new De(v.key,f)),this.indexManager.addToCollectionParentIndex(e,v.key.path.popLast());return F.resolve(m)}lookupMutationBatch(e,i){return F.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),f=o<0?0:o;return F.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?ld:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new De(i,0),o=new De(i,Number.POSITIVE_INFINITY),f=[];return this.Mr.forEachInRange([a,o],m=>{const v=this.Or(m.Cr);f.push(v)}),F.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Pe(jt);return i.forEach(o=>{const f=new De(o,0),m=new De(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([f,m],v=>{a=a.add(v.Cr)})}),F.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let f=a;_t.isDocumentKey(f)||(f=f.child(""));const m=new De(new _t(f),0);let v=new Pe(jt);return this.Mr.forEachWhile(y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(v=v.add(y.Cr)),!0)},m),F.resolve(this.Br(v))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){ae(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return F.forEach(i.mutations,o=>{const f=new De(o.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new De(i,0),o=this.Mr.firstAfterOrEqual(a);return F.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.kr=e,this.docs=function(){return new rn(_t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),f=o?o.size:0,m=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:m}),this.size+=m-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return F.resolve(a?a.document.mutableCopy():Un.newInvalidDocument(i))}getEntries(e,i){let a=Qu();return i.forEach(o=>{const f=this.docs.get(o);a=a.insert(o,f?f.document.mutableCopy():Un.newInvalidDocument(o))}),F.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let f=Qu();const m=i.path,v=new _t(m.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(v);for(;y.hasNext();){const{key:_,value:{document:I}}=y.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||_A(vA(I),a)<=0||(o.has(I.key)||md(i,I))&&(f=f.insert(I.key,I.mutableCopy()))}return F.resolve(f)}getAllFromCollectionGroup(e,i,a,o){bt()}qr(e,i){return F.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new BS(this)}getSize(e){return F.resolve(this.size)}}class BS extends MS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),F.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.persistence=e,this.Qr=new Es(i=>fd(i),dd),this.lastRemoteSnapshotVersion=$t.min(),this.highestTargetId=0,this.$r=0,this.Kr=new yd,this.targetCount=0,this.Ur=Aa.Kn()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),F.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new Aa(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,F.resolve()}updateTargetData(e,i){return this.zn(i),F.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,i,a){let o=0;const f=[];return this.Qr.forEach((m,v)=>{v.sequenceNumber<=i&&a.get(v.targetId)===null&&(this.Qr.delete(m),f.push(this.removeMatchingKeysForTargetId(e,v.targetId)),o++)}),F.waitFor(f).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return F.resolve(a)}addMatchingKeys(e,i,a){return this.Kr.yr(i,a),F.resolve()}removeMatchingKeys(e,i,a){this.Kr.br(i,a);const o=this.persistence.referenceDelegate,f=[];return o&&i.forEach(m=>{f.push(o.markPotentiallyOrphaned(e,m))}),F.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),F.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Kr.vr(i);return F.resolve(a)}containsKey(e,i){return F.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ad(0),this.zr=!1,this.zr=!0,this.jr=new LS,this.referenceDelegate=e(this),this.Hr=new jS(this),this.indexManager=new RS,this.remoteDocumentCache=function(o){return new zS(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new SS(i),this.Yr=new US(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new kS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new PS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){at("MemoryPersistence","Starting transaction:",e);const o=new HS(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(f=>this.referenceDelegate.Xr(o).next(()=>f)).toPromise().then(f=>(o.raiseOnCommittedEvent(),f))}ei(e,i){return F.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class HS extends TA{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new vd(e)}get ii(){if(this.ni)return this.ni;throw bt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),F.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),F.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),F.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(f=>this.ii.add(f.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,a=>{const o=_t.fromPath(a);return this.si(e,o).next(f=>{f||i.removeEntry(o,$t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return F.or([()=>F.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Xu{constructor(e,i){this.persistence=e,this.oi=new Es(a=>bA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=NS(this,i)}static ri(e,i){return new Xu(e,i)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return F.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(f=>f?F.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),f=o.newChangeBuffer();return o.qr(e,m=>this.ar(e,m,i).next(v=>{v||(a++,f.removeEntry(m,$t.min()))})).next(()=>f.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),F.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Mu(e.data.value)),i}ar(e,i,a){return F.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return F.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=Ge(),o=Ge();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:o=o.add(f.doc.key)}return new _d(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return BE()?8:AA(Pn())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const f={result:null};return this.rs(e,i).next(m=>{f.result=m}).next(()=>{if(!f.result)return this.ss(e,i,o,a).next(m=>{f.result=m})}).next(()=>{if(f.result)return;const m=new qS;return this._s(e,i,m).next(v=>{if(f.result=v,this.Xi)return this.us(e,i,m,v.size)})}).next(()=>f.result)}us(e,i,a,o){return a.documentReadCount<this.es?(fa()<=Rt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Vl(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(fa()<=Rt.DEBUG&&at("QueryEngine","Query:",Vl(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(fa()<=Rt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Vl(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(i))):F.resolve())}rs(e,i){if(fy(i))return F.resolve(null);let a=gs(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Hf(i,null,"F"),a=gs(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(f=>{const m=Ge(...f);return this.ns.getDocuments(e,m).next(v=>this.indexManager.getMinOffset(e,a).next(y=>{const _=this.cs(i,v);return this.ls(i,_,m,y.readTime)?this.rs(e,Hf(i,null,"F")):this.hs(e,_,i,y)}))})))}ss(e,i,a,o){return fy(i)||o.isEqual($t.min())?F.resolve(null):this.ns.getDocuments(e,a).next(f=>{const m=this.cs(i,f);return this.ls(i,m,a,o)?F.resolve(null):(fa()<=Rt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vl(i)),this.hs(e,m,i,yA(o,ql)).next(v=>v))})}cs(e,i){let a=new Pe(QA(e));return i.forEach((o,f)=>{md(e,f)&&(a=a.add(f))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(o)>0)}_s(e,i,a){return fa()<=Rt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Vl(i)),this.ns.getDocumentsMatchingQuery(e,i,wr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(f=>(i.forEach(m=>{f=f.insert(m.key,m)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="LocalStore";class QS{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new rn(jt),this.Is=new Es(f=>fd(f),dd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function KS(s,e,i,a){return new QS(s,e,i,a)}async function Yv(s,e){const i=Xt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(f=>(o=f,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const m=[],v=[];let y=Ge();for(const _ of o){m.push(_.batchId);for(const I of _.mutations)y=y.add(I.key)}for(const _ of f){v.push(_.batchId);for(const I of _.mutations)y=y.add(I.key)}return i.localDocuments.getDocuments(a,y).next(_=>({Rs:_,removedBatchIds:m,addedBatchIds:v}))})})}function YS(s,e){const i=Xt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),f=i.ds.newChangeBuffer({trackRemovals:!0});return function(v,y,_,I){const U=_.batch,H=U.keys();let $=F.resolve();return H.forEach(X=>{$=$.next(()=>I.getEntry(y,X)).next(ot=>{const et=_.docVersions.get(X);ae(et!==null),ot.version.compareTo(et)<0&&(U.applyToRemoteDocument(ot,_),ot.isValidDocument()&&(ot.setReadTime(_.commitVersion),I.addEntry(ot)))})}),$.next(()=>v.mutationQueue.removeMutationBatch(y,U))}(i,a,e,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(v){let y=Ge();for(let _=0;_<v.mutationResults.length;++_)v.mutationResults[_].transformResults.length>0&&(y=y.add(v.batch.mutations[_].key));return y}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function XS(s){const e=Xt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function $S(s,e){const i=Xt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=ld),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}class Ty{constructor(){this.activeTargetIds=JA()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZS{constructor(){this.ho=new Ty,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ty,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="ConnectivityMonitor";class Sy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(Ay,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(Ay,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function Qf(){return Cu===null?Cu=function(){return 268435456+Math.round(2147483648*Math.random())}():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="RestConnection",WS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class tb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Hu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}bo(e,i,a,o,f){const m=Qf(),v=this.So(e,i.toUriEncodedString());at(Rf,`Sending RPC '${e}' ${m}:`,v,a);const y={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(y,o,f),this.vo(e,v,y,a).then(_=>(at(Rf,`Received RPC '${e}' ${m}: `,_),_),_=>{throw rc(Rf,`RPC '${e}' ${m} failed with error: `,_,"url: ",v,"request:",a),_})}Co(e,i,a,o,f,m){return this.bo(e,i,a,o,f)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ba}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,f)=>e[f]=o),a&&a.headers.forEach((o,f)=>e[f]=o)}So(e,i){const a=WS[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class nb extends tb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const f=Qf();return new Promise((m,v)=>{const y=new uv;y.setWithCredentials(!0),y.listenOnce(cv.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Nu.NO_ERROR:const I=y.getResponseJson();at(He,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(I)),m(I);break;case Nu.TIMEOUT:at(He,`RPC '${e}' ${f} timed out`),v(new ft(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Nu.HTTP_ERROR:const U=y.getStatus();if(at(He,`RPC '${e}' ${f} failed with status:`,U,"response text:",y.getResponseText()),U>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const $=H==null?void 0:H.error;if($&&$.status&&$.message){const X=function(et){const Tt=et.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(Tt)>=0?Tt:Y.UNKNOWN}($.status);v(new ft(X,$.message))}else v(new ft(Y.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new ft(Y.UNAVAILABLE,"Connection failed."));break;default:bt()}}finally{at(He,`RPC '${e}' ${f} completed.`)}});const _=JSON.stringify(o);at(He,`RPC '${e}' ${f} sending request:`,o),y.send(i,"POST",_,a,15)})}Wo(e,i,a){const o=Qf(),f=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],m=dv(),v=fv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Do(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const I=f.join("");at(He,`Creating RPC '${e}' stream ${o}: ${I}`,y);const U=m.createWebChannel(I,y);let H=!1,$=!1;const X=new eb({Fo:et=>{$?at(He,`Not sending because RPC '${e}' stream ${o} is closed:`,et):(H||(at(He,`Opening RPC '${e}' stream ${o} transport.`),U.open(),H=!0),at(He,`RPC '${e}' stream ${o} sending:`,et),U.send(et))},Mo:()=>U.close()}),ot=(et,Tt,ht)=>{et.listen(Tt,pt=>{try{ht(pt)}catch(Pt){setTimeout(()=>{throw Pt},0)}})};return ot(U,xl.EventType.OPEN,()=>{$||(at(He,`RPC '${e}' stream ${o} transport opened.`),X.Qo())}),ot(U,xl.EventType.CLOSE,()=>{$||($=!0,at(He,`RPC '${e}' stream ${o} transport closed`),X.Ko())}),ot(U,xl.EventType.ERROR,et=>{$||($=!0,rc(He,`RPC '${e}' stream ${o} transport errored:`,et),X.Ko(new ft(Y.UNAVAILABLE,"The operation could not be completed")))}),ot(U,xl.EventType.MESSAGE,et=>{var Tt;if(!$){const ht=et.data[0];ae(!!ht);const pt=ht,Pt=(pt==null?void 0:pt.error)||((Tt=pt[0])===null||Tt===void 0?void 0:Tt.error);if(Pt){at(He,`RPC '${e}' stream ${o} received error:`,Pt);const dt=Pt.status;let wt=function(S){const C=de[S];if(C!==void 0)return cS(C)}(dt),V=Pt.message;wt===void 0&&(wt=Y.INTERNAL,V="Unknown error status: "+dt+" with message "+Pt.message),$=!0,X.Ko(new ft(wt,V)),U.close()}else at(He,`RPC '${e}' stream ${o} received:`,ht),X.Uo(ht)}}),ot(v,hv.STAT_EVENT,et=>{et.stat===Lf.PROXY?at(He,`RPC '${e}' stream ${o} detected buffering proxy`):et.stat===Lf.NOPROXY&&at(He,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{X.$o()},0),X}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(s){return new hS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,i,a=1e3,o=1.5,f=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=f,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="PersistentStream";class ib{constructor(e,i,a,o,f,m,v,y){this.Ti=e,this.n_=a,this.r_=o,this.connection=f,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=v,this.listener=y,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Xv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Y.RESOURCE_EXHAUSTED?(ys(i.toString()),ys("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new ft(Y.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(by,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(at(by,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rb extends ib{constructor(e,i,a,o,f,m){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,m),this.serializer=f}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return ae(!!e.streamToken),this.lastStreamToken=e.streamToken,ae(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=_S(e.writeResults,e.commitTime),a=ga(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=pS(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>vS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{}class ab extends sb{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ft(Y.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.bo(e,Gf(i,a),o,f,m)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(Y.UNKNOWN,f.toString())})}Co(e,i,a,o,f){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,v])=>this.connection.Co(e,Gf(i,a),o,m,v,f)).catch(m=>{throw m.name==="FirebaseError"?(m.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ft(Y.UNKNOWN,m.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class lb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ys(i),this.N_=!1):at("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl="RemoteStore";class ob{constructor(e,i,a,o,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=f,this.z_.To(m=>{a.enqueueAndForget(async()=>{Wl(this)&&(at(Zl,"Restarting streams for network reachability change."),await async function(y){const _=Xt(y);_.W_.add(4),await Jl(_),_.j_.set("Unknown"),_.W_.delete(4),await uc(_)}(this))})}),this.j_=new lb(a,o)}}async function uc(s){if(Wl(s))for(const e of s.G_)await e(!0)}async function Jl(s){for(const e of s.G_)await e(!1)}function Wl(s){return Xt(s).W_.size===0}async function $v(s,e,i){if(!Xl(e))throw e;s.W_.add(1),await Jl(s),s.j_.set("Offline"),i||(i=()=>XS(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{at(Zl,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await uc(s)})}function Zv(s,e){return e().catch(i=>$v(s,i,e))}async function cc(s){const e=Xt(s),i=Dr(e);let a=e.K_.length>0?e.K_[e.K_.length-1].batchId:ld;for(;ub(e);)try{const o=await $S(e.localStore,a);if(o===null){e.K_.length===0&&i.P_();break}a=o.batchId,cb(e,o)}catch(o){await $v(e,o)}Jv(e)&&Wv(e)}function ub(s){return Wl(s)&&s.K_.length<10}function cb(s,e){s.K_.push(e);const i=Dr(s);i.c_()&&i.b_&&i.S_(e.mutations)}function Jv(s){return Wl(s)&&!Dr(s).u_()&&s.K_.length>0}function Wv(s){Dr(s).start()}async function hb(s){Dr(s).C_()}async function fb(s){const e=Dr(s);for(const i of s.K_)e.S_(i.mutations)}async function db(s,e,i){const a=s.K_.shift(),o=pd.from(a,e,i);await Zv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await cc(s)}async function mb(s,e){e&&Dr(s).b_&&await async function(a,o){if(function(m){return uS(m)&&m!==Y.ABORTED}(o.code)){const f=a.K_.shift();Dr(a).h_(),await Zv(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,o)),await cc(a)}}(s,e),Jv(s)&&Wv(s)}async function Ry(s,e){const i=Xt(s);i.asyncQueue.verifyOperationInProgress(),at(Zl,"RemoteStore received new credentials");const a=Wl(i);i.W_.add(3),await Jl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function gb(s,e){const i=Xt(s);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await Jl(i),i.j_.set("Unknown"))}function Dr(s){return s.Y_||(s.Y_=function(i,a,o){const f=Xt(i);return f.M_(),new rb(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:hb.bind(null,s),Lo:mb.bind(null,s),D_:fb.bind(null,s),v_:db.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await cc(s)):(await s.Y_.stop(),s.K_.length>0&&(at(Zl,`Stopping write stream with ${s.K_.length} pending writes`),s.K_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(e,i,a,o,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=f,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,f){const m=Date.now()+a,v=new Ed(e,i,m,o,f);return v.start(a),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(s,e){if(ys("AsyncQueue",`${e}: ${s}`),Xl(s))return new ft(Y.UNAVAILABLE,`${e}: ${s}`);throw s}class pb{constructor(){this.queries=wy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=Xt(i),f=o.queries;o.queries=wy(),f.forEach((m,v)=>{for(const y of v.ta)y.onError(a)})})(this,new ft(Y.ABORTED,"Firestore shutting down"))}}function wy(){return new Es(s=>Mv(s),Nv)}function yb(s){s.ia.forEach(e=>{e.next()})}var Cy,Dy;(Dy=Cy||(Cy={}))._a="default",Dy.Cache="cache";const vb="SyncEngine";class _b{constructor(e,i,a,o,f,m){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=f,this.maxConcurrentLimboResolutions=m,this.La={},this.ka=new Es(v=>Mv(v),Nv),this.qa=new Map,this.Qa=new Set,this.$a=new rn(_t.comparator),this.Ka=new Map,this.Ua=new yd,this.Wa={},this.Ga=new Map,this.za=Aa.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Eb(s,e,i){const a=bb(s);try{const o=await function(m,v){const y=Xt(m),_=Ie.now(),I=v.reduce(($,X)=>$.add(X.key),Ge());let U,H;return y.persistence.runTransaction("Locally write mutations","readwrite",$=>{let X=Qu(),ot=Ge();return y.ds.getEntries($,I).next(et=>{X=et,X.forEach((Tt,ht)=>{ht.isValidDocument()||(ot=ot.add(Tt))})}).next(()=>y.localDocuments.getOverlayedDocuments($,X)).next(et=>{U=et;const Tt=[];for(const ht of v){const pt=sS(ht,U.get(ht.key).overlayedDocument);pt!=null&&Tt.push(new Ts(ht.key,pt,bv(pt.value.mapValue),Vi.exists(!0)))}return y.mutationQueue.addMutationBatch($,_,Tt,v)}).next(et=>{H=et;const Tt=et.applyToLocalDocumentSet(U,ot);return y.documentOverlayCache.saveOverlays($,et.batchId,Tt)})}).then(()=>({batchId:H.batchId,changes:xv(U)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(m,v,y){let _=m.Wa[m.currentUser.toKey()];_||(_=new rn(jt)),_=_.insert(v,y),m.Wa[m.currentUser.toKey()]=_}(a,o.batchId,i),await hc(a,o.changes),await cc(a.remoteStore)}catch(o){const f=t_(o,"Failed to persist write");i.reject(f)}}function Oy(s,e,i){const a=Xt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((f,m)=>{const v=m.view.sa(e);v.snapshot&&o.push(v.snapshot)}),function(m,v){const y=Xt(m);y.onlineState=v;let _=!1;y.queries.forEach((I,U)=>{for(const H of U.ta)H.sa(v)&&(_=!0)}),_&&yb(y)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Tb(s,e){const i=Xt(s),a=e.batch.batchId;try{const o=await YS(i.localStore,e);n_(i,a,null),e_(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await hc(i,o)}catch(o){await sd(o)}}async function Ab(s,e,i){const a=Xt(s);try{const o=await function(m,v){const y=Xt(m);return y.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let I;return y.mutationQueue.lookupMutationBatch(_,v).next(U=>(ae(U!==null),I=U.keys(),y.mutationQueue.removeMutationBatch(_,U))).next(()=>y.mutationQueue.performConsistencyCheck(_)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(_,I,v)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,I)).next(()=>y.localDocuments.getDocuments(_,I))})}(a.localStore,e);n_(a,e,i),e_(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await hc(a,o)}catch(o){await sd(o)}}function e_(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function n_(s,e,i){const a=Xt(s);let o=a.Wa[a.currentUser.toKey()];if(o){const f=o.get(e);f&&(i?f.reject(i):f.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}async function hc(s,e,i){const a=Xt(s),o=[],f=[],m=[];a.ka.isEmpty()||(a.ka.forEach((v,y)=>{m.push(a.Ha(y,e,i).then(_=>{var I;if((_||i)&&a.isPrimaryClient){const U=_?!_.fromCache:(I=void 0)===null||I===void 0?void 0:I.current;a.sharedClientState.updateQueryState(y.targetId,U?"current":"not-current")}if(_){o.push(_);const U=_d.Yi(y.targetId,_);f.push(U)}}))}),await Promise.all(m),a.La.p_(o),await async function(y,_){const I=Xt(y);try{await I.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>F.forEach(_,H=>F.forEach(H.Hi,$=>I.persistence.referenceDelegate.addReference(U,H.targetId,$)).next(()=>F.forEach(H.Ji,$=>I.persistence.referenceDelegate.removeReference(U,H.targetId,$)))))}catch(U){if(!Xl(U))throw U;at(FS,"Failed to update sequence numbers: "+U)}for(const U of _){const H=U.targetId;if(!U.fromCache){const $=I.Ts.get(H),X=$.snapshotVersion,ot=$.withLastLimboFreeSnapshotVersion(X);I.Ts=I.Ts.insert(H,ot)}}}(a.localStore,f))}async function Sb(s,e){const i=Xt(s);if(!i.currentUser.isEqual(e)){at(vb,"User change. New user:",e.toKey());const a=await Yv(i.localStore,e);i.currentUser=e,function(f,m){f.Ga.forEach(v=>{v.forEach(y=>{y.reject(new ft(Y.CANCELLED,m))})}),f.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await hc(i,a.Rs)}}function bb(s){const e=Xt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ab.bind(null,e),e}class $u{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return KS(this.persistence,new GS,e.initialUser,this.serializer)}Xa(e){return new Kv(vd.ri,this.serializer)}Za(e){return new ZS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$u.provider={build:()=>new $u};class Rb extends $u{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){ae(this.persistence.referenceDelegate instanceof Xu);const a=this.persistence.referenceDelegate.garbageCollector;return new OS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new Kv(a=>Xu.ri(a,i),this.serializer)}}class Kf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Oy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sb.bind(null,this.syncEngine),await gb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new pb}()}createDatastore(e){const i=oc(e.databaseInfo.databaseId),a=function(f){return new nb(f)}(e.databaseInfo);return function(f,m,v,y){return new ab(f,m,v,y)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,f,m,v){return new ob(a,o,f,m,v)}(this.localStore,this.datastore,e.asyncQueue,i=>Oy(this.syncEngine,i,0),function(){return Sy.D()?new Sy:new JS}())}createSyncEngine(e,i){return function(o,f,m,v,y,_,I){const U=new _b(o,f,m,v,y,_);return I&&(U.ja=!0),U}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const f=Xt(o);at(Zl,"RemoteStore shutting down."),f.W_.add(5),await Jl(f),f.z_.shutdown(),f.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Kf.provider={build:()=>new Kf};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Or="FirestoreClient";class wb{constructor(e,i,a,o,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=qe.UNAUTHENTICATED,this.clientId=gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async m=>{at(Or,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(at(Or,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=t_(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Cf(s,e){s.asyncQueue.verifyOperationInProgress(),at(Or,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Yv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Iy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await Cb(s);at(Or,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Ry(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>Ry(e.remoteStore,o)),s._onlineComponents=e}async function Cb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(Or,"Using user provided OfflineComponentProvider");try{await Cf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;rc("Error using user provided cache. Falling back to memory cache: "+i),await Cf(s,new $u)}}else at(Or,"Using default OfflineComponentProvider"),await Cf(s,new Rb(void 0));return s._offlineComponents}async function Db(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(Or,"Using user provided OnlineComponentProvider"),await Iy(s,s._uninitializedComponentsProvider._online)):(at(Or,"Using default OnlineComponentProvider"),await Iy(s,new Kf))),s._onlineComponents}function Ob(s){return Db(s).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(s,e,i){if(!i)throw new ft(Y.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function Ib(s,e,i,a){if(e===!0&&a===!0)throw new ft(Y.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function My(s){if(!_t.isDocumentKey(s))throw new ft(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Vy(s){if(_t.isDocumentKey(s))throw new ft(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Td(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":bt()}function s_(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new ft(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Td(s);throw new ft(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="firestore.googleapis.com",xy=!0;class Uy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ft(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=a_,this.ssl=xy}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:xy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CS)throw new ft(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ib("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i_((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new ft(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ft(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ft(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ft(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uy(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new uA;switch(a.type){case"firstParty":return new dA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ny.get(i);a&&(at("ComponentProvider","Removing Datastore"),Ny.delete(i),a.terminate())}(this),Promise.resolve()}}function Nb(s,e,i,a={}){var o;const f=(s=s_(s,fc))._getSettings(),m=Object.assign(Object.assign({},f),{emulatorOptions:s._getEmulatorOptions()}),v=`${e}:${i}`;f.host!==a_&&f.host!==v&&rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},f),{host:v,ssl:!1,emulatorOptions:a});if(!Pu(y,m)&&(s._setSettings(y),a.mockUserToken)){let _,I;if(typeof a.mockUserToken=="string")_=a.mockUserToken,I=qe.MOCK_USER;else{_=xE(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const U=a.mockUserToken.sub||a.mockUserToken.user_id;if(!U)throw new ft(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new qe(U)}s._authCredentials=new cA(new mv(_,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ad(this.firestore,e,this._query)}}class xi{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xi(this.firestore,e,this._key)}}class br extends Ad{constructor(e,i,a){super(e,i,qA(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xi(this.firestore,null,new _t(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Mb(s,e,...i){if(s=ni(s),r_("collection","path",e),s instanceof fc){const a=se.fromString(e,...i);return Vy(a),new br(s,null,a)}{if(!(s instanceof xi||s instanceof br))throw new ft(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return Vy(a),new br(s.firestore,null,a)}}function Vb(s,e,...i){if(s=ni(s),arguments.length===1&&(e=gv.newId()),r_("doc","path",e),s instanceof fc){const a=se.fromString(e,...i);return My(a),new xi(s,null,new _t(a))}{if(!(s instanceof xi||s instanceof br))throw new ft(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(se.fromString(e,...i));return My(a),new xi(s.firestore,s instanceof br?s.converter:null,new _t(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="AsyncQueue";class Ly{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Xv(this,"async_queue_retry"),this.bu=()=>{const a=wf();a&&at(ky,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.Su=e;const i=wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new ms;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Xl(e))throw e;at(ky,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(m){let v=m.message||"";return m.stack&&(v=m.stack.includes(m.message)?m.stack:m.message+`
`+m.stack),v}(a);throw ys("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.Su=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Ed.createAndSchedule(this,e,i,a,f=>this.Fu(f));return this.fu.push(o),o}Du(){this.gu&&bt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class l_ extends fc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new Ly,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ly(e),this._firestoreClient=void 0,await e}}}function xb(s,e){const i=typeof s=="object"?s:av(),a=typeof s=="string"?s:Hu,o=nd(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const f=ME("firestore");f&&Nb(o,...f)}return o}function Ub(s){if(s._terminated)throw new ft(Y.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||kb(s),s._firestoreClient}function kb(s){var e,i,a;const o=s._freezeSettings(),f=function(v,y,_,I){return new DA(v,y,_,I.host,I.ssl,I.experimentalForceLongPolling,I.experimentalAutoDetectLongPolling,i_(I.experimentalLongPollingOptions),I.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new wb(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(v){const y=v==null?void 0:v._online.build();return{_offline:v==null?void 0:v._offline.build(y),_online:y}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(ii.fromBase64String(e))}catch(i){throw new ft(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Kl(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ft(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ft(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ft(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==o[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=/^__.*__$/;class Pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,i,this.fieldTransforms):new $l(e,this.data,i,this.fieldTransforms)}}function f_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt()}}class Sd{constructor(e,i,a,o,f,m){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,f===void 0&&this.Bu(),this.fieldTransforms=f||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Sd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Ku(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Zu(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(f_(this.Lu)&&Lb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||oc(e)}ju(e,i,a,o=!1){return new Sd({Lu:e,methodName:i,zu:a,path:Le.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bb(s){const e=s._freezeSettings(),i=oc(s._databaseId);return new zb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function jb(s,e,i,a,o,f={}){const m=s.ju(f.merge||f.mergeFields?2:0,e,i,o);p_("Data must be an object, but it was:",m,a);const v=m_(a,m);let y,_;if(f.merge)y=new Ln(m.fieldMask),_=m.fieldTransforms;else if(f.mergeFields){const I=[];for(const U of f.mergeFields){const H=Hb(e,U,i);if(!m.contains(H))throw new ft(Y.INVALID_ARGUMENT,`Field '${H}' is specified in your field mask but missing from your input data.`);Fb(I,H)||I.push(H)}y=new Ln(I),_=m.fieldTransforms.filter(U=>y.covers(U.field))}else y=null,_=m.fieldTransforms;return new Pb(new kn(v),y,_)}function d_(s,e){if(g_(s=ni(s)))return p_("Unsupported field value:",e,s),m_(s,e);if(s instanceof u_)return function(a,o){if(!f_(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(o);f&&o.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const f=[];let m=0;for(const v of a){let y=d_(v,o.Uu(m));y==null&&(y={nullValue:"NULL_VALUE"}),f.push(y),m++}return{arrayValue:{values:f}}}(s,e)}return function(a,o){if((a=ni(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return WA(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=Ie.fromDate(a);return{timestampValue:qf(o.serializer,f)}}if(a instanceof Ie){const f=new Ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qf(o.serializer,f)}}if(a instanceof c_)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Kl)return{bytesValue:fS(o.serializer,a._byteString)};if(a instanceof xi){const f=o.databaseId,m=a.firestore._databaseId;if(!m.isEqual(f))throw o.Wu(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Gv(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof h_)return function(m,v){return{mapValue:{fields:{[Av]:{stringValue:Sv},[Pf]:{arrayValue:{values:m.toArray().map(_=>{if(typeof _!="number")throw v.Wu("VectorValues must only contain numeric values.");return gd(v.serializer,_)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Td(a)}`)}(s,e)}function m_(s,e){const i={};return yv(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(s,(a,o)=>{const f=d_(o,e.qu(a));f!=null&&(i[a]=f)}),{mapValue:{fields:i}}}function g_(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ie||s instanceof c_||s instanceof Kl||s instanceof xi||s instanceof u_||s instanceof h_)}function p_(s,e,i){if(!g_(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=Td(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Hb(s,e,i){if((e=ni(e))instanceof o_)return e._internalPath;if(typeof e=="string")return Gb(s,e);throw Zu("Field path arguments must be of type string or ",s,!1,void 0,i)}const qb=new RegExp("[~\\*/\\[\\]]");function Gb(s,e,i){if(e.search(qb)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new o_(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Zu(s,e,i,a,o){const f=a&&!a.isEmpty(),m=o!==void 0;let v=`Function ${e}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let y="";return(f||m)&&(y+=" (found",f&&(y+=` in field ${a}`),m&&(y+=` in document ${o}`),y+=")"),new ft(Y.INVALID_ARGUMENT,v+s+y)}function Fb(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}function Kb(s,e){const i=s_(s.firestore,l_),a=Vb(s),o=Qb(s.converter,e);return Yb(i,[jb(Bb(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Vi.exists(!1))]).then(()=>a)}function Yb(s,e){return function(a,o){const f=new ms;return a.asyncQueue.enqueueAndForget(async()=>Eb(await Ob(a),o,f)),f.promise}(Ub(s),e)}(function(e,i=!0){(function(o){ba=o})(ic),Rr(new Ui("firestore",(a,{instanceIdentifier:o,options:f})=>{const m=a.getProvider("app").getImmediate(),v=new l_(new hA(a.getProvider("auth-internal")),new mA(m,a.getProvider("app-check-internal")),function(_,I){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ft(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qu(_.options.projectId,I)}(m,o),m);return f=Object.assign({useFetchStreams:i},f),v._setSettings(f),v},"PUBLIC").setMultipleInstances(!0)),Mi(Jp,Wp,e),Mi(Jp,Wp,"esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=new Map,y_={activated:!1,tokenObservers:[]},Xb={initialized:!1,enabled:!1};function Ee(s){return Yf.get(s)||Object.assign({},y_)}function $b(s,e){return Yf.set(s,e),Yf.get(s)}function dc(){return Xb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="https://content-firebaseappcheck.googleapis.com/v1",Zb="exchangeRecaptchaV3Token",Jb="exchangeDebugToken",Py={RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Wb=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,i,a,o,f){if(this.operation=e,this.retryPolicy=i,this.getWaitDuration=a,this.lowerBound=o,this.upperBound=f,this.pending=null,this.nextErrorWaitInterval=o,o>f)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new jl,this.pending.promise.catch(i=>{}),await e1(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new jl,this.pending.promise.catch(i=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(i){this.retryPolicy(i)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}function e1(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},nn=new Sa("appCheck","AppCheck",n1);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(s=!1){var e;return s?(e=self.grecaptcha)===null||e===void 0?void 0:e.enterprise:self.grecaptcha}function bd(s){if(!Ee(s).activated)throw nn.create("use-before-activation",{appName:s.name})}function __(s){const e=Math.round(s/1e3),i=Math.floor(e/(3600*24)),a=Math.floor((e-i*3600*24)/3600),o=Math.floor((e-i*3600*24-a*3600)/60),f=e-i*3600*24-a*3600-o*60;let m="";return i&&(m+=Du(i)+"d:"),a&&(m+=Du(a)+"h:"),m+=Du(o)+"m:"+Du(f)+"s",m}function Du(s){return s===0?"00":s>=10?s.toString():"0"+s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rd({url:s,body:e},i){const a={"Content-Type":"application/json"},o=i.getImmediate({optional:!0});if(o){const U=await o.getHeartbeatsHeader();U&&(a["X-Firebase-Client"]=U)}const f={method:"POST",body:JSON.stringify(e),headers:a};let m;try{m=await fetch(s,f)}catch(U){throw nn.create("fetch-network-error",{originalErrorMessage:U==null?void 0:U.message})}if(m.status!==200)throw nn.create("fetch-status-error",{httpStatus:m.status});let v;try{v=await m.json()}catch(U){throw nn.create("fetch-parse-error",{originalErrorMessage:U==null?void 0:U.message})}const y=v.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw nn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const _=Number(y[1])*1e3,I=Date.now();return{token:v.token,expireTimeMillis:I+_,issuedAtTimeMillis:I}}function i1(s,e){const{projectId:i,appId:a,apiKey:o}=s.options;return{url:`${v_}/projects/${i}/apps/${a}:${Zb}?key=${o}`,body:{recaptcha_v3_token:e}}}function E_(s,e){const{projectId:i,appId:a,apiKey:o}=s.options;return{url:`${v_}/projects/${i}/apps/${a}:${Jb}?key=${o}`,body:{debug_token:e}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebase-app-check-database",s1=1,Yl="firebase-app-check-store",T_="debug-token";let Ou=null;function A_(){return Ou||(Ou=new Promise((s,e)=>{try{const i=indexedDB.open(r1,s1);i.onsuccess=a=>{s(a.target.result)},i.onerror=a=>{var o;e(nn.create("storage-open",{originalErrorMessage:(o=a.target.error)===null||o===void 0?void 0:o.message}))},i.onupgradeneeded=a=>{const o=a.target.result;switch(a.oldVersion){case 0:o.createObjectStore(Yl,{keyPath:"compositeKey"})}}}catch(i){e(nn.create("storage-open",{originalErrorMessage:i==null?void 0:i.message}))}}),Ou)}function a1(s){return b_(R_(s))}function l1(s,e){return S_(R_(s),e)}function o1(s){return S_(T_,s)}function u1(){return b_(T_)}async function S_(s,e){const a=(await A_()).transaction(Yl,"readwrite"),f=a.objectStore(Yl).put({compositeKey:s,value:e});return new Promise((m,v)=>{f.onsuccess=y=>{m()},a.onerror=y=>{var _;v(nn.create("storage-set",{originalErrorMessage:(_=y.target.error)===null||_===void 0?void 0:_.message}))}})}async function b_(s){const i=(await A_()).transaction(Yl,"readonly"),o=i.objectStore(Yl).get(s);return new Promise((f,m)=>{o.onsuccess=v=>{const y=v.target.result;f(y?y.value:void 0)},i.onerror=v=>{var y;m(nn.create("storage-get",{originalErrorMessage:(y=v.target.error)===null||y===void 0?void 0:y.message}))}})}function R_(s){return`${s.options.appId}-${s.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new nc("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(s){if(td()){let e;try{e=await a1(s)}catch(i){fs.warn(`Failed to read token from IndexedDB. Error: ${i}`)}return e}}function Df(s,e){return td()?l1(s,e).catch(i=>{fs.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}async function h1(){let s;try{s=await u1()}catch{}if(s)return s;{const e=crypto.randomUUID();return o1(e).catch(i=>fs.warn(`Failed to persist debug token to IndexedDB. Error: ${i}`)),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(){return dc().enabled}async function Cd(){const s=dc();if(s.enabled&&s.token)return s.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function f1(){const s=tv(),e=dc();if(e.initialized=!0,typeof s.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&s.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;e.enabled=!0;const i=new jl;e.token=i,typeof s.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?i.resolve(s.FIREBASE_APPCHECK_DEBUG_TOKEN):i.resolve(h1())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={error:"UNKNOWN_ERROR"};function m1(s){return Wf.encodeString(JSON.stringify(s),!1)}async function Xf(s,e=!1){const i=s.app;bd(i);const a=Ee(i);let o=a.token,f;if(o&&!ma(o)&&(a.token=void 0,o=void 0),!o){const y=await a.cachedTokenPromise;y&&(ma(y)?o=y:await Df(i,void 0))}if(!e&&o&&ma(o))return{token:o.token};let m=!1;if(wd())try{a.exchangeTokenPromise||(a.exchangeTokenPromise=Rd(E_(i,await Cd()),s.heartbeatServiceProvider).finally(()=>{a.exchangeTokenPromise=void 0}),m=!0);const y=await a.exchangeTokenPromise;return await Df(i,y),a.token=y,{token:y.token}}catch(y){return y.code==="appCheck/throttled"?fs.warn(y.message):fs.error(y),Of(y)}try{a.exchangeTokenPromise||(a.exchangeTokenPromise=a.provider.getToken().finally(()=>{a.exchangeTokenPromise=void 0}),m=!0),o=await Ee(i).exchangeTokenPromise}catch(y){y.code==="appCheck/throttled"?fs.warn(y.message):fs.error(y),f=y}let v;return o?f?ma(o)?v={token:o.token,internalError:f}:v=Of(f):(v={token:o.token},a.token=o,await Df(i,o)):v=Of(f),m&&D_(i,v),v}async function g1(s){const e=s.app;bd(e);const{provider:i}=Ee(e);if(wd()){const a=await Cd(),{token:o}=await Rd(E_(e,a),s.heartbeatServiceProvider);return{token:o}}else{const{token:a}=await i.getToken();return{token:a}}}function w_(s,e,i,a){const{app:o}=s,f=Ee(o),m={next:i,error:a,type:e};if(f.tokenObservers=[...f.tokenObservers,m],f.token&&ma(f.token)){const v=f.token;Promise.resolve().then(()=>{i({token:v.token}),By(s)}).catch(()=>{})}f.cachedTokenPromise.then(()=>By(s))}function C_(s,e){const i=Ee(s),a=i.tokenObservers.filter(o=>o.next!==e);a.length===0&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=a}function By(s){const{app:e}=s,i=Ee(e);let a=i.tokenRefresher;a||(a=p1(s),i.tokenRefresher=a),!a.isRunning()&&i.isTokenAutoRefreshEnabled&&a.start()}function p1(s){const{app:e}=s;return new t1(async()=>{const i=Ee(e);let a;if(i.token?a=await Xf(s,!0):a=await Xf(s),a.error)throw a.error;if(a.internalError)throw a.internalError},()=>!0,()=>{const i=Ee(e);if(i.token){let a=i.token.issuedAtTimeMillis+(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)*.5+3e5;const o=i.token.expireTimeMillis-5*60*1e3;return a=Math.min(a,o),Math.max(0,a-Date.now())}else return 0},Py.RETRIAL_MIN_WAIT,Py.RETRIAL_MAX_WAIT)}function D_(s,e){const i=Ee(s).tokenObservers;for(const a of i)try{a.type==="EXTERNAL"&&e.error!=null?a.error(e.error):a.next(e)}catch{}}function ma(s){return s.expireTimeMillis-Date.now()>0}function Of(s){return{token:m1(d1),error:s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,i){this.app=e,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:e}=Ee(this.app);for(const i of e)C_(this.app,i.next);return Promise.resolve()}}function v1(s,e){return new y1(s,e)}function _1(s){return{getToken:e=>Xf(s,e),getLimitedUseToken:()=>g1(s),addTokenListener:e=>w_(s,"INTERNAL",e),removeTokenListener:e=>C_(s.app,e)}}const E1="@firebase/app-check",T1="0.8.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="https://www.google.com/recaptcha/api.js";function S1(s,e){const i=new jl,a=Ee(s);a.reCAPTCHAState={initialized:i};const o=b1(s),f=zy(!1);return f?jy(s,e,f,o,i):C1(()=>{const m=zy(!1);if(!m)throw new Error("no recaptcha");jy(s,e,m,o,i)}),i.promise}function jy(s,e,i,a,o){i.ready(()=>{w1(s,e,i,a),o.resolve(i)})}function b1(s){const e=`fire_app_check_${s.name}`,i=document.createElement("div");return i.id=e,i.style.display="none",document.body.appendChild(i),e}async function R1(s){bd(s);const i=await Ee(s).reCAPTCHAState.initialized.promise;return new Promise((a,o)=>{const f=Ee(s).reCAPTCHAState;i.ready(()=>{a(i.execute(f.widgetId,{action:"fire_app_check"}))})})}function w1(s,e,i,a){const o=i.render(a,{sitekey:e,size:"invisible",callback:()=>{Ee(s).reCAPTCHAState.succeeded=!0},"error-callback":()=>{Ee(s).reCAPTCHAState.succeeded=!1}}),f=Ee(s);f.reCAPTCHAState=Object.assign(Object.assign({},f.reCAPTCHAState),{widgetId:o})}function C1(s){const e=document.createElement("script");e.src=A1,e.onload=s,document.head.appendChild(e)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._siteKey=e,this._throttleData=null}async getToken(){var e,i,a;O1(this._throttleData);const o=await R1(this._app).catch(m=>{throw nn.create("recaptcha-error")});if(!(!((e=Ee(this._app).reCAPTCHAState)===null||e===void 0)&&e.succeeded))throw nn.create("recaptcha-error");let f;try{f=await Rd(i1(this._app,o),this._heartbeatServiceProvider)}catch(m){throw!((i=m.code)===null||i===void 0)&&i.includes("fetch-status-error")?(this._throttleData=D1(Number((a=m.customData)===null||a===void 0?void 0:a.httpStatus),this._throttleData),nn.create("throttled",{time:__(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):m}return this._throttleData=null,f}initialize(e){this._app=e,this._heartbeatServiceProvider=nd(e,"heartbeat"),S1(e,this._siteKey).catch(()=>{})}isEqual(e){return e instanceof Dd?this._siteKey===e._siteKey:!1}}function D1(s,e){if(s===404||s===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Wb,httpStatus:s};{const i=e?e.backoffCount:0,a=JE(i,1e3,2);return{backoffCount:i+1,allowRequestsAfter:Date.now()+a,httpStatus:s}}}function O1(s){if(s&&Date.now()-s.allowRequestsAfter<=0)throw nn.create("throttled",{time:__(s.allowRequestsAfter-Date.now()),httpStatus:s.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s=av(),e){s=ni(s);const i=nd(s,"app-check");if(dc().initialized||f1(),wd()&&Cd().then(o=>console.log(`App Check debug token: ${o}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),i.isInitialized()){const o=i.getImmediate(),f=i.getOptions();if(f.isTokenAutoRefreshEnabled===e.isTokenAutoRefreshEnabled&&f.provider.isEqual(e.provider))return o;throw nn.create("already-initialized",{appName:s.name})}const a=i.initialize({options:e});return N1(s,e.provider,e.isTokenAutoRefreshEnabled),Ee(s).isTokenAutoRefreshEnabled&&w_(a,"INTERNAL",()=>{}),a}function N1(s,e,i){const a=$b(s,Object.assign({},y_));a.activated=!0,a.provider=e,a.cachedTokenPromise=c1(s).then(o=>(o&&ma(o)&&(a.token=o,D_(s,{token:o.token})),o)),a.isTokenAutoRefreshEnabled=i===void 0?s.automaticDataCollectionEnabled:i,a.provider.initialize(s)}const M1="app-check",Hy="app-check-internal";function V1(){Rr(new Ui(M1,s=>{const e=s.getProvider("app").getImmediate(),i=s.getProvider("heartbeat");return v1(e,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((s,e,i)=>{s.getProvider(Hy).initialize()})),Rr(new Ui(Hy,s=>{const e=s.getProvider("app-check").getImmediate();return _1(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Mi(E1,T1)}V1();const x1={apiKey:"AIzaSyD73NUn3dESrSkAFBQfywqJmAjyDKDGzeE",authDomain:"votometro-5dec8.firebaseapp.com",projectId:"votometro-5dec8",storageBucket:"votometro-5dec8.firebasestorage.app",messagingSenderId:"410453365556",appId:"1:410453365556:web:670182c618218ca1220b61"},O_=sv(x1),U1=xb(O_);I1(O_,{provider:new Dd("6LeEke0qAAAAAKA11Yv12fIwBk5mPRu9wUJFixvx"),isTokenAutoRefreshEnabled:!0});function I_(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function N_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const k1=N_,M_=new Sa("auth","Firebase",N_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new nc("@firebase/auth");function L1(s,...e){Ju.logLevel<=Rt.WARN&&Ju.warn(`Auth (${ic}): ${s}`,...e)}function Uu(s,...e){Ju.logLevel<=Rt.ERROR&&Ju.error(`Auth (${ic}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(s,...e){throw Od(s,...e)}function V_(s,...e){return Od(s,...e)}function x_(s,e,i){const a=Object.assign(Object.assign({},k1()),{[e]:i});return new Sa("auth","Firebase",a).create(e,{appName:s.name})}function ku(s){return x_(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Od(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return M_.create(s,...e)}function Lt(s,e,...i){if(!s)throw Od(e,...i)}function zl(s){const e="INTERNAL ASSERTION FAILED: "+s;throw Uu(e),new Error(e)}function Wu(s,e){s||zl(e)}function P1(){return Gy()==="http:"||Gy()==="https:"}function Gy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(P1()||PE()||"connection"in navigator)?navigator.onLine:!0}function B1(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,i){this.shortDelay=e,this.longDelay=i,Wu(i>e,"Short delay should be less than long delay!"),this.isMobile=UE()||zE()}get(){return z1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s,e){Wu(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=new to(3e4,6e4);function k_(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function mc(s,e,i,a,o={}){return L_(s,o,async()=>{let f={},m={};a&&(e==="GET"?m=a:f={body:JSON.stringify(a)});const v=nv(Object.assign({key:s.config.apiKey},m)).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:e,headers:y},f);return LE()||(_.referrerPolicy="no-referrer"),U_.fetch()(P_(s,s.config.apiHost,i,v),_)})}async function L_(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},H1),e);try{const o=new G1(s),f=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const m=await f.json();if("needConfirmation"in m)throw Iu(s,"account-exists-with-different-credential",m);if(f.ok&&!("errorMessage"in m))return m;{const v=f.ok?m.errorMessage:m.error.message,[y,_]=v.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(s,"credential-already-in-use",m);if(y==="EMAIL_EXISTS")throw Iu(s,"email-already-in-use",m);if(y==="USER_DISABLED")throw Iu(s,"user-disabled",m);const I=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw x_(s,I,_);qy(s,I)}}catch(o){if(o instanceof Ir)throw o;qy(s,"network-request-failed",{message:String(o)})}}function P_(s,e,i,a){const o=`${e}${i}?${a}`;return s.config.emulator?j1(s.config,o):`${s.config.apiScheme}://${o}`}class G1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(V_(this.auth,"network-request-failed")),q1.get())})}}function Iu(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=V_(s,e,a);return o.customData._tokenResponse=i,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(s,e){return mc(s,"POST","/v1/accounts:delete",e)}async function z_(s,e){return mc(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q1(s,e=!1){const i=ni(s),a=await i.getIdToken(e),o=B_(a);Lt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const f=typeof o.firebase=="object"?o.firebase:void 0,m=f==null?void 0:f.sign_in_provider;return{claims:o,token:a,authTime:Bl(If(o.auth_time)),issuedAtTime:Bl(If(o.iat)),expirationTime:Bl(If(o.exp)),signInProvider:m||null,signInSecondFactor:(f==null?void 0:f.sign_in_second_factor)||null}}function If(s){return Number(s)*1e3}function B_(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return Uu("JWT malformed, contained fewer than 3 sections"),null;try{const o=Wy(i);return o?JSON.parse(o):(Uu("Failed to decode base64 JWT payload"),null)}catch(o){return Uu("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Fy(s){const e=B_(s);return Lt(e,"internal-error"),Lt(typeof e.exp<"u","internal-error"),Lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $f(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof Ir&&K1(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function K1({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(s){var e;const i=s.auth,a=await s.getIdToken(),o=await $f(s,z_(i,{idToken:a}));Lt(o==null?void 0:o.users.length,i,"internal-error");const f=o.users[0];s._notifyReloadListener(f);const m=!((e=f.providerUserInfo)===null||e===void 0)&&e.length?j_(f.providerUserInfo):[],v=$1(s.providerData,m),y=s.isAnonymous,_=!(s.email&&f.passwordHash)&&!(v!=null&&v.length),I=y?_:!1,U={uid:f.localId,displayName:f.displayName||null,photoURL:f.photoUrl||null,email:f.email||null,emailVerified:f.emailVerified||!1,phoneNumber:f.phoneNumber||null,tenantId:f.tenantId||null,providerData:v,metadata:new Zf(f.createdAt,f.lastLoginAt),isAnonymous:I};Object.assign(s,U)}async function X1(s){const e=ni(s);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $1(s,e){return[...s.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function j_(s){return s.map(e=>{var{providerId:i}=e,a=I_(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(s,e){const i=await L_(s,{},async()=>{const a=nv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:f}=s.config,m=P_(s,o,"/v1/token",`key=${f}`),v=await s._getAdditionalHeaders();return v["Content-Type"]="application/x-www-form-urlencoded",U_.fetch()(m,{method:"POST",headers:v,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function J1(s,e){return mc(s,"POST","/v2/accounts:revokeToken",k_(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lt(e.idToken,"internal-error"),Lt(typeof e.idToken<"u","internal-error"),Lt(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){Lt(e.length!==0,"internal-error");const i=Fy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:o,expiresIn:f}=await Z1(e,i);this.updateTokensAndExpiration(a,o,Number(f))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:o,expirationTime:f}=i,m=new pa;return a&&(Lt(typeof a=="string","internal-error",{appName:e}),m.refreshToken=a),o&&(Lt(typeof o=="string","internal-error",{appName:e}),m.accessToken=o),f&&(Lt(typeof f=="number","internal-error",{appName:e}),m.expirationTime=f),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pa,this.toJSON())}_performRefresh(){return zl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(s,e){Lt(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class Tr{constructor(e){var{uid:i,auth:a,stsTokenManager:o}=e,f=I_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=f.displayName||null,this.email=f.email||null,this.emailVerified=f.emailVerified||!1,this.phoneNumber=f.phoneNumber||null,this.photoURL=f.photoURL||null,this.isAnonymous=f.isAnonymous||!1,this.tenantId=f.tenantId||null,this.providerData=f.providerData?[...f.providerData]:[],this.metadata=new Zf(f.createdAt||void 0,f.lastLoginAt||void 0)}async getIdToken(e){const i=await $f(this,this.stsTokenManager.getToken(this.auth,e));return Lt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Q1(this,e)}reload(){return X1(this)}_assign(e){this!==e&&(Lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){Lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await tc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(ku(this.auth));const e=await this.getIdToken();return await $f(this,F1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,o,f,m,v,y,_,I;const U=(a=i.displayName)!==null&&a!==void 0?a:void 0,H=(o=i.email)!==null&&o!==void 0?o:void 0,$=(f=i.phoneNumber)!==null&&f!==void 0?f:void 0,X=(m=i.photoURL)!==null&&m!==void 0?m:void 0,ot=(v=i.tenantId)!==null&&v!==void 0?v:void 0,et=(y=i._redirectEventId)!==null&&y!==void 0?y:void 0,Tt=(_=i.createdAt)!==null&&_!==void 0?_:void 0,ht=(I=i.lastLoginAt)!==null&&I!==void 0?I:void 0,{uid:pt,emailVerified:Pt,isAnonymous:dt,providerData:wt,stsTokenManager:V}=i;Lt(pt&&V,e,"internal-error");const w=pa.fromJSON(this.name,V);Lt(typeof pt=="string",e,"internal-error"),Er(U,e.name),Er(H,e.name),Lt(typeof Pt=="boolean",e,"internal-error"),Lt(typeof dt=="boolean",e,"internal-error"),Er($,e.name),Er(X,e.name),Er(ot,e.name),Er(et,e.name),Er(Tt,e.name),Er(ht,e.name);const S=new Tr({uid:pt,auth:e,email:H,emailVerified:Pt,displayName:U,isAnonymous:dt,photoURL:X,phoneNumber:$,tenantId:ot,stsTokenManager:w,createdAt:Tt,lastLoginAt:ht});return wt&&Array.isArray(wt)&&(S.providerData=wt.map(C=>Object.assign({},C))),et&&(S._redirectEventId=et),S}static async _fromIdTokenResponse(e,i,a=!1){const o=new pa;o.updateFromServerResponse(i);const f=new Tr({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await tc(f),f}static async _fromGetAccountInfoResponse(e,i,a){const o=i.users[0];Lt(o.localId!==void 0,"internal-error");const f=o.providerUserInfo!==void 0?j_(o.providerUserInfo):[],m=!(o.email&&o.passwordHash)&&!(f!=null&&f.length),v=new pa;v.updateFromIdToken(a);const y=new Tr({uid:o.localId,auth:e,stsTokenManager:v,isAnonymous:m}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(f!=null&&f.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy=new Map;function ds(s){Wu(s instanceof Function,"Expected a class definition");let e=Qy.get(s);return e?(Wu(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Qy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}H_.type="NONE";const Ky=H_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(s,e,i){return`firebase:${s}:${e}:${i}`}class ya{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:o,name:f}=this.auth;this.fullUserKey=Nf(this.userKey,o.apiKey,f),this.fullPersistenceKey=Nf("persistence",o.apiKey,f),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new ya(ds(Ky),e,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let f=o[0]||ds(Ky);const m=Nf(a,e.config.apiKey,e.name);let v=null;for(const _ of i)try{const I=await _._get(m);if(I){const U=Tr._fromJSON(e,I);_!==f&&(v=U),f=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!f._shouldAllowMigration||!y.length?new ya(f,e,a):(f=y[0],v&&await f._set(m,v.toJSON()),await Promise.all(i.map(async _=>{if(_!==f)try{await _._remove(m)}catch{}})),new ya(f,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(W1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rR(e))return"Blackberry";if(sR(e))return"Webos";if(tR(e))return"Safari";if((e.includes("chrome/")||eR(e))&&!e.includes("edge/"))return"Chrome";if(iR(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function W1(s=Pn()){return/firefox\//i.test(s)}function tR(s=Pn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eR(s=Pn()){return/crios\//i.test(s)}function nR(s=Pn()){return/iemobile/i.test(s)}function iR(s=Pn()){return/android/i.test(s)}function rR(s=Pn()){return/blackberry/i.test(s)}function sR(s=Pn()){return/webos/i.test(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(s,e=[]){let i;switch(s){case"Browser":i=Yy(Pn());break;case"Worker":i=`${Yy(Pn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${ic}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=f=>new Promise((m,v)=>{try{const y=e(f);m(y)}catch(y){v(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(s,e={}){return mc(s,"GET","/v2/passwordPolicy",k_(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=6;class uR{constructor(e){var i,a,o,f;const m=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=m.minPasswordLength)!==null&&i!==void 0?i:oR,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(f=e.forceUpgradeOnSignin)!==null&&f!==void 0?f:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,o,f,m,v;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,y),this.validatePasswordCharacterOptions(e,y),y.isValid&&(y.isValid=(i=y.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),y.isValid&&(y.isValid=(a=y.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),y.isValid&&(y.isValid=(o=y.containsLowercaseLetter)!==null&&o!==void 0?o:!0),y.isValid&&(y.isValid=(f=y.containsUppercaseLetter)!==null&&f!==void 0?f:!0),y.isValid&&(y.isValid=(m=y.containsNumericCharacter)!==null&&m!==void 0?m:!0),y.isValid&&(y.isValid=(v=y.containsNonAlphanumericCharacter)!==null&&v!==void 0?v:!0),y}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),o&&(i.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,o,f){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e,i,a,o){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xy(this),this.idTokenSubscription=new Xy(this),this.beforeStateQueue=new aR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=ds(i)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await ya.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await z_(this,{idToken:e}),a=await Tr._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(cs(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(v,v))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,f=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,v=o==null?void 0:o._redirectEventId,y=await this.tryRedirectSignIn(e);(!m||m===v)&&(y!=null&&y.user)&&(o=y.user,f=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(f)try{await this.beforeStateQueue.runMiddleware(o)}catch(m){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await tc(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(cs(this.app))return Promise.reject(ku(this));const i=e?ni(e):null;return i&&Lt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&Lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(ku(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return cs(this.app)?Promise.reject(ku(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lR(this),i=new uR(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sa("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await J1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&ds(e)||this._popupRedirectResolver;Lt(i,this,"argument-error"),this.redirectPersistenceManager=await ya.create(this,[ds(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,o){if(this._deleted)return()=>{};const f=typeof i=="function"?i:i.next.bind(i);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lt(v,this,"internal-error"),v.then(()=>{m||f(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,a,o);return()=>{m=!0,y()}}else{const y=e.addObserver(i);return()=>{m=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=q_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var e;if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&L1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function hR(s){return ni(s)}class Xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=FE(i=>this.observer=i)}get next(){return Lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function fR(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}new to(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new to(5e3,15e3);var $y="@firebase/auth",Zy="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gR(s){Rr(new Ui("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),f=e.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=a.options;Lt(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:m,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q_(s)},_=new cR(a,o,f,y);return fR(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),Rr(new Ui("auth-internal",e=>{const i=hR(e.getProvider("auth").getImmediate());return(a=>new dR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mi($y,Zy,mR(s)),Mi($y,Zy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=5*60;VE("authIdTokenMaxAge");gR("Browser");function yR(){const[s,e]=tn.useState([]),[i,a]=tn.useState([]),[o,f]=tn.useState(0),[m,v]=tn.useState([]),[y,_]=tn.useState([]),[I,U]=tn.useState(null),[H,$]=tn.useState(null),[X,ot]=tn.useState({}),[et,Tt]=tn.useState(null),[ht,pt]=tn.useState(!1);tn.useEffect(()=>{fetch("https://josevalqui.github.io/votometro/questions.json").then(A=>A.json()).then(A=>{console.log("Fetched questions:",A),Array.isArray(A)&&A.length>0?(e(A),v(Array(A.length).fill(null))):console.error("Invalid questions data:",A)}).catch(A=>console.error("Error fetching questions:",A))},[]),tn.useEffect(()=>{fetch("https://josevalqui.github.io/votometro/question_details.json").then(A=>A.json()).then(A=>{console.log("Fetched question details:",A),a(A)}).catch(A=>console.error("Error fetching question details:",A))},[]),tn.useEffect(()=>{s.length&&_(Array(s.length).fill(3))},[s]);const Pt=A=>{v(O=>{const b=[...O];return b[o]=A,b}),o<s.length-1&&f(o+1)},dt=()=>{o<s.length-1&&f(o+1)},wt=()=>{o>0&&f(o-1)},V=()=>{console.log("Submitted answers:",s.map((A,O)=>({id:A.id,question:A.question,answer:m[O]||"Sin respuesta",weight:y[O]})))},w=async()=>{const A={userId:localStorage.getItem("userId")||Date.now(),answers:m,createdAt:new Date};localStorage.setItem("userId",A.userId);try{const O=await Kb(Mb(U1,"quizAnswers"),A);console.log("Document written with ID:",O.id)}catch(O){console.error("Error adding document:",O)}},S=()=>{V(),w(),$(null),pt(!1),f(s.length);const A={},O={Sí:1,"No tengo una opinión sobre este tema":.5,No:0};s.forEach((b,Ht)=>{const qt=m[Ht]||"No tengo una opinión sobre este tema";A[b.id]={answer:O[qt]||.5,weight:y[Ht]}}),fetch("https://josevalqui.github.io/votometro/processed_votes.json").then(b=>b.json()).then(b=>{const Ht=b.candidates.map(nt=>{let it=0,Dt=0;Object.entries(nt.votes).forEach(([K,st])=>{if(st===null)return;const W=K.split("_")[0];if(A[W]){const{answer:tt,weight:gt}=A[W];it+=Math.abs(tt-st)*gt,Dt+=gt}});const D=Dt>0?Math.round((1-it/Dt)*100):0;return{name:nt.name,party:nt.party,similarity_score:D}});Ht.sort((nt,it)=>it.similarity_score-nt.similarity_score);const qt={};Ht.forEach(nt=>{qt[nt.party]||(qt[nt.party]={total:0,count:0}),qt[nt.party].total+=nt.similarity_score,qt[nt.party].count+=1});const J=Object.entries(qt).map(([nt,it])=>({party:nt,average_similarity_score:Math.round(it.total/it.count)}));J.sort((nt,it)=>it.average_similarity_score-nt.average_similarity_score),U({individual_results:Ht,party_results:J})}).catch(b=>console.error("Error fetching processed votes:",b))},C=(A,O)=>{$(A),fetch("https://josevalqui.github.io/votometro/vote_details.json").then(b=>b.json()).then(b=>{O==="individual"?ot(b.candidates[A.name]||{}):O==="party"&&ot({party_meta:b.party_meta[A.party]||{},details:b.parties[A.party]||[]})}).catch(b=>console.error("Error fetching vote details:",b))};return G.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",minHeight:"90vh",width:"100vw",overflowY:"auto",padding:"20px"},children:G.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",maxWidth:"1100px"},children:s.length===0?G.jsx("h2",{children:"Loading..."}):o<s.length?G.jsxs(G.Fragment,{children:[G.jsx("div",{style:{marginBottom:"10px"},children:G.jsxs("h3",{children:[o+1," / ",s.length]})}),G.jsxs("div",{style:{marginBottom:"20px"},children:[G.jsx("label",{children:"Importancia de este tema:"}),G.jsx("br",{}),G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[G.jsx("span",{style:{fontSize:"14px"},children:"Poca"}),G.jsx("input",{type:"range",min:"1",max:"5",value:y[o]!==void 0?y[o]:3,onChange:A=>{const O=[...y];O[o]=Number(A.target.value),_(O)},style:{flexGrow:1}}),G.jsx("span",{style:{fontSize:"14px"},children:"Mucha"})]})]}),G.jsx("h2",{children:s[o].question}),s[o].options.map((A,O)=>G.jsx("button",{onClick:()=>Pt(A),onMouseEnter:()=>Tt(A),onMouseLeave:()=>Tt(null),style:{margin:"10px",padding:"10px 40px",fontSize:"16px",cursor:"pointer",display:"block",width:"100%",backgroundColor:m[o]===A||et===A?"black":"darkslategrey",color:"white",border:"1px solid #ccc",borderRadius:"5px"},children:A},O)),G.jsxs("div",{style:{marginTop:"20px"},children:[G.jsx("button",{onClick:wt,disabled:o===0,style:{marginRight:"10px",padding:"10px 20px",fontSize:"16px",cursor:o===0?"not-allowed":"pointer",opacity:o===0?.5:1},children:"Volver"}),G.jsx("button",{onClick:()=>{o===s.length-1?S():dt()},style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer"},children:o===s.length-1?"Terminar encuesta":"Saltar"})]}),G.jsxs("div",{style:{marginTop:"20px"},children:[G.jsx("h3",{children:"Current Answers:"}),G.jsx("ul",{style:{listStyleType:"none",padding:0,textAlign:"left"},children:m.map((A,O)=>G.jsxs("li",{children:[G.jsxs("strong",{children:["Q",O+1,":"]})," ",A||"Sin respuesta"]},O))})]})]}):G.jsxs(G.Fragment,{children:[G.jsx("h2",{children:"Completaste el Votómetro!"}),G.jsxs("div",{style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-start",width:"100%"},children:[G.jsx("button",{onClick:()=>pt(!1),onMouseEnter:A=>{A.target.style.backgroundColor="black",A.target.style.color="white"},onMouseLeave:A=>{A.target.style.backgroundColor=ht?"darkslategrey":"black"},style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:ht?"darkslategrey":"black",color:"white",border:"1px solid #ccc",borderRadius:"5px",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out"},children:"Partidos políticos"}),G.jsx("button",{onClick:()=>pt(!0),onMouseEnter:A=>{A.target.style.backgroundColor="black",A.target.style.color="white"},onMouseLeave:A=>{A.target.style.backgroundColor=ht?"black":"darkslategrey"},style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:ht?"black":"darkslategrey",color:"white",border:"1px solid #ccc",borderRadius:"5px",transition:"background-color 0.2s ease-in-out, color 0.2s ease-in-out"},children:"Congresistas"})]}),G.jsxs("div",{style:{display:"flex",width:"100%"},children:[G.jsx("div",{style:{flex:1},children:I&&G.jsx("div",{style:{marginTop:"20px",width:"100%"},children:ht?G.jsxs("ul",{style:{listStyleType:"none",padding:0,textAlign:"left",maxHeight:"40vh",overflowY:"auto"},children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",paddingBottom:"5px",borderBottom:"1px solid #ccc",paddingRight:"10px"},children:[G.jsx("span",{children:"Congresista"}),G.jsx("span",{style:{marginLeft:"auto",paddingRight:"10px"},children:"Similaridad"})]}),I.individual_results.map((A,O)=>{var b;return G.jsxs("li",{style:{cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},onClick:()=>C(A,"individual"),children:[G.jsxs("span",{children:[((b=A.names)==null?void 0:b.join(", "))||A.name," (",A.party,")"]}),G.jsxs("span",{style:{marginLeft:"auto",fontWeight:"bold",paddingRight:"15px"},children:[A.similarity_score,"%"]})]},O)})]}):G.jsxs(G.Fragment,{children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",paddingBottom:"5px",borderBottom:"1px solid #ccc",paddingRight:"10px"},children:[G.jsx("span",{children:"Partido"}),G.jsx("span",{style:{marginLeft:"auto",paddingRight:"10px"},children:"Similaridad"})]}),G.jsx("ul",{style:{listStyleType:"none",padding:0,textAlign:"left",width:"100%"},children:I.party_results.map((A,O)=>G.jsx("li",{style:{cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"5px 0"},onClick:()=>C(A,"party"),children:G.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-between"},children:[G.jsx("span",{children:G.jsx("strong",{children:A.party})}),G.jsxs("span",{style:{fontWeight:"bold",paddingRight:"15px"},children:[A.average_similarity_score,"%"]})]})},O))})]})})}),G.jsx("div",{style:{width:"50%",padding:"0px 0px 0px 15px",borderLeft:"1px solid #ccc",overflowY:"auto",maxHeight:"45vh",textAlign:"left"},children:H?G.jsxs(G.Fragment,{children:[G.jsx("h2",{style:{margin:"2px 0"},children:H.name?H.name:H.party}),X.candidate_meta&&G.jsx("div",{style:{marginBottom:"4px"},children:G.jsxs("p",{style:{margin:"2px 0"},children:[G.jsx("strong",{children:"Edad (2024):"})," ",X.candidate_meta.age,G.jsx("br",{}),G.jsx("strong",{children:"Sentencia penal:"})," ",X.candidate_meta.sentencia_penal,G.jsx("br",{}),G.jsx("strong",{children:"Partido:"})," ",X.candidate_meta.party,G.jsx("br",{}),G.jsx("strong",{children:"Asistencia:"})," ",X.candidate_meta.attendance||"N/A",G.jsx("br",{}),G.jsx("br",{})]})}),X.party_meta&&G.jsxs("div",{style:{marginBottom:"4px"},children:[G.jsxs("p",{style:{margin:"2px 0"},children:[G.jsx("strong",{children:"Edad promedio:"})," ",X.party_meta.average_age,G.jsx("br",{}),G.jsx("strong",{children:"Asistencia promedio:"})," ",X.party_meta.average_attendance_percentage||"N/A","%",G.jsx("br",{}),G.jsx("strong",{children:"Sentencia penal:"})," ",X.party_meta.sentencia_penal.yes,"/",X.party_meta.sentencia_penal.total," congresistas",G.jsx("br",{})]}),G.jsx("br",{})]}),X.details&&X.details.length>0?i.length>0?i.map((A,O)=>{let b=X.details.find(Ht=>Ht.id===A.id)||{};return G.jsxs("div",{style:{marginBottom:"2px",lineHeight:"1.2"},children:[G.jsxs("p",{style:{margin:"2px 0"},children:[G.jsx("strong",{children:"Statement:"})," ",A.question," ",G.jsx("br",{}),G.jsxs("small",{style:{color:"gray",fontSize:"0.9em"},children:[G.jsx("strong",{children:"Proyecto de ley:"})," ",A.law?A.law:"N/A"]})]}),G.jsxs("p",{style:{margin:"2px 0"},children:[G.jsx("strong",{children:"Fecha de la votación:"})," ",b.date||"N/A"," ",G.jsx("br",{}),X.party_meta?G.jsxs(G.Fragment,{children:[G.jsx("strong",{children:"Voto más común:"})," ",b.vote||"N/A"," ",G.jsx("br",{})]}):G.jsxs(G.Fragment,{children:[G.jsx("strong",{children:"Voto:"})," ",b.vote||"N/A"," ",G.jsx("br",{})]})]}),G.jsxs("p",{style:{margin:"2px 0"},children:[G.jsx("strong",{children:"Documento y noticias:"})," ",A.source?G.jsxs(G.Fragment,{children:[G.jsx("a",{href:A.pdf_link,target:"_blank",rel:"noopener noreferrer",children:"Documento"})," ","|"," ",G.jsx("a",{href:A.source,target:"_blank",rel:"noopener noreferrer",children:new URL(A.source).hostname.replace("www.","")+"/..."})]}):"N/A"]}),G.jsx("br",{})]},O)}):G.jsx("p",{style:{margin:"2px 0"},children:"No vote details available."}):G.jsx("p",{style:{margin:"2px 0"},children:"No vote details available."})]}):G.jsx("p",{children:" "})})]}),G.jsxs("ul",{style:{listStyleType:"none",padding:0,textAlign:"left"},children:[G.jsx("strong",{children:"Tus respuestas:"}),m.map((A,O)=>{var b;return G.jsxs("li",{children:[(b=s[O])==null?void 0:b.question,": ",A||"Sin respuesta"]},O)})]}),G.jsx("div",{style:{marginTop:"20px",display:"flex",gap:"10px"},children:G.jsx("button",{onClick:()=>f(s.length-1),onMouseEnter:A=>A.target.style.backgroundColor="black",onMouseLeave:A=>A.target.style.backgroundColor="darkslategrey",style:{padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"darkslategrey",color:"white",border:"1px solid #ccc",borderRadius:"5px",transition:"background-color 0.2s ease-in-out"},children:"Volver a la encuesta"})})]})})})}SE.createRoot(document.getElementById("root")).render(G.jsx(tn.StrictMode,{children:G.jsx(yR,{})}));
